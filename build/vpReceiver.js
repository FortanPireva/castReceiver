(()=>{"use strict";const e=e=>{if(!e)return"00:00";let t=Math.floor(e/3600),s=Math.floor((e-3600*t)/60),i=Math.floor(e%60);return t?t.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0"):s.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")};class t{static DEBUG_VAST_SERVICE="DEBUG_VAST_SERVICE";constructor(e){this.receiver=e,this.adContainer=document.querySelector(".adContainer"),this.adsDisplayContainer=null,this.adsLoader=null,this.adsDisplayInitialized=!1,this.currentAds=null,this.initialized=!1,this.autoplayAllowed=!1,this.autoplayRequiresMuted=!1,this.hasErrors=!1}init(){this.initialized=!0,google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),this.adsDisplayContainer=new google.ima.AdDisplayContainer(this.adContainer,this.receiver.video),this.adsLoader=new google.ima.AdsLoader(this.adsDisplayContainer),this.adsLoader.getSettings().setPlayerType("cast/client-side"),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1)}onAllAdsCompleted(e){this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE,"ad completed")}onAdCompleted(e){this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE,"ad completed"),this.adsManager.destroy(),!this.hasErrors&&this.receiver.isAdPlaying&&this.receiver.onEnd()}onContentPauseRequested(e){this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE,"Content Pause Request")}onContentResumeRequested(){this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE,"Content Resume Request")}onAdLoaded(e){this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE,"Ad loaded")}loadAds(e,s){this.currentAds={},this.initialized||this.init(),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE,"load "+e),e?(this.currentAds.content=e,this.currentAds.type="url"):s&&(this.currentAds.content=s,this.currentAds.type="xml"),this.currentAds.currentAdIndex=0,this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE),"url"===this.currentAds.type?this.load(this.currentAds.content):this.load(null,this.currentAds.content)}load(e,s){if(this.initialized||this.init(),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE,"Initialized"+this.vastUrl),this.adsRequest=new google.ima.AdsRequest,e)this.adsRequest.adTagUrl=e;else{if(!s)return;this.adsRequest.adsResponse=s}this.adsRequest.linearAdSlotWidth=this.receiver.video.clientWidth,this.adsRequest.linearAdSlotHeight=this.receiver.video.clientHeight,this.adsRequest.nonLinearAdSlotWidth=this.receiver.video.clientWidth,this.adsRequest.nonLinearAdSlotHeight=this.receiver.video.clientHeight/3,this.adsRequest.setAdWillAutoPlay(this.autoplayAllowed),this.adsRequest.setAdWillPlayMuted(this.autoplayRequiresMuted),this.receiver.castDebugLogger.debug("okej e qity pra","Asdf"),this.adsRequest.vastLoadTimeout=8e3,this.adsLoader.requestAds(this.adsRequest),this.receiver.castDebugLogger.debug("okej e qity pra","Asdf123")}onTimeUpdate(){this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," ON TIME UPDATE")}onAdSkip(e){this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE,"ON AD Ski")}onAdStarted(e){this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE,"ON AD STARTED")}onAdsManagerLoaded(e){this.adsManager&&this.adsManager.destroy(),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," before getadsmanager");const s=new google.ima.AdsRenderingSettings;this.adsManager=e.getAdsManager(this.receiver.video,s),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," after getadsmanager"),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," after onaderror"),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," after onContentPauseRequested"),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," after onAllAdsCompleted"),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," after onAdLoaded"),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," after onAdStarted"),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," after onAdCompleted"),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdCompleted.bind(this)),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," after onContentPauseRequested"),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdSkip.bind(this)),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," after onAdSkip"),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,this.onTimeUpdate.bind(this)),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," after onTimeUpdate"),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BUFFERING,(()=>{this.loading=!0})),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(()=>{Utils.fire(this.adContainer,Events.adEvents.AD_SKIPPABLE,{currentTime:this.player.video.currentTime,adPlayId:this.adsManager.getCurrentAd()?.getAdId()})})),this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," just before playing ad"),this.playAds()}playAds(){this.adsDisplayInitialized||(this.adsDisplayContainer.initialize(),this.adsDisplayInitialized=!0);const e=this.receiver.video.clientWidth,t=this.receiver.video.clientHeight;try{this.receiver.isAdPlaying=!0,this.adsManager.init(e,t,google.ima.ViewMode.FULLSCREEN),this.adsManager.start(),this.receiver.receiverControls.loader.style.display="none"}catch(e){this.receiver.castDebugLogger.debug(this.VastService.DEBUG_VAST_SERVICE,"AdsManager could not be started"+e.getMessage())}}onAdError(e){this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE," ad error"+e),this.hasErrors=!0,this.receiver.onEnd().bind(this.receiver)}resume(){this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE,"RESUMING AD Event"),this.adsManager&&this.adsManager.resume()}pause(){this.receiver.castDebugLogger.debug(t.DEBUG_VAST_SERVICE,"PAUSE AD Event"),this.adsManager&&this.adsManager.pause()}}const s=t;function i(t,i){let a=new class{constructor(t,i){this.context=null,this.playerManager=null,this.castDebugLogger=null,this.appId=i.appId,this.video=document.querySelector(t),this.playbackConfig=null,this.controls=null,this.hls=null,this.videoObject={},this.videoContainer=this.video.parentElement,this.playbackRate=1,this.autoplay=!1,this.receiverControls=new class{constructor(t){this.seekbar=new class{constructor(e){this.element=document.querySelector(e),this.castdebugger=null,this.show=!1}setCastDebugger(e){this.castdebugger=e}setProgress(e,t){this.element.style.width=e/t*100+"%"}showHide(e){this.castdebugger.debug("showHide",`${e} ${this.show}`),this.show?this.element.parentElement.style.display="block":setTimeout((()=>{this.element.parentElement.style.display="none"}),e)}animateSeekbar(){let e=this.element.parentElement.clientWidth;clearInterval((()=>{let t=this.element.getBoundingClientRect().left,s=this.element.getBoundingClientRect().left,i=this.element.getBoundingClientRect().right;this.element.clientWidth>=e/5?this.element.style.width=`${this.element.clientWidth+10}px`:t<i?this.element.style.left=`${t+10}px`:(this.element.style.left=`${s}px`,this.element.style.width="0px")}),10)}}(".seekbar-progress"),this.timer=new class{constructor(e){this.element=document.querySelector(e),this.element.textContent="00:00 / 00:00"}update(t,s){this.element.textContent=`${e(t)} /${e(s)}`}}(".timer"),this.castDebugger=null,this.element=document.querySelector(t),this.overlay=this.element.parentElement,this.videoInfo=this.overlay.children[0],this.show=!0,this.loader=document.querySelector(".loader"),this.playIcon=document.querySelector(".vp-icon-play"),this.pauseIcon=document.querySelector(".vp-icon-pause"),this.videoInfo=document.querySelector(".info"),this.splashScreen=document.querySelector(".splash-screen")}setCastDebugger(e){this.castDebugger=e,this.seekbar.setCastDebugger(this.castDebugger)}pause(){this.pauseIcon.style.display="none",this.playIcon.style.display="block",setTimeout((()=>{this.playIcon.style.display="none"}),2e3)}play(){this.playIcon.style.display="none",this.pauseIcon.style.display="block",setTimeout((()=>{this.pauseIcon.style.display="none"}),2e3)}update(e){this.seekbar.setProgress(e.currentTime,e.duration),this.timer.update(e.currentTime,e.duration)}hideControls(e){this.show=!1,this.showHide(e||5e3)}showControls(){this.show=!0,this.showHide(10)}showHide(e){this.show?this.element.style.display="flex":setTimeout((()=>{this.element.style.display="none"}),e)}}(".controls"),this.mediaManager=null,this.castReceiverManager=null,this.videoStarted=!1,this.vastService=new s(this),this.config={},this.debugTags={LOAD_REQUEST:"LOAD_REQUEST",ATTACH_MEDIA:"ATTACH_MEDIA",ONPLAY:"ON_PLAY",START:"START",INIT:"INIT",EVENTS:"EVENTS",ONEND:"ONEND",BROADCAST:"BROADCAST"},this.isAdPlaying=!1,this.NAMESPACE="urn:x-cast:tech.gjirafa.vp-service"}start(){setTimeout((()=>{this.receiverControls.videoInfo.style.display="none"}),2e3),this.castDebugLogger.debug(this.debugTags.START,"Starting video..."),this.onPlay()}onPlay(){this.castDebugLogger.debug("on play",this.video.getAttribute("src")),this.castDebugLogger.debug("isadplaying",this.isAdPlaying),this.isAdPlaying?this.vastService.resume():this.video.play().then((()=>{this.videoStarted?this.receiverControls.play():(this.receiverControls.showControls(),this.videoStarted=!0),this.receiverControls.hideControls(6e3)})).catch((e=>{this.castDebugLogger.debug(this.debugTags.ONPLAY," Couldn't play video.Tring one more time "+e)}))}onPause(){this.isAdPlaying?this.vastService.pause():this.video.pause(),this.receiverControls.pause(),this.receiverControls.showControls()}addPlayerEvents(){this.video.addEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("ended",this.onEnd.bind(this))}broadcast(e){this.castDebugLogger.debug(this.debugTags.BROADCAST,e),this.context.sendCustomMessage(this.NAMESPACE,void 0,e)}onEnd(){this.castDebugLogger.debug("on End",this.config.replay);try{this.isAdPlaying?(this.broadcast({message:"Ad finished",code:2}),this.isAdPlaying=!1):this.broadcast({message:"Video finished",code:3})}catch(e){this.castDebugLogger.error(this.debugTags.ONEND," Error"+e.toString())}return null}onTimeUpdate(){this.receiverControls.update(this.updatePlayerState())}updatePlayerState(){return{currentTime:this.video.currentTime,duration:this.videoObject.duration}}attachMedia(){if(vpReceiver.HLSsupported=Hls.isSupported(),this.castDebugLogger.debug("inside attach media",vpReceiver.HLSsupported),this.video.playbackRate=1,this.castDebugLogger.debug("video file",JSON.stringify(this.video,["id","className","tagName"])),this.videoObject.file.endsWith("mp4"))this.castDebugLogger.debug("inside mp4",this.videoObject.file),this.video.src=this.videoObject.file,this.start();else if(vpReceiver.HLSsupported){this.castDebugLogger.debug("inside hlssupported",this.videoObject.file);try{this.hls=new Hls,this.castDebugLogger.debug("hls initialized",this.videoObject.file),this.currentTime>0&&(this.video.currentTime=this.currentTime),this.hls.attachMedia(this.video),this.castDebugLogger.debug("attached media",this.videoObject.file),this.hls.on(Hls.Events.MEDIA_ATTACHED,(()=>{this.castDebugLogger.debug("amedia attached",this.videoObject.file),this.hls.startLevel=0,this.castDebugLogger.debug("loading source hlssupported",this.videoObject.file),this.hls.loadSource(this.videoObject.file)})),this.hls.on(Hls.Events.MANIFEST_PARSED,((e,t)=>{this.start()})),this.hls.on(Hls.Events.ERROR,((e,t)=>{this.castDebugLogger.debug("HLS  ERROR",t.details)}))}catch(e){}}this.castDebugLogger.debug("finished attach media")}fakeinit(){this.castDebugLogger={debug:function(e,t){console.log(e,t)},error:function(e,t){console.log(e,t)}},this.receiverControls.setCastDebugger(this.castDebugLogger),this.videoObject.file="https://vp.gjirafa.net/vps/prod/odgehtyo/encode/vjsmylds/mp4/1080p.mp4",this.attachMedia(),this.bindMethods(),this.addPlayerEvents()}init(){this.context=cast.framework.CastReceiverContext.getInstance(),this.context.setLoggerLevel(cast.framework.LoggerLevel.DEBUG),this.castDebugLogger=cast.debug.CastDebugLogger.getInstance(),this.castDebugLogger.setEnabled(!0),this.castDebugLogger.debug(this.debugTags.INIT,"castdebugger initialized"),this.playerManager=this.context.getPlayerManager(),this.playerManager.setMediaElement(this.video),this.receiverControls.setCastDebugger(this.castDebugLogger);const e=new cast.framework.CastReceiverOptions;e.customNamespaces={},e.customNamespaces[this.NAMESPACE]=cast.framework.system.MessageType.JSON,this.context.start(e),this.bindMethods(),this.bindInterceptors(),this.addPlayerEvents()}onSeek(e){this.video.currentTime=e.currentTime,this.receiverControls.showControls(),this.receiverControls.hideControls(6e3),this.receiverControls.update(this.updatePlayerState())}drawButtons(){this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_SECONDARY_1,cast.framework.ui.ControlsButton.QUEUE_PREV),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_PRIMARY_1,cast.framework.ui.ControlsButton.CAPTIONS),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_PRIMARY_2,cast.framework.ui.ControlsButton.SEEK_FORWARD_15),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_SECONDARY_2,cast.framework.ui.ControlsButton.QUEUE_NEXT)}bindInterceptors(){this.context.addEventListener(cast.framework.system.EventType.SENDER_DISCONNECTED,(e=>{window.close()})),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.LOAD,this.onLoadRequest.bind(this)),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.PLAY,this.onPlay.bind(this)),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.PAUSE,this.onPause.bind(this)),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.SEEK,this.onSeek.bind(this))}bindMethods(){this.bindInterceptors=this.bindInterceptors.bind(this),this.onLoadRequest=this.onLoadRequest.bind(this),this.attachMedia=this.attachMedia.bind(this),this.start=this.start.bind(this),this.addPlayerEvents=this.addPlayerEvents.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onPlay=this.onPlay.bind(this),this.onPause=this.onPause.bind(this),this.updatePlayerState=this.updatePlayerState.bind(this),this.onEnd=this.onEnd.bind(this)}onLoadRequest(e){this.receiverControls.splashScreen.style.display="none",this.receiverControls.overlay.style.display="flex",this.castDebugLogger.debug("VPreceiver",e.media.contentId),this.castDebugLogger.debug("VPreceiver1",Hls.isSupported()),this.videoObject.file=e.media.contentId,this.videoObject.duration=e.media.metadata.duration,this.currentTime=e.currentTime,this.playbackRate=e.playbackRate,this.autoplay=e.autoplay,this.config.replay=void 0===e.replay||e.replay;try{e.customData.vastUrl||e.customData.vastXml,this.attachMedia(),this.broadcast({message:"attaching media"})}catch(e){this.broadcast({message:e.toString(),stack:e.stack})}return null}addBreaks(e){return castDebugLogger.debug(LOG_RECEIVER_TAG,"addBreaks: "+JSON.stringify(e)),fetchMediaById("fbb_ad").then((t=>{e.breakClips=[{id:"fbb_ad",title:t.title,contentUrl:t.stream.dash,contentType:"application/dash+xml",whenSkippable:5}],e.breaks=[{id:"pre-roll",breakClipIds:["fbb_ad"],position:0}]}))}fetchMediaById(e){return castDebugLogger.debug(LOG_RECEIVER_TAG,"fetching id: "+e),new Promise(((t,s)=>{fetch(CONTENT_URL).then((e=>e.json())).then((i=>{i?i[e]?t(i[e]):s(`${e} not found in repository`):s("Content repository not found.")}))}))}}(t,i);return a.init(),a}i.HLSsupported=!1,window.vpReceiver=i})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidnBSZWNlaXZlci5qcyIsIm1hcHBpbmdzIjoibUJBOENBLE1DTEEsRUF6Q29CQSxJQUNsQixJQUFLQSxFQUFNLE1BQU8sUUFFbEIsSUFBSUMsRUFBUUMsS0FBS0MsTUFBTUgsRUFBTyxNQUMxQkksRUFBVUYsS0FBS0MsT0FBT0gsRUFBZSxLQUFSQyxHQUFnQixJQUM3Q0ksRUFBVUgsS0FBS0MsTUFBTUgsRUFBTyxJQUdoQyxPQUFLQyxFQVNIQSxFQUFNSyxXQUFXQyxTQUFTLEVBQUcsS0FDN0IsSUFDQUgsRUFBUUUsV0FBV0MsU0FBUyxFQUFHLEtBQy9CLElBQ0FGLEVBQVFDLFdBQVdDLFNBQVMsRUFBRyxLQVg3QkgsRUFBUUUsV0FBV0MsU0FBUyxFQUFHLEtBQy9CLElBQ0FGLEVBQVFDLFdBQVdDLFNBQVMsRUFBRyxNQ1pyQyxNQUFNQyxFQUNxQiwwQkFBRyxxQkFDNUJDLFlBQVlDLEdBQ1ZDLEtBQUtELFNBQVdBLEVBQ2hCQyxLQUFLQyxZQUFjQyxTQUFTQyxjQUFjLGdCQUMxQ0gsS0FBS0ksb0JBQXNCLEtBQzNCSixLQUFLSyxVQUFZLEtBQ2pCTCxLQUFLTSx1QkFBd0IsRUFDN0JOLEtBQUtPLFdBQWEsS0FDbEJQLEtBQUtRLGFBQWMsRUFDbkJSLEtBQUtTLGlCQUFrQixFQUN2QlQsS0FBS1UsdUJBQXdCLEVBQzdCVixLQUFLVyxXQUFZLEVBR25CQyxPQUNFWixLQUFLUSxhQUFjLEVBQ25CSyxPQUFPQyxJQUFJQyxTQUFTQyxhQUNsQkgsT0FBT0MsSUFBSUcsZUFBZUMsVUFBVUMsU0FHdENuQixLQUFLSSxvQkFBc0IsSUFBSVMsT0FBT0MsSUFBSU0sbUJBQ3hDcEIsS0FBS0MsWUFDTEQsS0FBS0QsU0FBU3NCLE9BRWhCckIsS0FBS0ssVUFBWSxJQUFJUSxPQUFPQyxJQUFJUSxVQUFVdEIsS0FBS0kscUJBQy9DSixLQUFLSyxVQUFVa0IsY0FBY0MsY0FBYyxvQkFDM0N4QixLQUFLSyxVQUFVb0IsaUJBQ2JaLE9BQU9DLElBQUlZLHNCQUFzQkMsS0FBS0MsbUJBQ3RDNUIsS0FBSzZCLG1CQUFtQkMsS0FBSzlCLE9BQzdCLEdBR0ZBLEtBQUtLLFVBQVVvQixpQkFDYlosT0FBT0MsSUFBSWlCLGFBQWFKLEtBQUtLLFNBQzdCaEMsS0FBS2lDLFdBQ0wsR0FJSkMsa0JBQWtCQyxHQUNoQm5DLEtBQUtELFNBQVNxQyxnQkFBZ0JDLE1BQzVCeEMsRUFBWXlDLG1CQUNaLGdCQUdKQyxjQUFjSixHQUNabkMsS0FBS0QsU0FBU3FDLGdCQUFnQkMsTUFDNUJ4QyxFQUFZeUMsbUJBQ1osZ0JBRUZ0QyxLQUFLd0MsV0FBV0MsV0FDWHpDLEtBQUtXLFdBQWFYLEtBQUtELFNBQVMyQyxhQUFhMUMsS0FBS0QsU0FBUzRDLFFBSWxFQyx3QkFBd0JULEdBQ3RCbkMsS0FBS0QsU0FBU3FDLGdCQUFnQkMsTUFDNUJ4QyxFQUFZeUMsbUJBQ1oseUJBR0pPLDJCQUNFN0MsS0FBS0QsU0FBU3FDLGdCQUFnQkMsTUFDNUJ4QyxFQUFZeUMsbUJBQ1osMEJBR0pRLFdBQVdYLEdBQ1RuQyxLQUFLRCxTQUFTcUMsZ0JBQWdCQyxNQUM1QnhDLEVBQVl5QyxtQkFDWixhQUdKUyxRQUFRQyxFQUFTQyxHQUNmakQsS0FBS08sV0FBYSxHQUNiUCxLQUFLUSxhQUNSUixLQUFLWSxPQUVQWixLQUFLRCxTQUFTcUMsZ0JBQWdCQyxNQUM1QnhDLEVBQVl5QyxtQkFDWixRQUFVVSxHQUdSQSxHQUNGaEQsS0FBS08sV0FBVzJDLFFBQVVGLEVBQzFCaEQsS0FBS08sV0FBVzRDLEtBQU8sT0FDZEYsSUFDVGpELEtBQUtPLFdBQVcyQyxRQUFVRCxFQUMxQmpELEtBQUtPLFdBQVc0QyxLQUFPLE9BRXpCbkQsS0FBS08sV0FBVzZDLGVBQWlCLEVBQ2pDcEQsS0FBS0QsU0FBU3FDLGdCQUFnQkMsTUFBTXhDLEVBQVl5QyxvQkFDbkIsUUFBekJ0QyxLQUFLTyxXQUFXNEMsS0FBZ0JuRCxLQUFLcUQsS0FBS3JELEtBQUtPLFdBQVcyQyxTQUN6RGxELEtBQUtxRCxLQUFLLEtBQU1yRCxLQUFLTyxXQUFXMkMsU0FFdkNHLEtBQUtMLEVBQVNDLEdBUVosR0FQS2pELEtBQUtRLGFBQWFSLEtBQUtZLE9BQzVCWixLQUFLRCxTQUFTcUMsZ0JBQWdCQyxNQUM1QnhDLEVBQVl5QyxtQkFDWixjQUFnQnRDLEtBQUtnRCxTQUd2QmhELEtBQUtzRCxXQUFhLElBQUl6QyxPQUFPQyxJQUFJeUMsV0FDN0JQLEVBQ0ZoRCxLQUFLc0QsV0FBV0UsU0FBV1IsTUFDdEIsS0FBSUMsRUFHVCxPQUZBakQsS0FBS3NELFdBQVdHLFlBQWNSLEVBS2hDakQsS0FBS3NELFdBQVdJLGtCQUFvQjFELEtBQUtELFNBQVNzQixNQUFNc0MsWUFDeEQzRCxLQUFLc0QsV0FBV00sbUJBQXFCNUQsS0FBS0QsU0FBU3NCLE1BQU13QyxhQUN6RDdELEtBQUtzRCxXQUFXUSxxQkFBdUI5RCxLQUFLRCxTQUFTc0IsTUFBTXNDLFlBQzNEM0QsS0FBS3NELFdBQVdTLHNCQUNkL0QsS0FBS0QsU0FBU3NCLE1BQU13QyxhQUFlLEVBRXJDN0QsS0FBS3NELFdBQVdVLGtCQUFrQmhFLEtBQUtTLGlCQUN2Q1QsS0FBS3NELFdBQVdXLG1CQUFtQmpFLEtBQUtVLHVCQUN4Q1YsS0FBS0QsU0FBU3FDLGdCQUFnQkMsTUFBTSxrQkFBbUIsUUFFdkRyQyxLQUFLc0QsV0FBV1ksZ0JBQWtCLElBQ2xDbEUsS0FBS0ssVUFBVThELFdBQVduRSxLQUFLc0QsWUFDL0J0RCxLQUFLRCxTQUFTcUMsZ0JBQWdCQyxNQUFNLGtCQUFtQixXQUV6RCtCLGVBQ0VwRSxLQUFLRCxTQUFTcUMsZ0JBQWdCQyxNQUM1QnhDLEVBQVl5QyxtQkFDWixtQkFHSitCLFNBQVNsQyxHQUNQbkMsS0FBS0QsU0FBU3FDLGdCQUFnQkMsTUFDNUJ4QyxFQUFZeUMsbUJBQ1osYUFHSmdDLFlBQVluQyxHQUNWbkMsS0FBS0QsU0FBU3FDLGdCQUFnQkMsTUFDNUJ4QyxFQUFZeUMsbUJBQ1osaUJBR0pULG1CQUFtQjBDLEdBQ2J2RSxLQUFLd0MsWUFDUHhDLEtBQUt3QyxXQUFXQyxVQUVsQnpDLEtBQUtELFNBQVNxQyxnQkFBZ0JDLE1BQzVCeEMsRUFBWXlDLG1CQUNaLHlCQUVGLE1BQU1rQyxFQUF1QixJQUFJM0QsT0FBT0MsSUFBSTJELHFCQUM1Q3pFLEtBQUt3QyxXQUFhK0IsRUFBc0JHLGNBQ3RDMUUsS0FBS0QsU0FBU3NCLE1BQ2RtRCxHQUVGeEUsS0FBS0QsU0FBU3FDLGdCQUFnQkMsTUFDNUJ4QyxFQUFZeUMsbUJBQ1osd0JBRUZ0QyxLQUFLd0MsV0FBV2YsaUJBQ2RaLE9BQU9DLElBQUlpQixhQUFhSixLQUFLSyxTQUM3QmhDLEtBQUtpQyxVQUFVSCxLQUFLOUIsT0FFdEJBLEtBQUtELFNBQVNxQyxnQkFBZ0JDLE1BQzVCeEMsRUFBWXlDLG1CQUNaLG9CQUVGdEMsS0FBS3dDLFdBQVdmLGlCQUNkWixPQUFPQyxJQUFJNkQsUUFBUWhELEtBQUtpRCx3QkFDeEI1RSxLQUFLNEMsd0JBQXdCZCxLQUFLOUIsT0FFcENBLEtBQUtELFNBQVNxQyxnQkFBZ0JDLE1BQzVCeEMsRUFBWXlDLG1CQUNaLGtDQUVGdEMsS0FBS3dDLFdBQVdmLGlCQUNkWixPQUFPQyxJQUFJNkQsUUFBUWhELEtBQUtrRCx5QkFDeEI3RSxLQUFLNkMseUJBQXlCZixLQUFLOUIsT0FFckNBLEtBQUtELFNBQVNxQyxnQkFBZ0JDLE1BQzVCeEMsRUFBWXlDLG1CQUNaLDRCQUVGdEMsS0FBS3dDLFdBQVdmLGlCQUNkWixPQUFPQyxJQUFJNkQsUUFBUWhELEtBQUttRCxrQkFDeEI5RSxLQUFLa0Msa0JBQWtCSixLQUFLOUIsT0FFOUJBLEtBQUtELFNBQVNxQyxnQkFBZ0JDLE1BQzVCeEMsRUFBWXlDLG1CQUNaLHFCQUVGdEMsS0FBS3dDLFdBQVdmLGlCQUNkWixPQUFPQyxJQUFJNkQsUUFBUWhELEtBQUtvRCxPQUN4Qi9FLEtBQUs4QyxXQUFXaEIsS0FBSzlCLE9BRXZCQSxLQUFLRCxTQUFTcUMsZ0JBQWdCQyxNQUM1QnhDLEVBQVl5QyxtQkFDWixzQkFFRnRDLEtBQUt3QyxXQUFXZixpQkFDZFosT0FBT0MsSUFBSTZELFFBQVFoRCxLQUFLcUQsUUFDeEJoRixLQUFLc0UsWUFBWXhDLEtBQUs5QixPQUV4QkEsS0FBS0QsU0FBU3FDLGdCQUFnQkMsTUFDNUJ4QyxFQUFZeUMsbUJBQ1osd0JBRUZ0QyxLQUFLd0MsV0FBV2YsaUJBQ2RaLE9BQU9DLElBQUk2RCxRQUFRaEQsS0FBS3NELFNBQ3hCakYsS0FBS3VDLGNBQWNULEtBQUs5QixPQUUxQkEsS0FBS0QsU0FBU3FDLGdCQUFnQkMsTUFDNUJ4QyxFQUFZeUMsbUJBQ1osa0NBRUZ0QyxLQUFLd0MsV0FBV2YsaUJBQ2RaLE9BQU9DLElBQUk2RCxRQUFRaEQsS0FBS3VELFFBQ3hCbEYsS0FBS3FFLFNBQVN2QyxLQUFLOUIsT0FFckJBLEtBQUtELFNBQVNxQyxnQkFBZ0JDLE1BQzVCeEMsRUFBWXlDLG1CQUNaLG1CQUVGdEMsS0FBS3dDLFdBQVdmLGlCQUNkWixPQUFPQyxJQUFJNkQsUUFBUWhELEtBQUt3RCxZQUN4Qm5GLEtBQUtvRSxhQUFhdEMsS0FBSzlCLE9BRXpCQSxLQUFLRCxTQUFTcUMsZ0JBQWdCQyxNQUM1QnhDLEVBQVl5QyxtQkFDWix1QkFFRnRDLEtBQUt3QyxXQUFXZixpQkFDZFosT0FBT0MsSUFBSTZELFFBQVFoRCxLQUFLeUQsY0FDeEIsS0FDRXBGLEtBQUtxRixTQUFVLEtBR25CckYsS0FBS3dDLFdBQVdmLGlCQUNkWixPQUFPQyxJQUFJNkQsUUFBUWhELEtBQUsyRCx5QkFDeEIsS0FDRUMsTUFBTUMsS0FBS3hGLEtBQUtDLFlBQWF3RixPQUFPQyxTQUFTQyxhQUFjLENBQ3pEQyxZQUFhNUYsS0FBSzZGLE9BQU94RSxNQUFNdUUsWUFDL0JFLFNBQVU5RixLQUFLd0MsV0FBV3VELGdCQUFnQkMsZUFJaERoRyxLQUFLRCxTQUFTcUMsZ0JBQWdCQyxNQUM1QnhDLEVBQVl5QyxtQkFDWiwyQkFFRnRDLEtBQUtpRyxVQUVQQSxVQUNPakcsS0FBS00sd0JBQ1JOLEtBQUtJLG9CQUFvQjhGLGFBQ3pCbEcsS0FBS00sdUJBQXdCLEdBRS9CLE1BQU02RixFQUFRbkcsS0FBS0QsU0FBU3NCLE1BQU1zQyxZQUM1QnlDLEVBQVNwRyxLQUFLRCxTQUFTc0IsTUFBTXdDLGFBQ25DLElBQ0U3RCxLQUFLRCxTQUFTMkMsYUFBYyxFQUM1QjFDLEtBQUt3QyxXQUFXNUIsS0FBS3VGLEVBQU9DLEVBQVF2RixPQUFPQyxJQUFJdUYsU0FBU0MsWUFDeER0RyxLQUFLd0MsV0FBVytELFFBQ2hCdkcsS0FBS0QsU0FBU3lHLGlCQUFpQkMsT0FBT0MsTUFBTUMsUUFBVSxPQUN0RCxNQUFPQyxHQUNQNUcsS0FBS0QsU0FBU3FDLGdCQUFnQkMsTUFDNUJyQyxLQUFLSCxZQUFZeUMsbUJBQ2pCLGtDQUFvQ3NFLEVBQVFDLGVBSWxENUUsVUFBVUUsR0FDUm5DLEtBQUtELFNBQVNxQyxnQkFBZ0JDLE1BQzVCeEMsRUFBWXlDLG1CQUNaLFlBQWNILEdBRWhCbkMsS0FBS1csV0FBWSxFQUNqQlgsS0FBS0QsU0FBUzRDLFFBQVFiLEtBQUs5QixLQUFLRCxVQUVsQytHLFNBQ0U5RyxLQUFLRCxTQUFTcUMsZ0JBQWdCQyxNQUM1QnhDLEVBQVl5QyxtQkFDWixxQkFFR3RDLEtBQUt3QyxZQUNWeEMsS0FBS3dDLFdBQVdzRSxTQUVsQkMsUUFDRS9HLEtBQUtELFNBQVNxQyxnQkFBZ0JDLE1BQzVCeEMsRUFBWXlDLG1CQUNaLGtCQUVHdEMsS0FBS3dDLFlBQ1Z4QyxLQUFLd0MsV0FBV3VFLFNBSXBCLFVDdFNBLFNBQVNDLEVBQVdDLEVBQUlDLEdBQ3RCLElBQUluSCxFQUFXLElDSGpCLE1BQ0VELFlBQVltSCxFQUFJQyxHQUNkbEgsS0FBS21ILFFBQVUsS0FDZm5ILEtBQUtvSCxjQUFnQixLQUNyQnBILEtBQUtvQyxnQkFBa0IsS0FDdkJwQyxLQUFLcUgsTUFBUUgsRUFBT0csTUFDcEJySCxLQUFLcUIsTUFBUW5CLFNBQVNDLGNBQWM4RyxHQUNwQ2pILEtBQUtzSCxlQUFpQixLQUN0QnRILEtBQUt1SCxTQUFXLEtBQ2hCdkgsS0FBS3dILElBQU0sS0FDWHhILEtBQUt5SCxZQUFjLEdBQ25CekgsS0FBSzBILGVBQWlCMUgsS0FBS3FCLE1BQU1zRyxjQUNqQzNILEtBQUs0SCxhQUFlLEVBQ3BCNUgsS0FBSzZILFVBQVcsRUFDaEI3SCxLQUFLd0csaUJBQW1CLElDZjVCLE1BQ0UxRyxZQUFZbUgsR0FDVmpILEtBQUs4SCxRQUFVLElMSm5CLE1BQ0VoSSxZQUFZbUgsR0FDVmpILEtBQUsrSCxRQUFVN0gsU0FBU0MsY0FBYzhHLEdBQ3RDakgsS0FBS2dJLGFBQWUsS0FDcEJoSSxLQUFLaUksTUFBTyxFQUVkQyxnQkFBZ0JGLEdBQ2RoSSxLQUFLZ0ksYUFBZUEsRUFFdEJHLFlBQVk5SSxFQUFNK0ksR0FFaEJwSSxLQUFLK0gsUUFBUXJCLE1BQU1QLE1BQVM5RyxFQUFPK0ksRUFBWSxJQUFNLElBSXZEQyxTQUFTQyxHQUNQdEksS0FBS2dJLGFBQWEzRixNQUFNLFdBQWEsR0FBRWlHLEtBQVV0SSxLQUFLaUksUUFDbERqSSxLQUFLaUksS0FDUGpJLEtBQUsrSCxRQUFRSixjQUFjakIsTUFBTUMsUUFBVSxRQUUzQzRCLFlBQVcsS0FDVHZJLEtBQUsrSCxRQUFRSixjQUFjakIsTUFBTUMsUUFBVSxTQUMxQzJCLEdBR1BFLGlCQUNFLElBQUlDLEVBQWF6SSxLQUFLK0gsUUFBUUosY0FBY2hFLFlBRTdCK0UsZUFBYyxLQUMzQixJQUFJQyxFQUFlM0ksS0FBSytILFFBQVFhLHdCQUF3QkMsS0FDcERDLEVBQXFCOUksS0FBSytILFFBQVFhLHdCQUF3QkMsS0FDMURFLEVBQXNCL0ksS0FBSytILFFBQVFhLHdCQUF3QkksTUFDM0RoSixLQUFLK0gsUUFBUXBFLGFBQWU4RSxFQUFhLEVBQzNDekksS0FBSytILFFBQVFyQixNQUFNUCxNQUFTLEdBQUVuRyxLQUFLK0gsUUFBUXBFLFlBQWMsT0FFckRnRixFQUFlSSxFQUNqQi9JLEtBQUsrSCxRQUFRckIsTUFBTW1DLEtBQVEsR0FBRUYsRUFBZSxRQUU1QzNJLEtBQUsrSCxRQUFRckIsTUFBTW1DLEtBQVEsR0FBRUMsTUFDN0I5SSxLQUFLK0gsUUFBUXJCLE1BQU1QLE1BQVEsU0FHOUIsTUt0Q3dCLHFCQUMzQm5HLEtBQUtpSixNQUFRLElDSGpCLE1BQ0VuSixZQUFZbUgsR0FDVmpILEtBQUsrSCxRQUFVN0gsU0FBU0MsY0FBYzhHLEdBQ3RDakgsS0FBSytILFFBQVFtQixZQUFjLGdCQUU3QkMsT0FBT3ZELEVBQWF3QyxHQUNsQnBJLEtBQUsrSCxRQUFRbUIsWUFBZSxHQUFFM0QsRUFDNUJLLE9BQ0lMLEVBQWlCNkMsT0RMQSxVQUN2QnBJLEtBQUtvSixhQUFlLEtBQ3BCcEosS0FBSytILFFBQVU3SCxTQUFTQyxjQUFjOEcsR0FDdENqSCxLQUFLcUosUUFBVXJKLEtBQUsrSCxRQUFRSixjQUM1QjNILEtBQUtzSixVQUFZdEosS0FBS3FKLFFBQVFFLFNBQVMsR0FDdkN2SixLQUFLaUksTUFBTyxFQUNaakksS0FBS3lHLE9BQVN2RyxTQUFTQyxjQUFjLFdBQ3JDSCxLQUFLd0osU0FBV3RKLFNBQVNDLGNBQWMsaUJBQ3ZDSCxLQUFLeUosVUFBWXZKLFNBQVNDLGNBQWMsa0JBQ3hDSCxLQUFLc0osVUFBWXBKLFNBQVNDLGNBQWMsU0FDeENILEtBQUswSixhQUFleEosU0FBU0MsY0FBYyxrQkFFN0MrSCxnQkFBZ0JrQixHQUNkcEosS0FBS29KLGFBQWVBLEVBQ3BCcEosS0FBSzhILFFBQVFJLGdCQUFnQmxJLEtBQUtvSixjQUVwQ3JDLFFBQ0UvRyxLQUFLeUosVUFBVS9DLE1BQU1DLFFBQVUsT0FDL0IzRyxLQUFLd0osU0FBUzlDLE1BQU1DLFFBQVUsUUFDOUI0QixZQUFXLEtBQ1R2SSxLQUFLd0osU0FBUzlDLE1BQU1DLFFBQVUsU0FDN0IsS0FFTGdELE9BQ0UzSixLQUFLd0osU0FBUzlDLE1BQU1DLFFBQVUsT0FDOUIzRyxLQUFLeUosVUFBVS9DLE1BQU1DLFFBQVUsUUFDL0I0QixZQUFXLEtBQ1R2SSxLQUFLeUosVUFBVS9DLE1BQU1DLFFBQVUsU0FDOUIsS0FFTHdDLE9BQU9TLEdBQ0w1SixLQUFLOEgsUUFBUUssWUFBWXlCLEVBQU1oRSxZQUFhZ0UsRUFBTXhCLFVBQ2xEcEksS0FBS2lKLE1BQU1FLE9BQU9TLEVBQU1oRSxZQUFhZ0UsRUFBTXhCLFVBRTdDeUIsYUFBYXhLLEdBQ1hXLEtBQUtpSSxNQUFPLEVBQ1pqSSxLQUFLcUksU0FBU2hKLEdBQVEsS0FFeEJ5SyxlQUNFOUosS0FBS2lJLE1BQU8sRUFDWmpJLEtBQUtxSSxTQUFTLElBRWhCQSxTQUFTQyxHQUVIdEksS0FBS2lJLEtBQ1BqSSxLQUFLK0gsUUFBUXJCLE1BQU1DLFFBQVUsT0FFN0I0QixZQUFXLEtBQ1R2SSxLQUFLK0gsUUFBUXJCLE1BQU1DLFFBQVUsU0FDNUIyQixLRHJDd0MsYUFDN0N0SSxLQUFLK0osYUFBZSxLQUNwQi9KLEtBQUtnSyxvQkFBc0IsS0FDM0JoSyxLQUFLaUssY0FBZSxFQUNwQmpLLEtBQUtrSyxZQUFjLElBQUlySyxFQUFZRyxNQUNuQ0EsS0FBS2tILE9BQVMsR0FDZGxILEtBQUttSyxVQUFZLENBQ2ZDLGFBQWMsZUFDZEMsYUFBYyxlQUNkQyxPQUFRLFVBQ1JDLE1BQU8sUUFDUEMsS0FBTSxPQUNOQyxPQUFRLFNBQ1JDLE1BQU8sUUFDUEMsVUFBVyxhQUViM0ssS0FBSzBDLGFBQWMsRUFDbkIxQyxLQUFLNEssVUFBWSxxQ0FFbkJyRSxRQUNFZ0MsWUFBVyxLQUNUdkksS0FBS3dHLGlCQUFpQjhDLFVBQVU1QyxNQUFNQyxRQUFVLFNBQy9DLEtBQ0gzRyxLQUFLb0MsZ0JBQWdCQyxNQUFNckMsS0FBS21LLFVBQVVJLE1BQU8scUJBQ2pEdkssS0FBSzZLLFNBR1BBLFNBRUU3SyxLQUFLb0MsZ0JBQWdCQyxNQUFNLFVBQVdyQyxLQUFLcUIsTUFBTXlKLGFBQWEsUUFDOUQ5SyxLQUFLb0MsZ0JBQWdCQyxNQUFNLGNBQWVyQyxLQUFLMEMsYUFDMUMxQyxLQUFLMEMsWUFrQkgxQyxLQUFLa0ssWUFBWXBELFNBakJ0QjlHLEtBQUtxQixNQUNGc0ksT0FDQW9CLE1BQUssS0FDQy9LLEtBQUtpSyxhQUlSakssS0FBS3dHLGlCQUFpQm1ELFFBSHRCM0osS0FBS3dHLGlCQUFpQnNELGVBQ3RCOUosS0FBS2lLLGNBQWUsR0FJdEJqSyxLQUFLd0csaUJBQWlCcUQsYUFBYSxRQUVwQ21CLE9BQU83SSxJQUNObkMsS0FBS29DLGdCQUFnQkMsTUFDbkJyQyxLQUFLbUssVUFBVUcsT0FDZiw0Q0FBOENuSSxNQUt4RDhJLFVBQ09qTCxLQUFLMEMsWUFFUjFDLEtBQUtrSyxZQUFZbkQsUUFGSS9HLEtBQUtxQixNQUFNMEYsUUFJbEMvRyxLQUFLd0csaUJBQWlCTyxRQUN0Qi9HLEtBQUt3RyxpQkFBaUJzRCxlQUV4Qm9CLGtCQUNFbEwsS0FBS3FCLE1BQU1JLGlCQUFpQixhQUFjekIsS0FBS29FLGNBQy9DcEUsS0FBS3FCLE1BQU1JLGlCQUFpQixRQUFTekIsS0FBSzJDLE1BQU1iLEtBQUs5QixPQUV2RG1MLFVBQVVDLEdBQ1JwTCxLQUFLb0MsZ0JBQWdCQyxNQUFNckMsS0FBS21LLFVBQVVRLFVBQVdTLEdBQ3JEcEwsS0FBS21ILFFBQVFrRSxrQkFBa0JyTCxLQUFLNEssZUFBV1UsRUFBV0YsR0FFNUR6SSxRQUNFM0MsS0FBS29DLGdCQUFnQkMsTUFBTSxTQUFVckMsS0FBS2tILE9BQU9xRSxRQUNqRCxJQUNNdkwsS0FBSzBDLGFBQ1AxQyxLQUFLbUwsVUFBVSxDQUNiQyxRQUFTLGNBQ1RJLEtBQU0sSUFFUnhMLEtBQUswQyxhQUFjLEdBRW5CMUMsS0FBS21MLFVBQVUsQ0FDYkMsUUFBUyxpQkFDVEksS0FBTSxJQUdWLE1BQU9DLEdBQ1B6TCxLQUFLb0MsZ0JBQWdCcUosTUFDbkJ6TCxLQUFLbUssVUFBVU8sTUFDZixTQUFXZSxFQUFNOUwsWUFHckIsT0FBTyxLQUdUeUUsZUFDRXBFLEtBQUt3RyxpQkFBaUIyQyxPQUFPbkosS0FBSzBMLHFCQUVwQ0Esb0JBQ0UsTUFBTyxDQUNMOUYsWUFBYTVGLEtBQUtxQixNQUFNdUUsWUFDeEJ3QyxTQUFVcEksS0FBS3lILFlBQVlXLFVBRy9CdUQsY0FRRSxHQVBBM0UsV0FBVzRFLGFBQWVDLElBQUlDLGNBQzlCOUwsS0FBS29DLGdCQUFnQkMsTUFBTSxzQkFBdUIyRSxXQUFXNEUsY0FDN0Q1TCxLQUFLcUIsTUFBTXVHLGFBQWUsRUFDMUI1SCxLQUFLb0MsZ0JBQWdCQyxNQUNuQixhQUNBMEosS0FBS0MsVUFBVWhNLEtBQUtxQixNQUFPLENBQUMsS0FBTSxZQUFhLGFBRTdDckIsS0FBS3lILFlBQVl3RSxLQUFLQyxTQUFTLE9BQ2pDbE0sS0FBS29DLGdCQUFnQkMsTUFBTSxhQUFjckMsS0FBS3lILFlBQVl3RSxNQUMxRGpNLEtBQUtxQixNQUFNOEssSUFBTW5NLEtBQUt5SCxZQUFZd0UsS0FDbENqTSxLQUFLdUcsYUFDQSxHQUFJUyxXQUFXNEUsYUFBYyxDQUNsQzVMLEtBQUtvQyxnQkFBZ0JDLE1BQU0sc0JBQXVCckMsS0FBS3lILFlBQVl3RSxNQUNuRSxJQUNFak0sS0FBS3dILElBQU0sSUFBSXFFLElBQ2Y3TCxLQUFLb0MsZ0JBQWdCQyxNQUFNLGtCQUFtQnJDLEtBQUt5SCxZQUFZd0UsTUFDM0RqTSxLQUFLNEYsWUFBYyxJQUFHNUYsS0FBS3FCLE1BQU11RSxZQUFjNUYsS0FBSzRGLGFBQ3hENUYsS0FBS3dILElBQUltRSxZQUFZM0wsS0FBS3FCLE9BQzFCckIsS0FBS29DLGdCQUFnQkMsTUFBTSxpQkFBa0JyQyxLQUFLeUgsWUFBWXdFLE1BQzlEak0sS0FBS3dILElBQUk0RSxHQUFHUCxJQUFJcEcsT0FBTzRHLGdCQUFnQixLQUNyQ3JNLEtBQUtvQyxnQkFBZ0JDLE1BQU0sa0JBQW1CckMsS0FBS3lILFlBQVl3RSxNQUMvRGpNLEtBQUt3SCxJQUFJOEUsV0FBYSxFQUN0QnRNLEtBQUtvQyxnQkFBZ0JDLE1BQ25CLDhCQUNBckMsS0FBS3lILFlBQVl3RSxNQUVuQmpNLEtBQUt3SCxJQUFJK0UsV0FBV3ZNLEtBQUt5SCxZQUFZd0UsU0FFdkNqTSxLQUFLd0gsSUFBSTRFLEdBQUdQLElBQUlwRyxPQUFPK0csaUJBQWlCLENBQUNDLEVBQU9DLEtBQzlDMU0sS0FBS3VHLFdBRVB2RyxLQUFLd0gsSUFBSTRFLEdBQUdQLElBQUlwRyxPQUFPa0gsT0FBTyxDQUFDRixFQUFPQyxLQUNwQzFNLEtBQUtvQyxnQkFBZ0JDLE1BQU0sYUFBY3FLLEVBQUtFLFlBRWhELE1BQU9uQixLQThEWHpMLEtBQUtvQyxnQkFBZ0JDLE1BQU0seUJBYzdCd0ssV0FDRTdNLEtBQUtvQyxnQkFBa0IsQ0FDckJDLE1BQU8sU0FBVWMsRUFBTWlJLEdBQ3JCMEIsUUFBUUMsSUFBSTVKLEVBQU1pSSxJQUVwQkssTUFBTyxTQUFVdEksRUFBTWlJLEdBQ3JCMEIsUUFBUUMsSUFBSTVKLEVBQU1pSSxLQUd0QnBMLEtBQUt3RyxpQkFBaUIwQixnQkFBZ0JsSSxLQUFLb0MsaUJBQzNDcEMsS0FBS3lILFlBQVl3RSxLQUNmLHlFQUVGak0sS0FBSzJMLGNBQ0wzTCxLQUFLZ04sY0FFTGhOLEtBQUtrTCxrQkFFUHRLLE9BQ0VaLEtBQUttSCxRQUFVOEYsS0FBS0MsVUFBVUMsb0JBQW9CQyxjQUVsRHBOLEtBQUttSCxRQUFRa0csZUFBZUosS0FBS0MsVUFBVUksWUFBWUMsT0FFdkR2TixLQUFLb0MsZ0JBQWtCNkssS0FBSzVLLE1BQU1tTCxnQkFBZ0JKLGNBQ2xEcE4sS0FBS29DLGdCQUFnQnFMLFlBQVcsR0FDaEN6TixLQUFLb0MsZ0JBQWdCQyxNQUFNckMsS0FBS21LLFVBQVVLLEtBQU0sNEJBQ2hEeEssS0FBS29ILGNBQWdCcEgsS0FBS21ILFFBQVF1RyxtQkFDbEMxTixLQUFLb0gsY0FBY3VHLGdCQUFnQjNOLEtBQUtxQixPQUV4Q3JCLEtBQUt3RyxpQkFBaUIwQixnQkFBZ0JsSSxLQUFLb0MsaUJBbUIzQyxNQUFNd0wsRUFBVSxJQUFJWCxLQUFLQyxVQUFVVyxvQkFFbkNELEVBQVFFLGlCQUFtQixHQUMzQkYsRUFBUUUsaUJBQWlCOU4sS0FBSzRLLFdBQzVCcUMsS0FBS0MsVUFBVWEsT0FBT0MsWUFBWWpDLEtBQ3BDL0wsS0FBS21ILFFBQVFaLE1BQU1xSCxHQUNuQjVOLEtBQUtnTixjQUNMaE4sS0FBS2lPLG1CQUNMak8sS0FBS2tMLGtCQUVQZ0QsT0FBT0MsR0FDTG5PLEtBQUtxQixNQUFNdUUsWUFBY3VJLEVBQVl2SSxZQUNyQzVGLEtBQUt3RyxpQkFBaUJzRCxlQUN0QjlKLEtBQUt3RyxpQkFBaUJxRCxhQUFhLEtBRW5DN0osS0FBS3dHLGlCQUFpQjJDLE9BQU9uSixLQUFLMEwscUJBRXBDMEMsY0FDRXBPLEtBQUt1SCxTQUFTOEcsYUFDWnBCLEtBQUtDLFVBQVVvQixHQUFHQyxhQUFhQyxpQkFDL0J2QixLQUFLQyxVQUFVb0IsR0FBR0csZUFBZUMsWUFFbkMxTyxLQUFLdUgsU0FBUzhHLGFBQ1pwQixLQUFLQyxVQUFVb0IsR0FBR0MsYUFBYUksZUFDL0IxQixLQUFLQyxVQUFVb0IsR0FBR0csZUFBZUcsVUFFbkM1TyxLQUFLdUgsU0FBUzhHLGFBQ1pwQixLQUFLQyxVQUFVb0IsR0FBR0MsYUFBYU0sZUFDL0I1QixLQUFLQyxVQUFVb0IsR0FBR0csZUFBZUssaUJBRW5DOU8sS0FBS3VILFNBQVM4RyxhQUNacEIsS0FBS0MsVUFBVW9CLEdBQUdDLGFBQWFRLGlCQUMvQjlCLEtBQUtDLFVBQVVvQixHQUFHRyxlQUFlTyxZQUlyQ2YsbUJBQ0VqTyxLQUFLbUgsUUFBUTFGLGlCQUNYd0wsS0FBS0MsVUFBVWEsT0FBT2tCLFVBQVVDLHFCQUMvQnpDLElBQ0MwQyxPQUFPQyxXQVNYcFAsS0FBS29ILGNBQWNpSSxzQkFDakJwQyxLQUFLQyxVQUFVb0MsU0FBU3RCLFlBQVl1QixLQUNwQ3ZQLEtBQUt3UCxjQUFjMU4sS0FBSzlCLE9BRTFCQSxLQUFLb0gsY0FBY2lJLHNCQUNqQnBDLEtBQUtDLFVBQVVvQyxTQUFTdEIsWUFBWXlCLEtBQ3BDelAsS0FBSzZLLE9BQU8vSSxLQUFLOUIsT0FFbkJBLEtBQUtvSCxjQUFjaUksc0JBQ2pCcEMsS0FBS0MsVUFBVW9DLFNBQVN0QixZQUFZMEIsTUFDcEMxUCxLQUFLaUwsUUFBUW5KLEtBQUs5QixPQUVwQkEsS0FBS29ILGNBQWNpSSxzQkFDakJwQyxLQUFLQyxVQUFVb0MsU0FBU3RCLFlBQVkyQixLQUNwQzNQLEtBQUtrTyxPQUFPcE0sS0FBSzlCLE9BR3JCZ04sY0FDRWhOLEtBQUtpTyxpQkFBbUJqTyxLQUFLaU8saUJBQWlCbk0sS0FBSzlCLE1BQ25EQSxLQUFLd1AsY0FBZ0J4UCxLQUFLd1AsY0FBYzFOLEtBQUs5QixNQUM3Q0EsS0FBSzJMLFlBQWMzTCxLQUFLMkwsWUFBWTdKLEtBQUs5QixNQUN6Q0EsS0FBS3VHLE1BQVF2RyxLQUFLdUcsTUFBTXpFLEtBQUs5QixNQUM3QkEsS0FBS2tMLGdCQUFrQmxMLEtBQUtrTCxnQkFBZ0JwSixLQUFLOUIsTUFDakRBLEtBQUtvRSxhQUFlcEUsS0FBS29FLGFBQWF0QyxLQUFLOUIsTUFDM0NBLEtBQUs2SyxPQUFTN0ssS0FBSzZLLE9BQU8vSSxLQUFLOUIsTUFDL0JBLEtBQUtpTCxRQUFVakwsS0FBS2lMLFFBQVFuSixLQUFLOUIsTUFDakNBLEtBQUswTCxrQkFBb0IxTCxLQUFLMEwsa0JBQWtCNUosS0FBSzlCLE1BQ3JEQSxLQUFLMkMsTUFBUTNDLEtBQUsyQyxNQUFNYixLQUFLOUIsTUFFL0J3UCxjQUFjSSxHQWVaNVAsS0FBS3dHLGlCQUFpQmtELGFBQWFoRCxNQUFNQyxRQUFVLE9BQ25EM0csS0FBS3dHLGlCQUFpQjZDLFFBQVEzQyxNQUFNQyxRQUFVLE9BQzlDM0csS0FBS29DLGdCQUFnQkMsTUFBTSxhQUFjdU4sRUFBZ0JDLE1BQU1DLFdBQy9EOVAsS0FBS29DLGdCQUFnQkMsTUFBTSxjQUFld0osSUFBSUMsZUFDOUM5TCxLQUFLeUgsWUFBWXdFLEtBQU8yRCxFQUFnQkMsTUFBTUMsVUFDOUM5UCxLQUFLeUgsWUFBWVcsU0FBV3dILEVBQWdCQyxNQUFNRSxTQUFTM0gsU0FDM0RwSSxLQUFLNEYsWUFBY2dLLEVBQWdCaEssWUFDbkM1RixLQUFLNEgsYUFBZWdJLEVBQWdCaEksYUFDcEM1SCxLQUFLNkgsU0FBVytILEVBQWdCL0gsU0FFaEM3SCxLQUFLa0gsT0FBT3FFLFlBQ3dCLElBQTNCcUUsRUFBZ0JyRSxRQUNuQnFFLEVBQWdCckUsT0FFdEIsSUFFS3FFLEVBQWdCSSxXQUFXaE4sU0FDMUI0TSxFQUFnQkksV0FBVy9NLFFBb0I3QmpELEtBQUsyTCxjQUNMM0wsS0FBS21MLFVBQVUsQ0FDYkMsUUFBUyxvQkFHYixNQUFPSyxHQUNQekwsS0FBS21MLFVBQVUsQ0FDYkMsUUFBU0ssRUFBTTlMLFdBQ2ZzUSxNQUFPeEUsRUFBTXdFLFFBR2pCLE9BQU8sS0FnRFRDLFVBQVVDLEdBS1IsT0FKQS9OLGdCQUFnQkMsTUFDZCtOLGlCQUNBLGNBQWdCckUsS0FBS0MsVUFBVW1FLElBRTFCRSxlQUFlLFVBQVV0RixNQUFNdUYsSUFDcENILEVBQWlCSSxXQUFhLENBQzVCLENBQ0V0SixHQUFJLFNBQ0p1SixNQUFPRixFQUFNRSxNQUNiQyxXQUFZSCxFQUFNSSxPQUFPQyxLQUN6QkMsWUFBYSx1QkFDYkMsY0FBZSxJQUluQlYsRUFBaUJXLE9BQVMsQ0FDeEIsQ0FDRTdKLEdBQUksV0FDSjhKLGFBQWMsQ0FBQyxVQUNmQyxTQUFVLE9BS2xCWCxlQUFlcEosR0FHYixPQUZBN0UsZ0JBQWdCQyxNQUFNK04saUJBQWtCLGdCQUFrQm5KLEdBRW5ELElBQUlnSyxTQUFRLENBQUNDLEVBQVFDLEtBQzFCQyxNQUFNQyxhQUNIdEcsTUFBTXVHLEdBQWFBLEVBQVNDLFNBQzVCeEcsTUFBTXlHLElBQ0RBLEVBQ0VBLEVBQUl2SyxHQUNOaUssRUFBT00sRUFBSXZLLElBRVhrSyxFQUFRLEdBQUVsSyw2QkFHWmtLLEVBQU8seUNEbGZXbEssRUFBSUMsR0FFaEMsT0FEQW5ILEVBQVNhLE9BQ0ZiLEVBTFRpSCxFQUFXNEUsY0FBZSxFQVExQnVELE9BQU9uSSxXQUFhQSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnAtcmVjZWl2ZXIvLi9zcmMvanMvbW9kZWxzL3NlZWtiYXIuanMiLCJ3ZWJwYWNrOi8vdnAtcmVjZWl2ZXIvLi9zcmMvanMvaGVscGVycy9VdGlscy5qcyIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy9tb2RlbHMvdmFzdFNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vdnAtcmVjZWl2ZXIvLi9zcmMvanMvdnBSZWNlaXZlci5qcyIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy9tb2RlbHMvcmVjZWl2ZXIuanMiLCJ3ZWJwYWNrOi8vdnAtcmVjZWl2ZXIvLi9zcmMvanMvbW9kZWxzL3JlY2VpdmVyLWNvbnRyb2xzLmpzIiwid2VicGFjazovL3ZwLXJlY2VpdmVyLy4vc3JjL2pzL21vZGVscy90aW1lci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBTZWVrQmFyIHtcclxuICBjb25zdHJ1Y3RvcihpZCkge1xyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpZCk7XHJcbiAgICB0aGlzLmNhc3RkZWJ1Z2dlciA9IG51bGw7XHJcbiAgICB0aGlzLnNob3cgPSBmYWxzZTtcclxuICB9XHJcbiAgc2V0Q2FzdERlYnVnZ2VyKGNhc3RkZWJ1Z2dlcikge1xyXG4gICAgdGhpcy5jYXN0ZGVidWdnZXIgPSBjYXN0ZGVidWdnZXI7XHJcbiAgfVxyXG4gIHNldFByb2dyZXNzKHRpbWUsIGR1cmF0aW9uKSB7XHJcbiAgICAvLyB0aGlzLmNhc3RkZWJ1Z2dlci5kZWJ1ZyhcImVsZVwiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmVsZW1lbnQpKTtcclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9ICh0aW1lIC8gZHVyYXRpb24pICogMTAwICsgXCIlXCI7XHJcbiAgICAvLyB0aGlzLmNhc3RkZWJ1Z2dlci5kZWJ1ZyhcIndpZHRoXCIsIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCk7XHJcbiAgfVxyXG5cclxuICBzaG93SGlkZSh0aW1pbmcpIHtcclxuICAgIHRoaXMuY2FzdGRlYnVnZ2VyLmRlYnVnKFwic2hvd0hpZGVcIiwgYCR7dGltaW5nfSAke3RoaXMuc2hvd31gKTtcclxuICAgIGlmICh0aGlzLnNob3cpIHtcclxuICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgfSwgdGltaW5nKTtcclxuICAgIH1cclxuICB9XHJcbiAgYW5pbWF0ZVNlZWtiYXIoKSB7XHJcbiAgICBsZXQgdG90YWx3aWR0aCA9IHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsaWVudFdpZHRoO1xyXG5cclxuICAgIGxldCBpbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICBsZXQgbGVmdFBvc2l0aW9uID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgICAgIGxldCBsZWZ0UGFyZW50UG9zaXRpb24gPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgICAgbGV0IHJpZ2h0UGFyZW50UG9zaXRpb24gPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ7XHJcbiAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xpZW50V2lkdGggPj0gdG90YWx3aWR0aCAvIDUpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHt0aGlzLmVsZW1lbnQuY2xpZW50V2lkdGggKyAxMH1weGA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGxlZnRQb3NpdGlvbiA8IHJpZ2h0UGFyZW50UG9zaXRpb24pIHtcclxuICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7bGVmdFBvc2l0aW9uICsgMTB9cHhgO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IGAke2xlZnRQYXJlbnRQb3NpdGlvbn1weGA7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBcIjBweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgMTApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2Vla0JhcjtcclxuIiwiY29uc3QgZm9ybWF0VGltZSA9ICh0aW1lKSA9PiB7XHJcbiAgaWYgKCF0aW1lKSByZXR1cm4gXCIwMDowMFwiO1xyXG5cclxuICBsZXQgaG91cnMgPSBNYXRoLmZsb29yKHRpbWUgLyAzNjAwKTtcclxuICBsZXQgbWludXRlcyA9IE1hdGguZmxvb3IoKHRpbWUgLSBob3VycyAqIDM2MDApIC8gNjApO1xyXG4gIGxldCBzZWNvbmRzID0gTWF0aC5mbG9vcih0aW1lICUgNjApO1xyXG5cclxuICAvLyBmb3JtYXQgdGhlIG1pbnV0ZXMgYW5kIHNlY29uZHMgc3RyaW5nIHRvIGxvb2sgY29uc2lzdGVudCBhY3Jvc3MgYWxsIHZhbHVlc1xyXG4gIGlmICghaG91cnMpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIG1pbnV0ZXMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIikgK1xyXG4gICAgICBcIjpcIiArXHJcbiAgICAgIHNlY29uZHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgaG91cnMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIikgK1xyXG4gICAgXCI6XCIgK1xyXG4gICAgbWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKSArXHJcbiAgICBcIjpcIiArXHJcbiAgICBzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpXHJcbiAgKTtcclxufTtcclxuLy8gRmlyZSBjdXN0b20gZXZlbnRcclxuY29uc3QgZmlyZSA9IChcclxuICBlbCxcclxuICBldmVudE5hbWUsXHJcbiAgZGV0YWlsID0gbnVsbCxcclxuICBidWJibGVzID0gdHJ1ZSxcclxuICBjYW5jZWxhYmxlID0gdHJ1ZVxyXG4pID0+IHtcclxuICBsZXQgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xyXG4gICAgZGV0YWlsLFxyXG4gICAgYnViYmxlcyxcclxuICAgIGNhbmNlbGFibGUsXHJcbiAgfSk7XHJcblxyXG4gIGVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBmb3JtYXRUaW1lLFxyXG4gIGZpcmUsXHJcbn07XHJcbiIsImNsYXNzIFZhc3RTZXJ2aWNlIHtcclxuICBzdGF0aWMgREVCVUdfVkFTVF9TRVJWSUNFID0gXCJERUJVR19WQVNUX1NFUlZJQ0VcIjtcclxuICBjb25zdHJ1Y3RvcihyZWNlaXZlcikge1xyXG4gICAgdGhpcy5yZWNlaXZlciA9IHJlY2VpdmVyO1xyXG4gICAgdGhpcy5hZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRDb250YWluZXJcIik7XHJcbiAgICB0aGlzLmFkc0Rpc3BsYXlDb250YWluZXIgPSBudWxsO1xyXG4gICAgdGhpcy5hZHNMb2FkZXIgPSBudWxsO1xyXG4gICAgdGhpcy5hZHNEaXNwbGF5SW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuY3VycmVudEFkcyA9IG51bGw7XHJcbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmF1dG9wbGF5QWxsb3dlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5hdXRvcGxheVJlcXVpcmVzTXV0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuaGFzRXJyb3JzID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICBnb29nbGUuaW1hLnNldHRpbmdzLnNldFZwYWlkTW9kZShcclxuICAgICAgZ29vZ2xlLmltYS5JbWFTZGtTZXR0aW5ncy5WcGFpZE1vZGUuRU5BQkxFRFxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmFkc0Rpc3BsYXlDb250YWluZXIgPSBuZXcgZ29vZ2xlLmltYS5BZERpc3BsYXlDb250YWluZXIoXHJcbiAgICAgIHRoaXMuYWRDb250YWluZXIsXHJcbiAgICAgIHRoaXMucmVjZWl2ZXIudmlkZW9cclxuICAgICk7XHJcbiAgICB0aGlzLmFkc0xvYWRlciA9IG5ldyBnb29nbGUuaW1hLkFkc0xvYWRlcih0aGlzLmFkc0Rpc3BsYXlDb250YWluZXIpO1xyXG4gICAgdGhpcy5hZHNMb2FkZXIuZ2V0U2V0dGluZ3MoKS5zZXRQbGF5ZXJUeXBlKFwiY2FzdC9jbGllbnQtc2lkZVwiKTtcclxuICAgIHRoaXMuYWRzTG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRzTWFuYWdlckxvYWRlZEV2ZW50LlR5cGUuQURTX01BTkFHRVJfTE9BREVELFxyXG4gICAgICB0aGlzLm9uQWRzTWFuYWdlckxvYWRlZC5iaW5kKHRoaXMpLFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmFkc0xvYWRlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXJyb3JFdmVudC5UeXBlLkFEX0VSUk9SLFxyXG4gICAgICB0aGlzLm9uQWRFcnJvcixcclxuICAgICAgZmFsc2VcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBvbkFsbEFkc0NvbXBsZXRlZChlKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcImFkIGNvbXBsZXRlZFwiXHJcbiAgICApO1xyXG4gIH1cclxuICBvbkFkQ29tcGxldGVkKGUpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiYWQgY29tcGxldGVkXCJcclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuZGVzdHJveSgpO1xyXG4gICAgaWYgKCF0aGlzLmhhc0Vycm9ycyAmJiB0aGlzLnJlY2VpdmVyLmlzQWRQbGF5aW5nKSB0aGlzLnJlY2VpdmVyLm9uRW5kKCk7XHJcbiAgICAvLyB0aGlzLmFkc01hbmFnZXIuZGVzdHJveSgpO1xyXG4gICAgLy8gdGhpcy5yZWNlaXZlci5wbGF5ZXJNYW5hZ2VyLnNgZXRNZWRpYUVsZW1lbnQodGhpcy52aWRlbyk7XHJcbiAgfVxyXG4gIG9uQ29udGVudFBhdXNlUmVxdWVzdGVkKGUpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiQ29udGVudCBQYXVzZSBSZXF1ZXN0XCJcclxuICAgICk7XHJcbiAgfVxyXG4gIG9uQ29udGVudFJlc3VtZVJlcXVlc3RlZCgpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiQ29udGVudCBSZXN1bWUgUmVxdWVzdFwiXHJcbiAgICApO1xyXG4gIH1cclxuICBvbkFkTG9hZGVkKGUpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiQWQgbG9hZGVkXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIGxvYWRBZHModmFzdFVybCwgdmFzdFhtbCkge1xyXG4gICAgdGhpcy5jdXJyZW50QWRzID0ge307XHJcbiAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcImxvYWQgXCIgKyB2YXN0VXJsXHJcbiAgICApO1xyXG5cclxuICAgIGlmICh2YXN0VXJsKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEFkcy5jb250ZW50ID0gdmFzdFVybDtcclxuICAgICAgdGhpcy5jdXJyZW50QWRzLnR5cGUgPSBcInVybFwiO1xyXG4gICAgfSBlbHNlIGlmICh2YXN0WG1sKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEFkcy5jb250ZW50ID0gdmFzdFhtbDtcclxuICAgICAgdGhpcy5jdXJyZW50QWRzLnR5cGUgPSBcInhtbFwiO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jdXJyZW50QWRzLmN1cnJlbnRBZEluZGV4ID0gMDtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSk7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50QWRzLnR5cGUgPT09IFwidXJsXCIpIHRoaXMubG9hZCh0aGlzLmN1cnJlbnRBZHMuY29udGVudCk7XHJcbiAgICBlbHNlIHRoaXMubG9hZChudWxsLCB0aGlzLmN1cnJlbnRBZHMuY29udGVudCk7XHJcbiAgfVxyXG4gIGxvYWQodmFzdFVybCwgdmFzdFhtbCkge1xyXG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB0aGlzLmluaXQoKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiSW5pdGlhbGl6ZWRcIiArIHRoaXMudmFzdFVybFxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmFkc1JlcXVlc3QgPSBuZXcgZ29vZ2xlLmltYS5BZHNSZXF1ZXN0KCk7XHJcbiAgICBpZiAodmFzdFVybCkge1xyXG4gICAgICB0aGlzLmFkc1JlcXVlc3QuYWRUYWdVcmwgPSB2YXN0VXJsO1xyXG4gICAgfSBlbHNlIGlmICh2YXN0WG1sKSB7XHJcbiAgICAgIHRoaXMuYWRzUmVxdWVzdC5hZHNSZXNwb25zZSA9IHZhc3RYbWw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5hZHNSZXF1ZXN0LmxpbmVhckFkU2xvdFdpZHRoID0gdGhpcy5yZWNlaXZlci52aWRlby5jbGllbnRXaWR0aDtcclxuICAgIHRoaXMuYWRzUmVxdWVzdC5saW5lYXJBZFNsb3RIZWlnaHQgPSB0aGlzLnJlY2VpdmVyLnZpZGVvLmNsaWVudEhlaWdodDtcclxuICAgIHRoaXMuYWRzUmVxdWVzdC5ub25MaW5lYXJBZFNsb3RXaWR0aCA9IHRoaXMucmVjZWl2ZXIudmlkZW8uY2xpZW50V2lkdGg7XHJcbiAgICB0aGlzLmFkc1JlcXVlc3Qubm9uTGluZWFyQWRTbG90SGVpZ2h0ID1cclxuICAgICAgdGhpcy5yZWNlaXZlci52aWRlby5jbGllbnRIZWlnaHQgLyAzO1xyXG5cclxuICAgIHRoaXMuYWRzUmVxdWVzdC5zZXRBZFdpbGxBdXRvUGxheSh0aGlzLmF1dG9wbGF5QWxsb3dlZCk7XHJcbiAgICB0aGlzLmFkc1JlcXVlc3Quc2V0QWRXaWxsUGxheU11dGVkKHRoaXMuYXV0b3BsYXlSZXF1aXJlc011dGVkKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwib2tlaiBlIHFpdHkgcHJhXCIsIFwiQXNkZlwiKTtcclxuXHJcbiAgICB0aGlzLmFkc1JlcXVlc3QudmFzdExvYWRUaW1lb3V0ID0gODAwMDtcclxuICAgIHRoaXMuYWRzTG9hZGVyLnJlcXVlc3RBZHModGhpcy5hZHNSZXF1ZXN0KTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwib2tlaiBlIHFpdHkgcHJhXCIsIFwiQXNkZjEyM1wiKTtcclxuICB9XHJcbiAgb25UaW1lVXBkYXRlKCkge1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgT04gVElNRSBVUERBVEVcIlxyXG4gICAgKTtcclxuICB9XHJcbiAgb25BZFNraXAoZSkge1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCJPTiBBRCBTa2lcIlxyXG4gICAgKTtcclxuICB9XHJcbiAgb25BZFN0YXJ0ZWQoZSkge1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCJPTiBBRCBTVEFSVEVEXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIG9uQWRzTWFuYWdlckxvYWRlZChhZHNNYW5hZ2VyTG9hZGVkRXZlbnQpIHtcclxuICAgIGlmICh0aGlzLmFkc01hbmFnZXIpIHtcclxuICAgICAgdGhpcy5hZHNNYW5hZ2VyLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGJlZm9yZSBnZXRhZHNtYW5hZ2VyXCJcclxuICAgICk7XHJcbiAgICBjb25zdCBhZHNSZW5kZXJpbmdTZXR0aW5ncyA9IG5ldyBnb29nbGUuaW1hLkFkc1JlbmRlcmluZ1NldHRpbmdzKCk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIgPSBhZHNNYW5hZ2VyTG9hZGVkRXZlbnQuZ2V0QWRzTWFuYWdlcihcclxuICAgICAgdGhpcy5yZWNlaXZlci52aWRlbyxcclxuICAgICAgYWRzUmVuZGVyaW5nU2V0dGluZ3NcclxuICAgICk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBhZnRlciBnZXRhZHNtYW5hZ2VyXCJcclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEVycm9yRXZlbnQuVHlwZS5BRF9FUlJPUixcclxuICAgICAgdGhpcy5vbkFkRXJyb3IuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGFmdGVyIG9uYWRlcnJvclwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTlRFTlRfUEFVU0VfUkVRVUVTVEVELFxyXG4gICAgICB0aGlzLm9uQ29udGVudFBhdXNlUmVxdWVzdGVkLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBhZnRlciBvbkNvbnRlbnRQYXVzZVJlcXVlc3RlZFwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTlRFTlRfUkVTVU1FX1JFUVVFU1RFRCxcclxuICAgICAgdGhpcy5vbkNvbnRlbnRSZXN1bWVSZXF1ZXN0ZWQuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGFmdGVyIG9uQWxsQWRzQ29tcGxldGVkXCJcclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQUxMX0FEU19DT01QTEVURUQsXHJcbiAgICAgIHRoaXMub25BbGxBZHNDb21wbGV0ZWQuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGFmdGVyIG9uQWRMb2FkZWRcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5MT0FERUQsXHJcbiAgICAgIHRoaXMub25BZExvYWRlZC5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWZ0ZXIgb25BZFN0YXJ0ZWRcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5TVEFSVEVELFxyXG4gICAgICB0aGlzLm9uQWRTdGFydGVkLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBhZnRlciBvbkFkQ29tcGxldGVkXCJcclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQ09NUExFVEUsXHJcbiAgICAgIHRoaXMub25BZENvbXBsZXRlZC5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWZ0ZXIgb25Db250ZW50UGF1c2VSZXF1ZXN0ZWRcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5TS0lQUEVELFxyXG4gICAgICB0aGlzLm9uQWRTa2lwLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBhZnRlciBvbkFkU2tpcFwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFEX1BST0dSRVNTLFxyXG4gICAgICB0aGlzLm9uVGltZVVwZGF0ZS5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWZ0ZXIgb25UaW1lVXBkYXRlXCJcclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQURfQlVGRkVSSU5HLFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5TS0lQUEFCTEVfU1RBVEVfQ0hBTkdFRCxcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIFV0aWxzLmZpcmUodGhpcy5hZENvbnRhaW5lciwgRXZlbnRzLmFkRXZlbnRzLkFEX1NLSVBQQUJMRSwge1xyXG4gICAgICAgICAgY3VycmVudFRpbWU6IHRoaXMucGxheWVyLnZpZGVvLmN1cnJlbnRUaW1lLFxyXG4gICAgICAgICAgYWRQbGF5SWQ6IHRoaXMuYWRzTWFuYWdlci5nZXRDdXJyZW50QWQoKT8uZ2V0QWRJZCgpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIganVzdCBiZWZvcmUgcGxheWluZyBhZFwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5wbGF5QWRzKCk7XHJcbiAgfVxyXG4gIHBsYXlBZHMoKSB7XHJcbiAgICBpZiAoIXRoaXMuYWRzRGlzcGxheUluaXRpYWxpemVkKSB7XHJcbiAgICAgIHRoaXMuYWRzRGlzcGxheUNvbnRhaW5lci5pbml0aWFsaXplKCk7XHJcbiAgICAgIHRoaXMuYWRzRGlzcGxheUluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5yZWNlaXZlci52aWRlby5jbGllbnRXaWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMucmVjZWl2ZXIudmlkZW8uY2xpZW50SGVpZ2h0O1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5yZWNlaXZlci5pc0FkUGxheWluZyA9IHRydWU7XHJcbiAgICAgIHRoaXMuYWRzTWFuYWdlci5pbml0KHdpZHRoLCBoZWlnaHQsIGdvb2dsZS5pbWEuVmlld01vZGUuRlVMTFNDUkVFTik7XHJcbiAgICAgIHRoaXMuYWRzTWFuYWdlci5zdGFydCgpO1xyXG4gICAgICB0aGlzLnJlY2VpdmVyLnJlY2VpdmVyQ29udHJvbHMubG9hZGVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH0gY2F0Y2ggKGFkRXJyb3IpIHtcclxuICAgICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgICAgdGhpcy5WYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgICAgXCJBZHNNYW5hZ2VyIGNvdWxkIG5vdCBiZSBzdGFydGVkXCIgKyBhZEVycm9yLmdldE1lc3NhZ2UoKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuICBvbkFkRXJyb3IoZSkge1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWQgZXJyb3JcIiArIGVcclxuICAgICk7XHJcbiAgICB0aGlzLmhhc0Vycm9ycyA9IHRydWU7XHJcbiAgICB0aGlzLnJlY2VpdmVyLm9uRW5kKCkuYmluZCh0aGlzLnJlY2VpdmVyKTtcclxuICB9XHJcbiAgcmVzdW1lKCkge1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCJSRVNVTUlORyBBRCBFdmVudFwiXHJcbiAgICApO1xyXG4gICAgaWYgKCF0aGlzLmFkc01hbmFnZXIpIHJldHVybjtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5yZXN1bWUoKTtcclxuICB9XHJcbiAgcGF1c2UoKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIlBBVVNFIEFEIEV2ZW50XCJcclxuICAgICk7XHJcbiAgICBpZiAoIXRoaXMuYWRzTWFuYWdlcikgcmV0dXJuO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLnBhdXNlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBWYXN0U2VydmljZTtcclxuIiwiaW1wb3J0IFJlY2VpdmVyIGZyb20gXCIuL21vZGVscy9yZWNlaXZlclwiO1xyXG5cclxuLy9hIGJvb2xlYW4gdGVsbGluZyB3aGV0aGVyIEhMUyBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXJcclxudnBSZWNlaXZlci5ITFNzdXBwb3J0ZWQgPSBmYWxzZTtcclxuXHJcbmZ1bmN0aW9uIHZwUmVjZWl2ZXIoaWQsIGNvbmZpZykge1xyXG4gIGxldCByZWNlaXZlciA9IG5ldyBSZWNlaXZlcihpZCwgY29uZmlnKTtcclxuICByZWNlaXZlci5pbml0KCk7XHJcbiAgcmV0dXJuIHJlY2VpdmVyO1xyXG59XHJcblxyXG53aW5kb3cudnBSZWNlaXZlciA9IHZwUmVjZWl2ZXI7XHJcbiIsImltcG9ydCBobHNjb25maWcgZnJvbSBcIi4uL2NvbmZpZy9obHNDb25maWdcIjtcclxuaW1wb3J0IFJlY2VpdmVyQ29udHJvbHMgZnJvbSBcIi4vcmVjZWl2ZXItY29udHJvbHNcIjtcclxuaW1wb3J0IFZhc3RTZXJ2aWNlIGZyb20gXCIuL3Zhc3RTZXJ2aWNlXCI7XHJcbmNsYXNzIFJlY2VpdmVyIHtcclxuICBjb25zdHJ1Y3RvcihpZCwgY29uZmlnKSB7XHJcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xyXG4gICAgdGhpcy5wbGF5ZXJNYW5hZ2VyID0gbnVsbDtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyID0gbnVsbDtcclxuICAgIHRoaXMuYXBwSWQgPSBjb25maWcuYXBwSWQ7XHJcbiAgICB0aGlzLnZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpZCk7XHJcbiAgICB0aGlzLnBsYXliYWNrQ29uZmlnID0gbnVsbDtcclxuICAgIHRoaXMuY29udHJvbHMgPSBudWxsO1xyXG4gICAgdGhpcy5obHMgPSBudWxsO1xyXG4gICAgdGhpcy52aWRlb09iamVjdCA9IHt9O1xyXG4gICAgdGhpcy52aWRlb0NvbnRhaW5lciA9IHRoaXMudmlkZW8ucGFyZW50RWxlbWVudDtcclxuICAgIHRoaXMucGxheWJhY2tSYXRlID0gMTtcclxuICAgIHRoaXMuYXV0b3BsYXkgPSBmYWxzZTtcclxuICAgIHRoaXMucmVjZWl2ZXJDb250cm9scyA9IG5ldyBSZWNlaXZlckNvbnRyb2xzKFwiLmNvbnRyb2xzXCIpO1xyXG4gICAgdGhpcy5tZWRpYU1hbmFnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5jYXN0UmVjZWl2ZXJNYW5hZ2VyID0gbnVsbDtcclxuICAgIHRoaXMudmlkZW9TdGFydGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLnZhc3RTZXJ2aWNlID0gbmV3IFZhc3RTZXJ2aWNlKHRoaXMpO1xyXG4gICAgdGhpcy5jb25maWcgPSB7fTtcclxuICAgIHRoaXMuZGVidWdUYWdzID0ge1xyXG4gICAgICBMT0FEX1JFUVVFU1Q6IFwiTE9BRF9SRVFVRVNUXCIsXHJcbiAgICAgIEFUVEFDSF9NRURJQTogXCJBVFRBQ0hfTUVESUFcIixcclxuICAgICAgT05QTEFZOiBcIk9OX1BMQVlcIixcclxuICAgICAgU1RBUlQ6IFwiU1RBUlRcIixcclxuICAgICAgSU5JVDogXCJJTklUXCIsXHJcbiAgICAgIEVWRU5UUzogXCJFVkVOVFNcIixcclxuICAgICAgT05FTkQ6IFwiT05FTkRcIixcclxuICAgICAgQlJPQURDQVNUOiBcIkJST0FEQ0FTVFwiLFxyXG4gICAgfTtcclxuICAgIHRoaXMuaXNBZFBsYXlpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuTkFNRVNQQUNFID0gXCJ1cm46eC1jYXN0OnRlY2guZ2ppcmFmYS52cC1zZXJ2aWNlXCI7XHJcbiAgfVxyXG4gIHN0YXJ0KCkge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy52aWRlb0luZm8uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfSwgMjAwMCk7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1Zyh0aGlzLmRlYnVnVGFncy5TVEFSVCwgXCJTdGFydGluZyB2aWRlby4uLlwiKTtcclxuICAgIHRoaXMub25QbGF5KCk7XHJcbiAgfVxyXG5cclxuICBvblBsYXkoKSB7XHJcbiAgICAvLyByZXR1cm4gdGhpcy5wbGF5ZXJNYW5hZ2VyLnBsYXkoKTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwib24gcGxheVwiLCB0aGlzLnZpZGVvLmdldEF0dHJpYnV0ZShcInNyY1wiKSk7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImlzYWRwbGF5aW5nXCIsIHRoaXMuaXNBZFBsYXlpbmcpO1xyXG4gICAgaWYgKCF0aGlzLmlzQWRQbGF5aW5nKSB7XHJcbiAgICAgIHRoaXMudmlkZW9cclxuICAgICAgICAucGxheSgpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCF0aGlzLnZpZGVvU3RhcnRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuc2hvd0NvbnRyb2xzKCk7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9TdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy5wbGF5KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuaGlkZUNvbnRyb2xzKDYwMDApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z1RhZ3MuT05QTEFZLFxyXG4gICAgICAgICAgICBcIiBDb3VsZG4ndCBwbGF5IHZpZGVvLlRyaW5nIG9uZSBtb3JlIHRpbWUgXCIgKyBlXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHRoaXMudmFzdFNlcnZpY2UucmVzdW1lKCk7XHJcbiAgfVxyXG4gIG9uUGF1c2UoKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNBZFBsYXlpbmcpIHRoaXMudmlkZW8ucGF1c2UoKTtcclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnZhc3RTZXJ2aWNlLnBhdXNlKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMucGF1c2UoKTtcclxuICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy5zaG93Q29udHJvbHMoKTtcclxuICB9XHJcbiAgYWRkUGxheWVyRXZlbnRzKCkge1xyXG4gICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLCB0aGlzLm9uVGltZVVwZGF0ZSk7XHJcbiAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCB0aGlzLm9uRW5kLmJpbmQodGhpcykpO1xyXG4gIH1cclxuICBicm9hZGNhc3QobWVzc2FnZSkge1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcodGhpcy5kZWJ1Z1RhZ3MuQlJPQURDQVNULCBtZXNzYWdlKTtcclxuICAgIHRoaXMuY29udGV4dC5zZW5kQ3VzdG9tTWVzc2FnZSh0aGlzLk5BTUVTUEFDRSwgdW5kZWZpbmVkLCBtZXNzYWdlKTtcclxuICB9XHJcbiAgb25FbmQoKSB7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcIm9uIEVuZFwiLCB0aGlzLmNvbmZpZy5yZXBsYXkpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHRoaXMuaXNBZFBsYXlpbmcpIHtcclxuICAgICAgICB0aGlzLmJyb2FkY2FzdCh7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIkFkIGZpbmlzaGVkXCIsXHJcbiAgICAgICAgICBjb2RlOiAyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaXNBZFBsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmJyb2FkY2FzdCh7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlZpZGVvIGZpbmlzaGVkXCIsXHJcbiAgICAgICAgICBjb2RlOiAzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5lcnJvcihcclxuICAgICAgICB0aGlzLmRlYnVnVGFncy5PTkVORCxcclxuICAgICAgICBcIiBFcnJvclwiICsgZXJyb3IudG9TdHJpbmcoKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgICAvLyB0aGlzLmF0dGFjaE1lZGlhKCk7XHJcbiAgfVxyXG4gIG9uVGltZVVwZGF0ZSgpIHtcclxuICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy51cGRhdGUodGhpcy51cGRhdGVQbGF5ZXJTdGF0ZSgpKTtcclxuICB9XHJcbiAgdXBkYXRlUGxheWVyU3RhdGUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjdXJyZW50VGltZTogdGhpcy52aWRlby5jdXJyZW50VGltZSxcclxuICAgICAgZHVyYXRpb246IHRoaXMudmlkZW9PYmplY3QuZHVyYXRpb24sXHJcbiAgICB9O1xyXG4gIH1cclxuICBhdHRhY2hNZWRpYSgpIHtcclxuICAgIHZwUmVjZWl2ZXIuSExTc3VwcG9ydGVkID0gSGxzLmlzU3VwcG9ydGVkKCk7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImluc2lkZSBhdHRhY2ggbWVkaWFcIiwgdnBSZWNlaXZlci5ITFNzdXBwb3J0ZWQpO1xyXG4gICAgdGhpcy52aWRlby5wbGF5YmFja1JhdGUgPSAxO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFwidmlkZW8gZmlsZVwiLFxyXG4gICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLnZpZGVvLCBbXCJpZFwiLCBcImNsYXNzTmFtZVwiLCBcInRhZ05hbWVcIl0pXHJcbiAgICApO1xyXG4gICAgaWYgKHRoaXMudmlkZW9PYmplY3QuZmlsZS5lbmRzV2l0aChcIm1wNFwiKSkge1xyXG4gICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImluc2lkZSBtcDRcIiwgdGhpcy52aWRlb09iamVjdC5maWxlKTtcclxuICAgICAgdGhpcy52aWRlby5zcmMgPSB0aGlzLnZpZGVvT2JqZWN0LmZpbGU7XHJcbiAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgIH0gZWxzZSBpZiAodnBSZWNlaXZlci5ITFNzdXBwb3J0ZWQpIHtcclxuICAgICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJpbnNpZGUgaGxzc3VwcG9ydGVkXCIsIHRoaXMudmlkZW9PYmplY3QuZmlsZSk7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGhpcy5obHMgPSBuZXcgSGxzKCk7XHJcbiAgICAgICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJobHMgaW5pdGlhbGl6ZWRcIiwgdGhpcy52aWRlb09iamVjdC5maWxlKTtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50VGltZSA+IDApIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSB0aGlzLmN1cnJlbnRUaW1lO1xyXG4gICAgICAgIHRoaXMuaGxzLmF0dGFjaE1lZGlhKHRoaXMudmlkZW8pO1xyXG4gICAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiYXR0YWNoZWQgbWVkaWFcIiwgdGhpcy52aWRlb09iamVjdC5maWxlKTtcclxuICAgICAgICB0aGlzLmhscy5vbihIbHMuRXZlbnRzLk1FRElBX0FUVEFDSEVELCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImFtZWRpYSBhdHRhY2hlZFwiLCB0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG4gICAgICAgICAgdGhpcy5obHMuc3RhcnRMZXZlbCA9IDA7XHJcbiAgICAgICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgICAgICAgXCJsb2FkaW5nIHNvdXJjZSBobHNzdXBwb3J0ZWRcIixcclxuICAgICAgICAgICAgdGhpcy52aWRlb09iamVjdC5maWxlXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgdGhpcy5obHMubG9hZFNvdXJjZSh0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuTUFOSUZFU1RfUEFSU0VELCAoZXZlbnQsIGRhdGEpID0+IHtcclxuICAgICAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmhscy5vbihIbHMuRXZlbnRzLkVSUk9SLCAoZXZlbnQsIGRhdGEpID0+IHtcclxuICAgICAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiSExTICBFUlJPUlwiLCBkYXRhLmRldGFpbHMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge31cclxuXHJcbiAgICAgIC8vIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuRVJST1IsIChldmVudCwgZGF0YSkgPT4ge1xyXG4gICAgICAvLyAgIGlmIChkYXRhLmRldGFpbHMgPT09IFwibWFuaWZlc3RMb2FkRXJyb3JcIikge1xyXG4gICAgICAvLyAgICAgdGhpcy52aWRlb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzZXMuZWZmZWN0cy5oaWRlQ29udGVudCk7XHJcbiAgICAgIC8vICAgICB0aGlzLnZpZGVvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3Nlcy5lZmZlY3RzLnNob3dFcnJvcik7XHJcbiAgICAgIC8vICAgfVxyXG5cclxuICAgICAgLy8gICBpZiAoZGF0YS5kZXRhaWxzID09PSBcIm1hbmlmZXN0TG9hZFRpbWVPdXRcIikge1xyXG4gICAgICAvLyAgICAgdGhpcy52aWRlb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzZXMuZWZmZWN0cy5oaWRlQ29udGVudCk7XHJcbiAgICAgIC8vICAgICB0aGlzLnZpZGVvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3Nlcy5lZmZlY3RzLnNob3dFcnJvcik7XHJcbiAgICAgIC8vICAgfVxyXG5cclxuICAgICAgLy8gICBpZiAoZGF0YS5kZXRhaWxzID09PSBcIm1hbmlmZXN0UGFyc2luZ0Vycm9yXCIpIHtcclxuICAgICAgLy8gICAgIHRoaXMudmlkZW9Db250YWluZXIuY2xhc3NMaXN0LmFkZChjc3NDbGFzc2VzLmVmZmVjdHMuaGlkZUNvbnRlbnQpO1xyXG4gICAgICAvLyAgICAgdGhpcy52aWRlb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzZXMuZWZmZWN0cy5zaG93RXJyb3IpO1xyXG4gICAgICAvLyAgIH1cclxuXHJcbiAgICAgIC8vICAgaWYgKGRhdGEuZGV0YWlscyA9PT0gXCJsZXZlbExvYWRFcnJvclwiKSB7XHJcbiAgICAgIC8vICAgICB0aGlzLnJlbW92ZUxldmVsKGRhdGEuY29udGV4dC5sZXZlbCk7XHJcbiAgICAgIC8vICAgfVxyXG5cclxuICAgICAgLy8gICBpZiAoZGF0YS5kZXRhaWxzID09PSBcImZyYWdMb2FkRXJyb3JcIikge1xyXG4gICAgICAvLyAgICAgdGhpcy5mcmFnRXJyb3JDb3VudCsrO1xyXG4gICAgICAvLyAgICAgLy8gc24gcmVmZXJlcyB0byBzZXF1ZW5jZSBudW1iZXJcclxuICAgICAgLy8gICAgIGlmIChkYXRhLmZyYWcuc24gPT0gMCkgdGhpcy5mYWlsZWRUb0xvYWRGaXJzdEZyYWdtZW50ID0gdHJ1ZTtcclxuICAgICAgLy8gICB9XHJcblxyXG4gICAgICAvLyAgIGlmICh0aGlzLmxldmVsSGFzTWlzc2luZ0ZyYWdtZW50cygpKSB7XHJcbiAgICAgIC8vICAgICB0aGlzLmZyYWdFcnJvckNvdW50ID0gMDtcclxuICAgICAgLy8gICAgIHRoaXMucmVtb3ZlTGV2ZWwoZGF0YS5mcmFnLmxldmVsKTtcclxuICAgICAgLy8gICAgIHRoaXMuaGxzLmxvYWRMZXZlbCA9IC0xO1xyXG4gICAgICAvLyAgICAgY29uc29sZS5sb2coXCJOZXR3b3JrIGVycm9yIGVuY291bnRlcmVkXCIpO1xyXG4gICAgICAvLyAgIH1cclxuXHJcbiAgICAgIC8vICAgaWYgKHRoaXMuZmFpbGVkVG9Mb2FkRmlyc3RGcmFnbWVudCkge1xyXG4gICAgICAvLyAgICAgdGhpcy5mYWlsZWRUb0xvYWRGaXJzdEZyYWdtZW50ID0gZmFsc2U7XHJcbiAgICAgIC8vICAgICB0aGlzLnJlbW92ZUxldmVsKGRhdGEuZnJhZy5sZXZlbCk7XHJcbiAgICAgIC8vICAgICB0aGlzLmhscy5sb2FkTGV2ZWwgPSAtMTtcclxuICAgICAgLy8gICAgIHRoaXMub25QbGF5KCk7XHJcbiAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIk5ldHdvcmsgZXJyb3IgZW5jb3VudGVyZWRcIik7XHJcbiAgICAgIC8vICAgfVxyXG5cclxuICAgICAgLy8gICBpZiAoIWRhdGEuZmF0YWwpIHtcclxuICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgLy8gICB9XHJcblxyXG4gICAgICAvLyAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgIC8vICAgICBjYXNlIEhscy5FcnJvclR5cGVzLk5FVFdPUktfRVJST1I6XHJcbiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKFwiZmF0YWwgbmV0d29yayBlcnJvciBlbmNvdW50ZXJlZFwiKTtcclxuICAgICAgLy8gICAgICAgdGhpcy5obHMuc3RhcnRMb2FkKCk7XHJcbiAgICAgIC8vICAgICAgIGJyZWFrO1xyXG4gICAgICAvLyAgICAgY2FzZSBIbHMuRXJyb3JUeXBlcy5NRURJQV9FUlJPUjpcclxuICAgICAgLy8gICAgICAgY29uc29sZS5sb2coXCJmYXRhbCBtZWRpYSBlcnJvciBlbmNvdW50ZXJlZFwiKTtcclxuICAgICAgLy8gICAgICAgdGhpcy5obHMucmVjb3Zlck1lZGlhRXJyb3IoKTtcclxuICAgICAgLy8gICAgICAgYnJlYWs7XHJcbiAgICAgIC8vICAgICBkZWZhdWx0OlxyXG4gICAgICAvLyAgICAgICB0aGlzLmhscy5kZXN0cm95KCk7XHJcbiAgICAgIC8vICAgICAgIGJyZWFrO1xyXG4gICAgICAvLyAgIH1cclxuICAgICAgLy8gfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImZpbmlzaGVkIGF0dGFjaCBtZWRpYVwiKTtcclxuICAgIC8vICBlbHNlIGlmICh0aGlzLnZpZGVvLmNhblBsYXlUeXBlKFwiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIikpIHtcclxuICAgIC8vICAgdGhpcy52aWRlby5zcmMgPSB0aGlzLnZpZGVvT2JqZWN0LmZpbGU7XHJcbiAgICAvLyAgIGlmIChVdGlscy5pc0lPUygpKSB7XHJcbiAgICAvLyAgICAgZnBzX2RybS5pbml0KFxyXG4gICAgLy8gICAgICAgdGhpcy52aWRlbyxcclxuICAgIC8vICAgICAgIGNvbmZpZy5mcHNDZXJ0aWZpY2F0ZVVybCxcclxuICAgIC8vICAgICAgIHRoaXMudmlkZW9PYmplY3QuYXNzZXRJZFxyXG4gICAgLy8gICAgICk7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vICAgdGhpcy52aWRlby5wbGF5c0lubGluZSA9IHRydWU7XHJcbiAgICAvLyAgIHRoaXMuc3RhcnQoKTtcclxuICAgIC8vIH1cclxuICB9XHJcbiAgZmFrZWluaXQoKSB7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlciA9IHtcclxuICAgICAgZGVidWc6IGZ1bmN0aW9uICh0eXBlLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2codHlwZSwgbWVzc2FnZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGVycm9yOiBmdW5jdGlvbiAodHlwZSwgbWVzc2FnZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHR5cGUsIG1lc3NhZ2UpO1xyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy5zZXRDYXN0RGVidWdnZXIodGhpcy5jYXN0RGVidWdMb2dnZXIpO1xyXG4gICAgdGhpcy52aWRlb09iamVjdC5maWxlID1cclxuICAgICAgXCJodHRwczovL3ZwLmdqaXJhZmEubmV0L3Zwcy9wcm9kL29kZ2VodHlvL2VuY29kZS92anNteWxkcy9tcDQvMTA4MHAubXA0XCI7XHJcblxyXG4gICAgdGhpcy5hdHRhY2hNZWRpYSgpO1xyXG4gICAgdGhpcy5iaW5kTWV0aG9kcygpO1xyXG4gICAgLy8gdGhpcy5iaW5kSW50ZXJjZXB0b3JzKCk7XHJcbiAgICB0aGlzLmFkZFBsYXllckV2ZW50cygpO1xyXG4gIH1cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5jb250ZXh0ID0gY2FzdC5mcmFtZXdvcmsuQ2FzdFJlY2VpdmVyQ29udGV4dC5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgIHRoaXMuY29udGV4dC5zZXRMb2dnZXJMZXZlbChjYXN0LmZyYW1ld29yay5Mb2dnZXJMZXZlbC5ERUJVRyk7XHJcblxyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIgPSBjYXN0LmRlYnVnLkNhc3REZWJ1Z0xvZ2dlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuc2V0RW5hYmxlZCh0cnVlKTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKHRoaXMuZGVidWdUYWdzLklOSVQsIFwiY2FzdGRlYnVnZ2VyIGluaXRpYWxpemVkXCIpO1xyXG4gICAgdGhpcy5wbGF5ZXJNYW5hZ2VyID0gdGhpcy5jb250ZXh0LmdldFBsYXllck1hbmFnZXIoKTtcclxuICAgIHRoaXMucGxheWVyTWFuYWdlci5zZXRNZWRpYUVsZW1lbnQodGhpcy52aWRlbyk7XHJcblxyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLnNldENhc3REZWJ1Z2dlcih0aGlzLmNhc3REZWJ1Z0xvZ2dlcik7XHJcbiAgICAvLyB0aGlzLnBsYXliYWNrQ29uZmlnLmF1dG9SZXN1bWVEdXJhdGlvbiA9IDU7XHJcbiAgICAvLyB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5pbmZvKExPR19SRUNFSVZFUl9UQUcsIGBhdXRvaW5pdDogYCk7XHJcbiAgICAvLyB0aGlzLmNvbnRyb2xzLmNsZWFyRGVmYXVsdFNsb3RBc3NpZ25tZW50cygpO1xyXG4gICAgLy8gdGhpcy5kcmF3QnV0dG9ucygpO1xyXG5cclxuICAgIC8vIGNvbnRleHQuc3RhcnQoe1xyXG4gICAgLy8gICBxdWV1ZTogbmV3IENhc3RRdWV1ZSgpLFxyXG4gICAgLy8gICBwbGF5YmFja0NvbmZpZzogdGhpcy5wbGF5YmFja0NvbmZpZyxcclxuICAgIC8vICAgc3VwcG9ydGVkQ29tbWFuZHM6XHJcbiAgICAvLyAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuQ29tbWFuZC5BTExfQkFTSUNfTUVESUEgfFxyXG4gICAgLy8gICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkNvbW1hbmQuUVVFVUVfUFJFViB8XHJcbiAgICAvLyAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuQ29tbWFuZC5RVUVVRV9ORVhUIHxcclxuICAgIC8vICAgICBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5Db21tYW5kLlNUUkVBTV9UUkFOU0ZFUixcclxuICAgIC8vIH0pO1xyXG4gICAgLy8gdGhpcy5iaW5kSW50ZXJjZXB0b3JzKCk7XHJcbiAgICAvLyB0aGlzLnZpZGVvT2JqZWN0LmZpbGUgPVxyXG4gICAgLy8gICBcImh0dHBzOi8vdnAuZ2ppcmFmYS5uZXQvdnBzL3Byb2Qvb2RnZWh0eW8vZW5jb2RlL3Zqc215bGRzL21wNC8zNjBwLm1wNFwiO1xyXG4gICAgLy8gdGhpcy5hdHRhY2hNZWRpYSgpO1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG5ldyBjYXN0LmZyYW1ld29yay5DYXN0UmVjZWl2ZXJPcHRpb25zKCk7XHJcbiAgICAvLyBNYXAgb2YgbmFtZXNwYWNlIG5hbWVzIHRvIHRoZWlyIHR5cGVzLlxyXG4gICAgb3B0aW9ucy5jdXN0b21OYW1lc3BhY2VzID0ge307XHJcbiAgICBvcHRpb25zLmN1c3RvbU5hbWVzcGFjZXNbdGhpcy5OQU1FU1BBQ0VdID1cclxuICAgICAgY2FzdC5mcmFtZXdvcmsuc3lzdGVtLk1lc3NhZ2VUeXBlLkpTT047XHJcbiAgICB0aGlzLmNvbnRleHQuc3RhcnQob3B0aW9ucyk7XHJcbiAgICB0aGlzLmJpbmRNZXRob2RzKCk7XHJcbiAgICB0aGlzLmJpbmRJbnRlcmNlcHRvcnMoKTtcclxuICAgIHRoaXMuYWRkUGxheWVyRXZlbnRzKCk7XHJcbiAgfVxyXG4gIG9uU2VlayhyZXF1ZXN0RGF0YSkge1xyXG4gICAgdGhpcy52aWRlby5jdXJyZW50VGltZSA9IHJlcXVlc3REYXRhLmN1cnJlbnRUaW1lO1xyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLnNob3dDb250cm9scygpO1xyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLmhpZGVDb250cm9scyg2MDAwKTtcclxuXHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMudXBkYXRlKHRoaXMudXBkYXRlUGxheWVyU3RhdGUoKSk7XHJcbiAgfVxyXG4gIGRyYXdCdXR0b25zKCkge1xyXG4gICAgdGhpcy5jb250cm9scy5hc3NpZ25CdXR0b24oXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnVpLkNvbnRyb2xzU2xvdC5TTE9UX1NFQ09OREFSWV8xLFxyXG4gICAgICBjYXN0LmZyYW1ld29yay51aS5Db250cm9sc0J1dHRvbi5RVUVVRV9QUkVWXHJcbiAgICApO1xyXG4gICAgdGhpcy5jb250cm9scy5hc3NpZ25CdXR0b24oXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnVpLkNvbnRyb2xzU2xvdC5TTE9UX1BSSU1BUllfMSxcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNCdXR0b24uQ0FQVElPTlNcclxuICAgICk7XHJcbiAgICB0aGlzLmNvbnRyb2xzLmFzc2lnbkJ1dHRvbihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNTbG90LlNMT1RfUFJJTUFSWV8yLFxyXG4gICAgICBjYXN0LmZyYW1ld29yay51aS5Db250cm9sc0J1dHRvbi5TRUVLX0ZPUldBUkRfMTVcclxuICAgICk7XHJcbiAgICB0aGlzLmNvbnRyb2xzLmFzc2lnbkJ1dHRvbihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNTbG90LlNMT1RfU0VDT05EQVJZXzIsXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnVpLkNvbnRyb2xzQnV0dG9uLlFVRVVFX05FWFRcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBiaW5kSW50ZXJjZXB0b3JzKCkge1xyXG4gICAgdGhpcy5jb250ZXh0LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnN5c3RlbS5FdmVudFR5cGUuU0VOREVSX0RJU0NPTk5FQ1RFRCxcclxuICAgICAgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgd2luZG93LmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICAvLyB0aGlzLmNvbnRleHQuYWRkQ3VzdG9tTWVzc2FnZUxpc3RlbmVyKE5BTUVTUEFDRSwgKGV2ZW50KSA9PiB7XHJcbiAgICAvLyAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgLy8gICAgIHRoaXMuZGVidWdUYWdzLkVWRU5UUyxcclxuICAgIC8vICAgICBcImFkZEN1c3RvbU1lc3NhZ2VMaXN0ZW5lclwiICsgZXZlbnQuZGF0YVxyXG4gICAgLy8gICApO1xyXG4gICAgLy8gfSk7XHJcbiAgICB0aGlzLnBsYXllck1hbmFnZXIuc2V0TWVzc2FnZUludGVyY2VwdG9yKFxyXG4gICAgICBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5NZXNzYWdlVHlwZS5MT0FELFxyXG4gICAgICB0aGlzLm9uTG9hZFJlcXVlc3QuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucGxheWVyTWFuYWdlci5zZXRNZXNzYWdlSW50ZXJjZXB0b3IoXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLk1lc3NhZ2VUeXBlLlBMQVksXHJcbiAgICAgIHRoaXMub25QbGF5LmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnBsYXllck1hbmFnZXIuc2V0TWVzc2FnZUludGVyY2VwdG9yKFxyXG4gICAgICBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5NZXNzYWdlVHlwZS5QQVVTRSxcclxuICAgICAgdGhpcy5vblBhdXNlLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnBsYXllck1hbmFnZXIuc2V0TWVzc2FnZUludGVyY2VwdG9yKFxyXG4gICAgICBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5NZXNzYWdlVHlwZS5TRUVLLFxyXG4gICAgICB0aGlzLm9uU2Vlay5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gIH1cclxuICBiaW5kTWV0aG9kcygpIHtcclxuICAgIHRoaXMuYmluZEludGVyY2VwdG9ycyA9IHRoaXMuYmluZEludGVyY2VwdG9ycy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vbkxvYWRSZXF1ZXN0ID0gdGhpcy5vbkxvYWRSZXF1ZXN0LmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmF0dGFjaE1lZGlhID0gdGhpcy5hdHRhY2hNZWRpYS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5zdGFydCA9IHRoaXMuc3RhcnQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuYWRkUGxheWVyRXZlbnRzID0gdGhpcy5hZGRQbGF5ZXJFdmVudHMuYmluZCh0aGlzKTtcclxuICAgIHRoaXMub25UaW1lVXBkYXRlID0gdGhpcy5vblRpbWVVcGRhdGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMub25QbGF5ID0gdGhpcy5vblBsYXkuYmluZCh0aGlzKTtcclxuICAgIHRoaXMub25QYXVzZSA9IHRoaXMub25QYXVzZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy51cGRhdGVQbGF5ZXJTdGF0ZSA9IHRoaXMudXBkYXRlUGxheWVyU3RhdGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMub25FbmQgPSB0aGlzLm9uRW5kLmJpbmQodGhpcyk7XHJcbiAgfVxyXG4gIG9uTG9hZFJlcXVlc3QobG9hZFJlcXVlc3REYXRhKSB7XHJcbiAgICAvLyBJZiB0aGUgbG9hZFJlcXVlc3REYXRhIGlzIGluY29tcGxldGUgcmV0dXJuIGFuIGVycm9yIG1lc3NhZ2VcclxuICAgIC8vIGlmICghbG9hZFJlcXVlc3REYXRhIHx8ICFsb2FkUmVxdWVzdERhdGEubWVkaWEpIHtcclxuICAgIC8vICAgY29uc3QgZXJyb3IgPSBuZXcgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuRXJyb3JEYXRhKFxyXG4gICAgLy8gICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkVycm9yVHlwZS5MT0FEX0ZBSUxFRFxyXG4gICAgLy8gICApO1xyXG4gICAgLy8gICBlcnJvci5yZWFzb24gPSBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5FcnJvclJlYXNvbi5JTlZBTElEX1JFUVVFU1Q7XHJcbiAgICAvLyAgIHJldHVybiBlcnJvcjtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyAvLyBjaGVjayBhbGwgY29udGVudCBzb3VyY2UgZmllbGRzIGZvciBhc3NldCBVUkwgb3IgSURcclxuICAgIC8vIGxldCBzb3VyY2UgPVxyXG4gICAgLy8gICBsb2FkUmVxdWVzdERhdGEubWVkaWEuY29udGVudFVybCB8fFxyXG4gICAgLy8gICBsb2FkUmVxdWVzdERhdGEubWVkaWEuZW50aXR5IHx8XHJcbiAgICAvLyAgIGxvYWRSZXF1ZXN0RGF0YS5tZWRpYS5jb250ZW50SWQ7XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuc3BsYXNoU2NyZWVuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy5vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiVlByZWNlaXZlclwiLCBsb2FkUmVxdWVzdERhdGEubWVkaWEuY29udGVudElkKTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiVlByZWNlaXZlcjFcIiwgSGxzLmlzU3VwcG9ydGVkKCkpO1xyXG4gICAgdGhpcy52aWRlb09iamVjdC5maWxlID0gbG9hZFJlcXVlc3REYXRhLm1lZGlhLmNvbnRlbnRJZDtcclxuICAgIHRoaXMudmlkZW9PYmplY3QuZHVyYXRpb24gPSBsb2FkUmVxdWVzdERhdGEubWVkaWEubWV0YWRhdGEuZHVyYXRpb247XHJcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gbG9hZFJlcXVlc3REYXRhLmN1cnJlbnRUaW1lO1xyXG4gICAgdGhpcy5wbGF5YmFja1JhdGUgPSBsb2FkUmVxdWVzdERhdGEucGxheWJhY2tSYXRlO1xyXG4gICAgdGhpcy5hdXRvcGxheSA9IGxvYWRSZXF1ZXN0RGF0YS5hdXRvcGxheTtcclxuICAgIC8vIHRyeSB7XHJcbiAgICB0aGlzLmNvbmZpZy5yZXBsYXkgPVxyXG4gICAgICB0eXBlb2YgbG9hZFJlcXVlc3REYXRhLnJlcGxheSAhPT0gXCJ1bmRlZmluZWRcIlxyXG4gICAgICAgID8gbG9hZFJlcXVlc3REYXRhLnJlcGxheVxyXG4gICAgICAgIDogdHJ1ZTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICAobG9hZFJlcXVlc3REYXRhLmN1c3RvbURhdGEudmFzdFVybCB8fFxyXG4gICAgICAgICAgbG9hZFJlcXVlc3REYXRhLmN1c3RvbURhdGEudmFzdFhtbCkgJiZcclxuICAgICAgICBmYWxzZVxyXG4gICAgICApIHtcclxuICAgICAgICAvLyB0aGlzLnBsYXllck1hbmFnZXIuc2V0TWVkaWFFbGVtZW50KHRoaXMudmlkZW8pO1xyXG4gICAgICAgIHRoaXMuYnJvYWRjYXN0KHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwicGxheWluZyBhZFwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudmFzdFNlcnZpY2UubG9hZEFkcyhcclxuICAgICAgICAgIGxvYWRSZXF1ZXN0RGF0YS5jdXN0b21EYXRhLnZhc3RVcmwsXHJcbiAgICAgICAgICBsb2FkUmVxdWVzdERhdGEuY3VzdG9tRGF0YS52YXN0WG1sXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmJyb2FkY2FzdCh7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcImFkIGxvYWRpbmcgZmluaXNoZWRcIixcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgICAgIHRoaXMuZGVidWdUYWdzLkxPQURfUkVRVUVTVCxcclxuICAgICAgICAgIFwiTG9hZGluZyBhZCBmaW5pc2hlZFwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmF0dGFjaE1lZGlhKCk7XHJcbiAgICAgICAgdGhpcy5icm9hZGNhc3Qoe1xyXG4gICAgICAgICAgbWVzc2FnZTogXCJhdHRhY2hpbmcgbWVkaWFcIixcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgdGhpcy5icm9hZGNhc3Qoe1xyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLnRvU3RyaW5nKCksXHJcbiAgICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gc291cmNlIG9yIGEgbWFsZm9ybWVkIElEIHRoZW4gcmV0dXJuIGFuIGVycm9yLlxyXG4gICAgaWYgKCFzb3VyY2UgfHwgc291cmNlID09IFwiXCIgfHwgIXNvdXJjZS5tYXRjaChJRF9SRUdFWCkpIHtcclxuICAgICAgbGV0IGVycm9yID0gbmV3IGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkVycm9yRGF0YShcclxuICAgICAgICBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5FcnJvclR5cGUuTE9BRF9GQUlMRURcclxuICAgICAgKTtcclxuICAgICAgZXJyb3IucmVhc29uID0gY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuRXJyb3JSZWFzb24uSU5WQUxJRF9SRVFVRVNUO1xyXG4gICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNvdXJjZUlkID0gc291cmNlLm1hdGNoKElEX1JFR0VYKVsxXTtcclxuXHJcbiAgICAvLyBBZGQgYnJlYWtzIHRvIHRoZSBtZWRpYSBpbmZvcm1hdGlvbiBhbmQgc2V0IHRoZSBjb250ZW50VXJsXHJcbiAgICByZXR1cm4gYWRkQnJlYWtzKGxvYWRSZXF1ZXN0RGF0YS5tZWRpYSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIC8vIElmIHRoZSBzb3VyY2UgaXMgYSB1cmwgdGhhdCBwb2ludHMgdG8gYW4gYXNzZXQgZG9uJ3QgZmV0Y2ggZnJvbSBiYWNrZW5kXHJcbiAgICAgICAgaWYgKHNvdXJjZUlkLmluY2x1ZGVzKFwiLlwiKSkge1xyXG4gICAgICAgICAgY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICAgICAgICBMT0dfUkVDRUlWRVJfVEFHLFxyXG4gICAgICAgICAgICBcIkludGVyY2VwdG9yIHJlY2VpdmVkIGZ1bGwgVVJMXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBsb2FkUmVxdWVzdERhdGEubWVkaWEuY29udGVudFVybCA9IHNvdXJjZTtcclxuICAgICAgICAgIHJldHVybiBsb2FkUmVxdWVzdERhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGZXRjaCB0aGUgY29udGVudFVybCBpZiBwcm92aWRlZCBhbiBJRCBvciBlbnRpdHkgVVJMXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBjYXN0RGVidWdMb2dnZXIuZGVidWcoTE9HX1JFQ0VJVkVSX1RBRywgXCJJbnRlcmNlcHRvciByZWNlaXZlZCBJRFwiKTtcclxuICAgICAgICAgIHJldHVybiB0aGlzLmZldGNoTWVkaWFCeUlkKHNvdXJjZUlkKS50aGVuKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBtZXRhZGF0YSA9IG5ldyBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5HZW5lcmljTWVkaWFNZXRhZGF0YSgpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YS50aXRsZSA9IGl0ZW0udGl0bGU7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhLnN1YnRpdGxlID0gaXRlbS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgbG9hZFJlcXVlc3REYXRhLm1lZGlhLmNvbnRlbnRJZCA9IGl0ZW0uc3RyZWFtLmRhc2g7XHJcbiAgICAgICAgICAgIGxvYWRSZXF1ZXN0RGF0YS5tZWRpYS5jb250ZW50VHlwZSA9IFwiYXBwbGljYXRpb24vZGFzaCt4bWxcIjtcclxuICAgICAgICAgICAgbG9hZFJlcXVlc3REYXRhLm1lZGlhLm1ldGFkYXRhID0gbWV0YWRhdGE7XHJcbiAgICAgICAgICAgIHJldHVybiBsb2FkUmVxdWVzdERhdGE7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgbGV0IGVycm9yID0gbmV3IGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkVycm9yRGF0YShcclxuICAgICAgICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkVycm9yVHlwZS5MT0FEX0ZBSUxFRFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZXJyb3IucmVhc29uID0gY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuRXJyb3JSZWFzb24uSU5WQUxJRF9SRVFVRVNUO1xyXG4gICAgICAgIGNhc3REZWJ1Z0xvZ2dlci5lcnJvcihMT0dfUkVDRUlWRVJfVEFHLCBlcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIGFkZEJyZWFrcyhtZWRpYUluZm9ybWF0aW9uKSB7XHJcbiAgICBjYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIExPR19SRUNFSVZFUl9UQUcsXHJcbiAgICAgIFwiYWRkQnJlYWtzOiBcIiArIEpTT04uc3RyaW5naWZ5KG1lZGlhSW5mb3JtYXRpb24pXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIGZldGNoTWVkaWFCeUlkKFwiZmJiX2FkXCIpLnRoZW4oKGNsaXAxKSA9PiB7XHJcbiAgICAgIG1lZGlhSW5mb3JtYXRpb24uYnJlYWtDbGlwcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogXCJmYmJfYWRcIixcclxuICAgICAgICAgIHRpdGxlOiBjbGlwMS50aXRsZSxcclxuICAgICAgICAgIGNvbnRlbnRVcmw6IGNsaXAxLnN0cmVhbS5kYXNoLFxyXG4gICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vZGFzaCt4bWxcIixcclxuICAgICAgICAgIHdoZW5Ta2lwcGFibGU6IDUsXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIG1lZGlhSW5mb3JtYXRpb24uYnJlYWtzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiBcInByZS1yb2xsXCIsXHJcbiAgICAgICAgICBicmVha0NsaXBJZHM6IFtcImZiYl9hZFwiXSxcclxuICAgICAgICAgIHBvc2l0aW9uOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF07XHJcbiAgICB9KTtcclxuICB9XHJcbiAgZmV0Y2hNZWRpYUJ5SWQoaWQpIHtcclxuICAgIGNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhMT0dfUkVDRUlWRVJfVEFHLCBcImZldGNoaW5nIGlkOiBcIiArIGlkKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKGFjY2VwdCwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGZldGNoKENPTlRFTlRfVVJMKVxyXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAgIC50aGVuKChvYmopID0+IHtcclxuICAgICAgICAgIGlmIChvYmopIHtcclxuICAgICAgICAgICAgaWYgKG9ialtpZF0pIHtcclxuICAgICAgICAgICAgICBhY2NlcHQob2JqW2lkXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcmVqZWN0KGAke2lkfSBub3QgZm91bmQgaW4gcmVwb3NpdG9yeWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZWplY3QoXCJDb250ZW50IHJlcG9zaXRvcnkgbm90IGZvdW5kLlwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmVjZWl2ZXI7XHJcbiIsImltcG9ydCBTZWVrQmFyIGZyb20gXCIuL3NlZWtiYXJcIjtcclxuaW1wb3J0IFRpbWVyIGZyb20gXCIuL3RpbWVyXCI7XHJcbmNsYXNzIFJlY2VpdmVyQ29udHJvbHMge1xyXG4gIGNvbnN0cnVjdG9yKGlkKSB7XHJcbiAgICB0aGlzLnNlZWtiYXIgPSBuZXcgU2Vla0JhcihcIi5zZWVrYmFyLXByb2dyZXNzXCIpO1xyXG4gICAgdGhpcy50aW1lciA9IG5ldyBUaW1lcihcIi50aW1lclwiKTtcclxuICAgIHRoaXMuY2FzdERlYnVnZ2VyID0gbnVsbDtcclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWQpO1xyXG4gICAgdGhpcy5vdmVybGF5ID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICB0aGlzLnZpZGVvSW5mbyA9IHRoaXMub3ZlcmxheS5jaGlsZHJlblswXTtcclxuICAgIHRoaXMuc2hvdyA9IHRydWU7XHJcbiAgICB0aGlzLmxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGVyXCIpO1xyXG4gICAgdGhpcy5wbGF5SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudnAtaWNvbi1wbGF5XCIpO1xyXG4gICAgdGhpcy5wYXVzZUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnZwLWljb24tcGF1c2VcIik7XHJcbiAgICB0aGlzLnZpZGVvSW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5mb1wiKTtcclxuICAgIHRoaXMuc3BsYXNoU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zcGxhc2gtc2NyZWVuXCIpO1xyXG4gIH1cclxuICBzZXRDYXN0RGVidWdnZXIoY2FzdERlYnVnZ2VyKSB7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z2dlciA9IGNhc3REZWJ1Z2dlcjtcclxuICAgIHRoaXMuc2Vla2Jhci5zZXRDYXN0RGVidWdnZXIodGhpcy5jYXN0RGVidWdnZXIpO1xyXG4gIH1cclxuICBwYXVzZSgpIHtcclxuICAgIHRoaXMucGF1c2VJY29uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHRoaXMucGxheUljb24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLnBsYXlJY29uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH0sIDIwMDApO1xyXG4gIH1cclxuICBwbGF5KCkge1xyXG4gICAgdGhpcy5wbGF5SWNvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB0aGlzLnBhdXNlSWNvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMucGF1c2VJY29uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH0sIDIwMDApO1xyXG4gIH1cclxuICB1cGRhdGUoc3RhdGUpIHtcclxuICAgIHRoaXMuc2Vla2Jhci5zZXRQcm9ncmVzcyhzdGF0ZS5jdXJyZW50VGltZSwgc3RhdGUuZHVyYXRpb24pO1xyXG4gICAgdGhpcy50aW1lci51cGRhdGUoc3RhdGUuY3VycmVudFRpbWUsIHN0YXRlLmR1cmF0aW9uKTtcclxuICB9XHJcbiAgaGlkZUNvbnRyb2xzKHRpbWUpIHtcclxuICAgIHRoaXMuc2hvdyA9IGZhbHNlO1xyXG4gICAgdGhpcy5zaG93SGlkZSh0aW1lIHx8IDUwMDApO1xyXG4gIH1cclxuICBzaG93Q29udHJvbHMoKSB7XHJcbiAgICB0aGlzLnNob3cgPSB0cnVlO1xyXG4gICAgdGhpcy5zaG93SGlkZSgxMCk7XHJcbiAgfVxyXG4gIHNob3dIaWRlKHRpbWluZykge1xyXG4gICAgLy8gdGhpcy5jYXN0ZGVidWdnZXIuZGVidWcoXCJzaG93SGlkZVwiLCBgJHt0aW1pbmd9ICR7dGhpcy5zaG93fWApO1xyXG4gICAgaWYgKHRoaXMuc2hvdykge1xyXG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgfSwgdGltaW5nKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlY2VpdmVyQ29udHJvbHM7XHJcbiIsImltcG9ydCBVdGlscyBmcm9tIFwiLi4vaGVscGVycy9VdGlsc1wiO1xyXG5cclxuY2xhc3MgVGltZXIge1xyXG4gIGNvbnN0cnVjdG9yKGlkKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlkKTtcclxuICAgIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCA9IFwiMDA6MDAgLyAwMDowMFwiO1xyXG4gIH1cclxuICB1cGRhdGUoY3VycmVudFRpbWUsIGR1cmF0aW9uKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHtVdGlscy5mb3JtYXRUaW1lKFxyXG4gICAgICBjdXJyZW50VGltZVxyXG4gICAgKX0gLyR7VXRpbHMuZm9ybWF0VGltZShkdXJhdGlvbil9YDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRpbWVyO1xyXG4iXSwibmFtZXMiOlsidGltZSIsImhvdXJzIiwiTWF0aCIsImZsb29yIiwibWludXRlcyIsInNlY29uZHMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiVmFzdFNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsInJlY2VpdmVyIiwidGhpcyIsImFkQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRzRGlzcGxheUNvbnRhaW5lciIsImFkc0xvYWRlciIsImFkc0Rpc3BsYXlJbml0aWFsaXplZCIsImN1cnJlbnRBZHMiLCJpbml0aWFsaXplZCIsImF1dG9wbGF5QWxsb3dlZCIsImF1dG9wbGF5UmVxdWlyZXNNdXRlZCIsImhhc0Vycm9ycyIsImluaXQiLCJnb29nbGUiLCJpbWEiLCJzZXR0aW5ncyIsInNldFZwYWlkTW9kZSIsIkltYVNka1NldHRpbmdzIiwiVnBhaWRNb2RlIiwiRU5BQkxFRCIsIkFkRGlzcGxheUNvbnRhaW5lciIsInZpZGVvIiwiQWRzTG9hZGVyIiwiZ2V0U2V0dGluZ3MiLCJzZXRQbGF5ZXJUeXBlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkFkc01hbmFnZXJMb2FkZWRFdmVudCIsIlR5cGUiLCJBRFNfTUFOQUdFUl9MT0FERUQiLCJvbkFkc01hbmFnZXJMb2FkZWQiLCJiaW5kIiwiQWRFcnJvckV2ZW50IiwiQURfRVJST1IiLCJvbkFkRXJyb3IiLCJvbkFsbEFkc0NvbXBsZXRlZCIsImUiLCJjYXN0RGVidWdMb2dnZXIiLCJkZWJ1ZyIsIkRFQlVHX1ZBU1RfU0VSVklDRSIsIm9uQWRDb21wbGV0ZWQiLCJhZHNNYW5hZ2VyIiwiZGVzdHJveSIsImlzQWRQbGF5aW5nIiwib25FbmQiLCJvbkNvbnRlbnRQYXVzZVJlcXVlc3RlZCIsIm9uQ29udGVudFJlc3VtZVJlcXVlc3RlZCIsIm9uQWRMb2FkZWQiLCJsb2FkQWRzIiwidmFzdFVybCIsInZhc3RYbWwiLCJjb250ZW50IiwidHlwZSIsImN1cnJlbnRBZEluZGV4IiwibG9hZCIsImFkc1JlcXVlc3QiLCJBZHNSZXF1ZXN0IiwiYWRUYWdVcmwiLCJhZHNSZXNwb25zZSIsImxpbmVhckFkU2xvdFdpZHRoIiwiY2xpZW50V2lkdGgiLCJsaW5lYXJBZFNsb3RIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJub25MaW5lYXJBZFNsb3RXaWR0aCIsIm5vbkxpbmVhckFkU2xvdEhlaWdodCIsInNldEFkV2lsbEF1dG9QbGF5Iiwic2V0QWRXaWxsUGxheU11dGVkIiwidmFzdExvYWRUaW1lb3V0IiwicmVxdWVzdEFkcyIsIm9uVGltZVVwZGF0ZSIsIm9uQWRTa2lwIiwib25BZFN0YXJ0ZWQiLCJhZHNNYW5hZ2VyTG9hZGVkRXZlbnQiLCJhZHNSZW5kZXJpbmdTZXR0aW5ncyIsIkFkc1JlbmRlcmluZ1NldHRpbmdzIiwiZ2V0QWRzTWFuYWdlciIsIkFkRXZlbnQiLCJDT05URU5UX1BBVVNFX1JFUVVFU1RFRCIsIkNPTlRFTlRfUkVTVU1FX1JFUVVFU1RFRCIsIkFMTF9BRFNfQ09NUExFVEVEIiwiTE9BREVEIiwiU1RBUlRFRCIsIkNPTVBMRVRFIiwiU0tJUFBFRCIsIkFEX1BST0dSRVNTIiwiQURfQlVGRkVSSU5HIiwibG9hZGluZyIsIlNLSVBQQUJMRV9TVEFURV9DSEFOR0VEIiwiVXRpbHMiLCJmaXJlIiwiRXZlbnRzIiwiYWRFdmVudHMiLCJBRF9TS0lQUEFCTEUiLCJjdXJyZW50VGltZSIsInBsYXllciIsImFkUGxheUlkIiwiZ2V0Q3VycmVudEFkIiwiZ2V0QWRJZCIsInBsYXlBZHMiLCJpbml0aWFsaXplIiwid2lkdGgiLCJoZWlnaHQiLCJWaWV3TW9kZSIsIkZVTExTQ1JFRU4iLCJzdGFydCIsInJlY2VpdmVyQ29udHJvbHMiLCJsb2FkZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJhZEVycm9yIiwiZ2V0TWVzc2FnZSIsInJlc3VtZSIsInBhdXNlIiwidnBSZWNlaXZlciIsImlkIiwiY29uZmlnIiwiY29udGV4dCIsInBsYXllck1hbmFnZXIiLCJhcHBJZCIsInBsYXliYWNrQ29uZmlnIiwiY29udHJvbHMiLCJobHMiLCJ2aWRlb09iamVjdCIsInZpZGVvQ29udGFpbmVyIiwicGFyZW50RWxlbWVudCIsInBsYXliYWNrUmF0ZSIsImF1dG9wbGF5Iiwic2Vla2JhciIsImVsZW1lbnQiLCJjYXN0ZGVidWdnZXIiLCJzaG93Iiwic2V0Q2FzdERlYnVnZ2VyIiwic2V0UHJvZ3Jlc3MiLCJkdXJhdGlvbiIsInNob3dIaWRlIiwidGltaW5nIiwic2V0VGltZW91dCIsImFuaW1hdGVTZWVrYmFyIiwidG90YWx3aWR0aCIsImNsZWFySW50ZXJ2YWwiLCJsZWZ0UG9zaXRpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwibGVmdFBhcmVudFBvc2l0aW9uIiwicmlnaHRQYXJlbnRQb3NpdGlvbiIsInJpZ2h0IiwidGltZXIiLCJ0ZXh0Q29udGVudCIsInVwZGF0ZSIsImNhc3REZWJ1Z2dlciIsIm92ZXJsYXkiLCJ2aWRlb0luZm8iLCJjaGlsZHJlbiIsInBsYXlJY29uIiwicGF1c2VJY29uIiwic3BsYXNoU2NyZWVuIiwicGxheSIsInN0YXRlIiwiaGlkZUNvbnRyb2xzIiwic2hvd0NvbnRyb2xzIiwibWVkaWFNYW5hZ2VyIiwiY2FzdFJlY2VpdmVyTWFuYWdlciIsInZpZGVvU3RhcnRlZCIsInZhc3RTZXJ2aWNlIiwiZGVidWdUYWdzIiwiTE9BRF9SRVFVRVNUIiwiQVRUQUNIX01FRElBIiwiT05QTEFZIiwiU1RBUlQiLCJJTklUIiwiRVZFTlRTIiwiT05FTkQiLCJCUk9BRENBU1QiLCJOQU1FU1BBQ0UiLCJvblBsYXkiLCJnZXRBdHRyaWJ1dGUiLCJ0aGVuIiwiY2F0Y2giLCJvblBhdXNlIiwiYWRkUGxheWVyRXZlbnRzIiwiYnJvYWRjYXN0IiwibWVzc2FnZSIsInNlbmRDdXN0b21NZXNzYWdlIiwidW5kZWZpbmVkIiwicmVwbGF5IiwiY29kZSIsImVycm9yIiwidXBkYXRlUGxheWVyU3RhdGUiLCJhdHRhY2hNZWRpYSIsIkhMU3N1cHBvcnRlZCIsIkhscyIsImlzU3VwcG9ydGVkIiwiSlNPTiIsInN0cmluZ2lmeSIsImZpbGUiLCJlbmRzV2l0aCIsInNyYyIsIm9uIiwiTUVESUFfQVRUQUNIRUQiLCJzdGFydExldmVsIiwibG9hZFNvdXJjZSIsIk1BTklGRVNUX1BBUlNFRCIsImV2ZW50IiwiZGF0YSIsIkVSUk9SIiwiZGV0YWlscyIsImZha2Vpbml0IiwiY29uc29sZSIsImxvZyIsImJpbmRNZXRob2RzIiwiY2FzdCIsImZyYW1ld29yayIsIkNhc3RSZWNlaXZlckNvbnRleHQiLCJnZXRJbnN0YW5jZSIsInNldExvZ2dlckxldmVsIiwiTG9nZ2VyTGV2ZWwiLCJERUJVRyIsIkNhc3REZWJ1Z0xvZ2dlciIsInNldEVuYWJsZWQiLCJnZXRQbGF5ZXJNYW5hZ2VyIiwic2V0TWVkaWFFbGVtZW50Iiwib3B0aW9ucyIsIkNhc3RSZWNlaXZlck9wdGlvbnMiLCJjdXN0b21OYW1lc3BhY2VzIiwic3lzdGVtIiwiTWVzc2FnZVR5cGUiLCJiaW5kSW50ZXJjZXB0b3JzIiwib25TZWVrIiwicmVxdWVzdERhdGEiLCJkcmF3QnV0dG9ucyIsImFzc2lnbkJ1dHRvbiIsInVpIiwiQ29udHJvbHNTbG90IiwiU0xPVF9TRUNPTkRBUllfMSIsIkNvbnRyb2xzQnV0dG9uIiwiUVVFVUVfUFJFViIsIlNMT1RfUFJJTUFSWV8xIiwiQ0FQVElPTlMiLCJTTE9UX1BSSU1BUllfMiIsIlNFRUtfRk9SV0FSRF8xNSIsIlNMT1RfU0VDT05EQVJZXzIiLCJRVUVVRV9ORVhUIiwiRXZlbnRUeXBlIiwiU0VOREVSX0RJU0NPTk5FQ1RFRCIsIndpbmRvdyIsImNsb3NlIiwic2V0TWVzc2FnZUludGVyY2VwdG9yIiwibWVzc2FnZXMiLCJMT0FEIiwib25Mb2FkUmVxdWVzdCIsIlBMQVkiLCJQQVVTRSIsIlNFRUsiLCJsb2FkUmVxdWVzdERhdGEiLCJtZWRpYSIsImNvbnRlbnRJZCIsIm1ldGFkYXRhIiwiY3VzdG9tRGF0YSIsInN0YWNrIiwiYWRkQnJlYWtzIiwibWVkaWFJbmZvcm1hdGlvbiIsIkxPR19SRUNFSVZFUl9UQUciLCJmZXRjaE1lZGlhQnlJZCIsImNsaXAxIiwiYnJlYWtDbGlwcyIsInRpdGxlIiwiY29udGVudFVybCIsInN0cmVhbSIsImRhc2giLCJjb250ZW50VHlwZSIsIndoZW5Ta2lwcGFibGUiLCJicmVha3MiLCJicmVha0NsaXBJZHMiLCJwb3NpdGlvbiIsIlByb21pc2UiLCJhY2NlcHQiLCJyZWplY3QiLCJmZXRjaCIsIkNPTlRFTlRfVVJMIiwicmVzcG9uc2UiLCJqc29uIiwib2JqIl0sInNvdXJjZVJvb3QiOiIifQ==