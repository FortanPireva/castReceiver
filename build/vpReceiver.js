(()=>{"use strict";function e(e,t){new class{constructor(e,t){this.context=null,this.playerManager=null,this.castDebugLogger=null,this.appId=t.appId,this.video=document.querySelector(e),this.playbackConfig=null,this.controls=null,this.hls=null,this.videoObject={},this.videoContainer=this.video.parentElement,this.playbackRate=1,this.autoplay=!1,this.receiverControls=new class{constructor(){this.seekbar=new class{constructor(e){this.element=document.querySelector(e),this.castdebugger=null,this.show=!1}setCastDebugger(e){this.castdebugger=e}setProgress(e,t){this.castdebugger.debug("ele",JSON.stringify(this.element)),this.element.style.width=e/t*100+"%",this.element.style.backgroundColor="#fff",this.castdebugger.debug("width",this.element.style.width)}showHide(e){this.castdebugger.debug("showHide",`${e} ${this.show}`),this.show?this.element.parentElement.style.display="block":setTimeout((()=>{this.element.parentElement.style.display="none"}),e)}}(".seekbar-progress"),this.timer=new class{constructor(e){this.element=document.querySelector(e)}update(e,t){let s=Math.floor(e/60);1==s.length&&(s="0"+s),e%=60;let i=Math.floor(t/60);1==i.length&&(i="0"+i),this.element.innerHtml=`${s}:${e} / ${i}:${t}`}}(".timer"),this.castDebugger=null}setCastDebugger(e){this.castDebugger=e,this.seekbar.setCastDebugger(this.castDebugger)}update(e){this.seekbar.update(e.currenTtime,e.duration),this.timer.update(e.currenTtime,e.duration)}}}start(){this.receiverControls.seekbar.show=!1,this.receiverControls.seekbar.showHide(10),this.onPlay()}onPlay(){this.video.play().then((()=>{})).catch((()=>{}))}onPause(){this.video.pause()}addPlayerEvents(){this.video.addEventListener("timeupdate",this.onTimeUpdate)}onTimeUpdate(){this.receiverControls.seekbar.setProgress(this.video.currentTime,this.videoObject.duration)}attachMedia(){if(vpReceiver.HLSsupported=Hls.isSupported(),this.castDebugLogger.debug("inside attach media",vpReceiver.HLSsupported),this.video.playbackRate=1,this.castDebugLogger.debug("video file",JSON.stringify(this.video,["id","className","tagName"])),this.videoObject.file.endsWith("mp4"))this.castDebugLogger.debug("inside mp4",this.videoObject.file),this.video.src=this.videoObject.file,this.start();else if(vpReceiver.HLSsupported){this.castDebugLogger.debug("inside hlssupported",this.videoObject.file);try{this.hls=new Hls,this.castDebugLogger.debug("hls initialized",this.videoObject.file),this.hls.attachMedia(this.video),this.castDebugLogger.debug("attached media",this.videoObject.file),this.hls.on(Hls.Events.MEDIA_ATTACHED,(()=>{this.castDebugLogger.debug("amedia attached",this.videoObject.file),this.hls.startLevel=0,this.castDebugLogger.debug("loading source hlssupported",this.videoObject.file),this.hls.loadSource(this.videoObject.file)})),this.hls.on(Hls.Events.MANIFEST_PARSED,((e,t)=>{this.castDebugLogger.debug("manifest parsed",this.videoObject.file),this.start()})),this.hls.on(Hls.Events.ERROR,((e,t)=>{this.castDebugLogger.debug("HLS  ERROR",t.details)}))}catch(e){this.castDebugLogger.debug("hls error",e)}}this.castDebugLogger.debug("finished attach media")}fakeinit(){const e=cast.framework.CastReceiverContext.getInstance();e.getPlayerManager(),this.videoObject.file="https://vp.gjirafa.net/vps/prod/odgehtyo/encode/vjsmylds/mp4/360p.mp4",this.attachMedia(),e.start()}init(){this.context=cast.framework.CastReceiverContext.getInstance(),this.context.setLoggerLevel(cast.framework.LoggerLevel.DEBUG),this.playerManager=this.context.getPlayerManager(),this.playerManager.setMediaElement(this.video),this.castDebugLogger=cast.debug.CastDebugLogger.getInstance(),this.castDebugLogger.setEnabled(!0),this.castDebugLogger.debug("hello","okej"),this.receiverControls.setCastDebugger(this.castDebugLogger),this.context.start(),this.bindMethods(),this.bindInterceptors(),this.addPlayerEvents()}drawButtons(){this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_SECONDARY_1,cast.framework.ui.ControlsButton.QUEUE_PREV),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_PRIMARY_1,cast.framework.ui.ControlsButton.CAPTIONS),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_PRIMARY_2,cast.framework.ui.ControlsButton.SEEK_FORWARD_15),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_SECONDARY_2,cast.framework.ui.ControlsButton.QUEUE_NEXT)}bindInterceptors(){this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.LOAD,this.onLoadRequest.bind(this)),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.PLAY,this.onPlay.bind(this)),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.PAUSE,this.onPause.bind(this))}bindMethods(){this.bindInterceptors=this.bindInterceptors.bind(this),this.onLoadRequest=this.onLoadRequest.bind(this),this.attachMedia=this.attachMedia.bind(this),this.start=this.start.bind(this),this.addPlayerEvents=this.addPlayerEvents.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onPlay=this.onPlay.bind(this),this.onPause=this.onPause.bind(this)}onLoadRequest(e){return this.castDebugLogger.debug("VPreceiver",e.media.contentId),this.castDebugLogger.debug("VPreceiver1",Hls.isSupported()),this.videoObject.file=e.media.contentId,this.videoObject.duration=e.media.metadata.duration,this.currentTime=e.currentTime,this.playbackRate=e.playbackRate,this.autoplay=e.autoplay,this.attachMedia(),null}addBreaks(e){return castDebugLogger.debug(LOG_RECEIVER_TAG,"addBreaks: "+JSON.stringify(e)),fetchMediaById("fbb_ad").then((t=>{e.breakClips=[{id:"fbb_ad",title:t.title,contentUrl:t.stream.dash,contentType:"application/dash+xml",whenSkippable:5}],e.breaks=[{id:"pre-roll",breakClipIds:["fbb_ad"],position:0}]}))}fetchMediaById(e){return castDebugLogger.debug(LOG_RECEIVER_TAG,"fetching id: "+e),new Promise(((t,s)=>{fetch(CONTENT_URL).then((e=>e.json())).then((i=>{i?i[e]?t(i[e]):s(`${e} not found in repository`):s("Content repository not found.")}))}))}}(e,t).init()}e.HLSsupported=!1,window.vpReceiver=e})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidnBSZWNlaXZlci5qcyIsIm1hcHBpbmdzIjoibUJBS0EsU0FBU0EsRUFBV0MsRUFBSUMsR0FDTCxJQ0puQixNQUNFQyxZQUFZRixFQUFJQyxHQUNkRSxLQUFLQyxRQUFVLEtBQ2ZELEtBQUtFLGNBQWdCLEtBQ3JCRixLQUFLRyxnQkFBa0IsS0FDdkJILEtBQUtJLE1BQVFOLEVBQU9NLE1BQ3BCSixLQUFLSyxNQUFRQyxTQUFTQyxjQUFjVixHQUNwQ0csS0FBS1EsZUFBaUIsS0FDdEJSLEtBQUtTLFNBQVcsS0FDaEJULEtBQUtVLElBQU0sS0FDWFYsS0FBS1csWUFBYyxHQUNuQlgsS0FBS1ksZUFBaUJaLEtBQUtLLE1BQU1RLGNBQ2pDYixLQUFLYyxhQUFlLEVBQ3BCZCxLQUFLZSxVQUFXLEVBQ2hCZixLQUFLZ0IsaUJBQW1CLElDZDVCLE1BQ0VqQixjQUNFQyxLQUFLaUIsUUFBVSxJQ0puQixNQUNFbEIsWUFBWUYsR0FDVkcsS0FBS2tCLFFBQVVaLFNBQVNDLGNBQWNWLEdBQ3RDRyxLQUFLbUIsYUFBZSxLQUNwQm5CLEtBQUtvQixNQUFPLEVBRWRDLGdCQUFnQkYsR0FDZG5CLEtBQUttQixhQUFlQSxFQUV0QkcsWUFBWUMsRUFBTUMsR0FDaEJ4QixLQUFLbUIsYUFBYU0sTUFBTSxNQUFPQyxLQUFLQyxVQUFVM0IsS0FBS2tCLFVBQ25EbEIsS0FBS2tCLFFBQVFVLE1BQU1DLE1BQVNOLEVBQU9DLEVBQVksSUFBTSxJQUNyRHhCLEtBQUtrQixRQUFRVSxNQUFNRSxnQkFBa0IsT0FDckM5QixLQUFLbUIsYUFBYU0sTUFBTSxRQUFTekIsS0FBS2tCLFFBQVFVLE1BQU1DLE9BR3RERSxTQUFTQyxHQUNQaEMsS0FBS21CLGFBQWFNLE1BQU0sV0FBYSxHQUFFTyxLQUFVaEMsS0FBS29CLFFBQ2xEcEIsS0FBS29CLEtBQ1BwQixLQUFLa0IsUUFBUUwsY0FBY2UsTUFBTUssUUFBVSxRQUUzQ0MsWUFBVyxLQUNUbEMsS0FBS2tCLFFBQVFMLGNBQWNlLE1BQU1LLFFBQVUsU0FDMUNELEtEbkJzQixxQkFDM0JoQyxLQUFLbUMsTUFBUSxJRUxqQixNQUNFcEMsWUFBWUYsR0FDVkcsS0FBS2tCLFFBQVVaLFNBQVNDLGNBQWNWLEdBRXhDdUMsT0FBT0MsRUFBYWIsR0FDbEIsSUFBSWMsRUFBaUJDLEtBQUtDLE1BQU1ILEVBQWMsSUFDakIsR0FBekJDLEVBQWVHLFNBQ2pCSCxFQUFpQixJQUFNQSxHQUV6QkQsR0FBNEIsR0FDNUIsSUFBSUssRUFBa0JILEtBQUtDLE1BQU1oQixFQUFXLElBQ2QsR0FBMUJrQixFQUFnQkQsU0FDbEJDLEVBQWtCLElBQU1BLEdBRzFCMUMsS0FBS2tCLFFBQVF5QixVQUFhLEdBQUVMLEtBQWtCRCxPQUFpQkssS0FBbUJsQixNRlYzRCxVQUN2QnhCLEtBQUs0QyxhQUFlLEtBRXRCdkIsZ0JBQWdCdUIsR0FDZDVDLEtBQUs0QyxhQUFlQSxFQUNwQjVDLEtBQUtpQixRQUFRSSxnQkFBZ0JyQixLQUFLNEMsY0FFcENSLE9BQU9TLEdBQ0w3QyxLQUFLaUIsUUFBUW1CLE9BQU9TLEVBQU1DLFlBQWFELEVBQU1yQixVQUM3Q3hCLEtBQUttQyxNQUFNQyxPQUFPUyxFQUFNQyxZQUFhRCxFQUFNckIsWURJN0N1QixRQUNFL0MsS0FBS2dCLGlCQUFpQkMsUUFBUUcsTUFBTyxFQUNyQ3BCLEtBQUtnQixpQkFBaUJDLFFBQVFjLFNBQVMsSUFDdkMvQixLQUFLZ0QsU0FHUEEsU0FFRWhELEtBQUtLLE1BQ0Y0QyxPQUNBQyxNQUFLLFNBQ0xDLE9BQU0sU0FFWEMsVUFDRXBELEtBQUtLLE1BQU1nRCxRQUViQyxrQkFDRXRELEtBQUtLLE1BQU1rRCxpQkFBaUIsYUFBY3ZELEtBQUt3RCxjQUVqREEsZUFDRXhELEtBQUtnQixpQkFBaUJDLFFBQVFLLFlBQzVCdEIsS0FBS0ssTUFBTWdDLFlBQ1hyQyxLQUFLVyxZQUFZYSxVQUdyQmlDLGNBUUUsR0FQQTdELFdBQVc4RCxhQUFlQyxJQUFJQyxjQUM5QjVELEtBQUtHLGdCQUFnQnNCLE1BQU0sc0JBQXVCN0IsV0FBVzhELGNBQzdEMUQsS0FBS0ssTUFBTVMsYUFBZSxFQUMxQmQsS0FBS0csZ0JBQWdCc0IsTUFDbkIsYUFDQUMsS0FBS0MsVUFBVTNCLEtBQUtLLE1BQU8sQ0FBQyxLQUFNLFlBQWEsYUFFN0NMLEtBQUtXLFlBQVlrRCxLQUFLQyxTQUFTLE9BQ2pDOUQsS0FBS0csZ0JBQWdCc0IsTUFBTSxhQUFjekIsS0FBS1csWUFBWWtELE1BQzFEN0QsS0FBS0ssTUFBTTBELElBQU0vRCxLQUFLVyxZQUFZa0QsS0FDbEM3RCxLQUFLK0MsYUFDQSxHQUFJbkQsV0FBVzhELGFBQWMsQ0FDbEMxRCxLQUFLRyxnQkFBZ0JzQixNQUFNLHNCQUF1QnpCLEtBQUtXLFlBQVlrRCxNQUNuRSxJQUNFN0QsS0FBS1UsSUFBTSxJQUFJaUQsSUFDZjNELEtBQUtHLGdCQUFnQnNCLE1BQU0sa0JBQW1CekIsS0FBS1csWUFBWWtELE1BQy9EN0QsS0FBS1UsSUFBSStDLFlBQVl6RCxLQUFLSyxPQUMxQkwsS0FBS0csZ0JBQWdCc0IsTUFBTSxpQkFBa0J6QixLQUFLVyxZQUFZa0QsTUFFOUQ3RCxLQUFLVSxJQUFJc0QsR0FBR0wsSUFBSU0sT0FBT0MsZ0JBQWdCLEtBQ3JDbEUsS0FBS0csZ0JBQWdCc0IsTUFBTSxrQkFBbUJ6QixLQUFLVyxZQUFZa0QsTUFDL0Q3RCxLQUFLVSxJQUFJeUQsV0FBYSxFQUN0Qm5FLEtBQUtHLGdCQUFnQnNCLE1BQ25CLDhCQUNBekIsS0FBS1csWUFBWWtELE1BRW5CN0QsS0FBS1UsSUFBSTBELFdBQVdwRSxLQUFLVyxZQUFZa0QsU0FFdkM3RCxLQUFLVSxJQUFJc0QsR0FBR0wsSUFBSU0sT0FBT0ksaUJBQWlCLENBQUNDLEVBQU9DLEtBQzlDdkUsS0FBS0csZ0JBQWdCc0IsTUFBTSxrQkFBbUJ6QixLQUFLVyxZQUFZa0QsTUFDL0Q3RCxLQUFLK0MsV0FFUC9DLEtBQUtVLElBQUlzRCxHQUFHTCxJQUFJTSxPQUFPTyxPQUFPLENBQUNGLEVBQU9DLEtBQ3BDdkUsS0FBS0csZ0JBQWdCc0IsTUFBTSxhQUFjOEMsRUFBS0UsWUFFaEQsTUFBT0MsR0FDUDFFLEtBQUtHLGdCQUFnQnNCLE1BQU0sWUFBYWlELElBK0Q1QzFFLEtBQUtHLGdCQUFnQnNCLE1BQU0seUJBYzdCa0QsV0FDRSxNQUFNMUUsRUFBVTJFLEtBQUtDLFVBQVVDLG9CQUFvQkMsY0FDN0I5RSxFQUFRK0UsbUJBRTlCaEYsS0FBS1csWUFBWWtELEtBQ2Ysd0VBQ0Y3RCxLQUFLeUQsY0FDTHhELEVBQVE4QyxRQUVWa0MsT0FFRWpGLEtBQUtDLFFBQVUyRSxLQUFLQyxVQUFVQyxvQkFBb0JDLGNBRWxEL0UsS0FBS0MsUUFBUWlGLGVBQWVOLEtBQUtDLFVBQVVNLFlBQVlDLE9BQ3ZEcEYsS0FBS0UsY0FBZ0JGLEtBQUtDLFFBQVErRSxtQkFDbENoRixLQUFLRSxjQUFjbUYsZ0JBQWdCckYsS0FBS0ssT0FDeENMLEtBQUtHLGdCQUFrQnlFLEtBQUtuRCxNQUFNNkQsZ0JBQWdCUCxjQUNsRC9FLEtBQUtHLGdCQUFnQm9GLFlBQVcsR0FDaEN2RixLQUFLRyxnQkFBZ0JzQixNQUFNLFFBQVMsUUFFcEN6QixLQUFLZ0IsaUJBQWlCSyxnQkFBZ0JyQixLQUFLRyxpQkFtQjNDSCxLQUFLQyxRQUFROEMsUUFDYi9DLEtBQUt3RixjQUNMeEYsS0FBS3lGLG1CQUNMekYsS0FBS3NELGtCQUVQb0MsY0FDRTFGLEtBQUtTLFNBQVNrRixhQUNaZixLQUFLQyxVQUFVZSxHQUFHQyxhQUFhQyxpQkFDL0JsQixLQUFLQyxVQUFVZSxHQUFHRyxlQUFlQyxZQUVuQ2hHLEtBQUtTLFNBQVNrRixhQUNaZixLQUFLQyxVQUFVZSxHQUFHQyxhQUFhSSxlQUMvQnJCLEtBQUtDLFVBQVVlLEdBQUdHLGVBQWVHLFVBRW5DbEcsS0FBS1MsU0FBU2tGLGFBQ1pmLEtBQUtDLFVBQVVlLEdBQUdDLGFBQWFNLGVBQy9CdkIsS0FBS0MsVUFBVWUsR0FBR0csZUFBZUssaUJBRW5DcEcsS0FBS1MsU0FBU2tGLGFBQ1pmLEtBQUtDLFVBQVVlLEdBQUdDLGFBQWFRLGlCQUMvQnpCLEtBQUtDLFVBQVVlLEdBQUdHLGVBQWVPLFlBSXJDYixtQkFDRXpGLEtBQUtFLGNBQWNxRyxzQkFDakIzQixLQUFLQyxVQUFVMkIsU0FBU0MsWUFBWUMsS0FDcEMxRyxLQUFLMkcsY0FBY0MsS0FBSzVHLE9BRTFCQSxLQUFLRSxjQUFjcUcsc0JBQ2pCM0IsS0FBS0MsVUFBVTJCLFNBQVNDLFlBQVlJLEtBQ3BDN0csS0FBS2dELE9BQU80RCxLQUFLNUcsT0FFbkJBLEtBQUtFLGNBQWNxRyxzQkFDakIzQixLQUFLQyxVQUFVMkIsU0FBU0MsWUFBWUssTUFDcEM5RyxLQUFLb0QsUUFBUXdELEtBQUs1RyxPQUd0QndGLGNBQ0V4RixLQUFLeUYsaUJBQW1CekYsS0FBS3lGLGlCQUFpQm1CLEtBQUs1RyxNQUNuREEsS0FBSzJHLGNBQWdCM0csS0FBSzJHLGNBQWNDLEtBQUs1RyxNQUM3Q0EsS0FBS3lELFlBQWN6RCxLQUFLeUQsWUFBWW1ELEtBQUs1RyxNQUN6Q0EsS0FBSytDLE1BQVEvQyxLQUFLK0MsTUFBTTZELEtBQUs1RyxNQUM3QkEsS0FBS3NELGdCQUFrQnRELEtBQUtzRCxnQkFBZ0JzRCxLQUFLNUcsTUFDakRBLEtBQUt3RCxhQUFleEQsS0FBS3dELGFBQWFvRCxLQUFLNUcsTUFDM0NBLEtBQUtnRCxPQUFTaEQsS0FBS2dELE9BQU80RCxLQUFLNUcsTUFDL0JBLEtBQUtvRCxRQUFVcEQsS0FBS29ELFFBQVF3RCxLQUFLNUcsTUFFbkMyRyxjQUFjSSxHQXVCWixPQVJBL0csS0FBS0csZ0JBQWdCc0IsTUFBTSxhQUFjc0YsRUFBZ0JDLE1BQU1DLFdBQy9EakgsS0FBS0csZ0JBQWdCc0IsTUFBTSxjQUFla0MsSUFBSUMsZUFDOUM1RCxLQUFLVyxZQUFZa0QsS0FBT2tELEVBQWdCQyxNQUFNQyxVQUM5Q2pILEtBQUtXLFlBQVlhLFNBQVd1RixFQUFnQkMsTUFBTUUsU0FBUzFGLFNBQzNEeEIsS0FBS3FDLFlBQWMwRSxFQUFnQjFFLFlBQ25DckMsS0FBS2MsYUFBZWlHLEVBQWdCakcsYUFDcENkLEtBQUtlLFNBQVdnRyxFQUFnQmhHLFNBQ2hDZixLQUFLeUQsY0FDRSxLQWdEVDBELFVBQVVDLEdBS1IsT0FKQWpILGdCQUFnQnNCLE1BQ2Q0RixpQkFDQSxjQUFnQjNGLEtBQUtDLFVBQVV5RixJQUUxQkUsZUFBZSxVQUFVcEUsTUFBTXFFLElBQ3BDSCxFQUFpQkksV0FBYSxDQUM1QixDQUNFM0gsR0FBSSxTQUNKNEgsTUFBT0YsRUFBTUUsTUFDYkMsV0FBWUgsRUFBTUksT0FBT0MsS0FDekJDLFlBQWEsdUJBQ2JDLGNBQWUsSUFJbkJWLEVBQWlCVyxPQUFTLENBQ3hCLENBQ0VsSSxHQUFJLFdBQ0ptSSxhQUFjLENBQUMsVUFDZkMsU0FBVSxPQUtsQlgsZUFBZXpILEdBR2IsT0FGQU0sZ0JBQWdCc0IsTUFBTTRGLGlCQUFrQixnQkFBa0J4SCxHQUVuRCxJQUFJcUksU0FBUSxDQUFDQyxFQUFRQyxLQUMxQkMsTUFBTUMsYUFDSHBGLE1BQU1xRixHQUFhQSxFQUFTQyxTQUM1QnRGLE1BQU11RixJQUNEQSxFQUNFQSxFQUFJNUksR0FDTnNJLEVBQU9NLEVBQUk1SSxJQUVYdUksRUFBUSxHQUFFdkksNkJBR1p1SSxFQUFPLHlDRDVWYXZJLEVBQUlDLEdBRXpCbUYsT0FMWHJGLEVBQVc4RCxjQUFlLEVBUTFCZ0YsT0FBTzlJLFdBQWFBLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy92cFJlY2VpdmVyLmpzIiwid2VicGFjazovL3ZwLXJlY2VpdmVyLy4vc3JjL2pzL21vZGVscy9yZWNlaXZlci5qcyIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy9tb2RlbHMvcmVjZWl2ZXItY29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vdnAtcmVjZWl2ZXIvLi9zcmMvanMvbW9kZWxzL3NlZWtiYXIuanMiLCJ3ZWJwYWNrOi8vdnAtcmVjZWl2ZXIvLi9zcmMvanMvbW9kZWxzL3RpbWVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWNlaXZlciBmcm9tIFwiLi9tb2RlbHMvcmVjZWl2ZXJcIjtcclxuXHJcbi8vYSBib29sZWFuIHRlbGxpbmcgd2hldGhlciBITFMgaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyXHJcbnZwUmVjZWl2ZXIuSExTc3VwcG9ydGVkID0gZmFsc2U7XHJcblxyXG5mdW5jdGlvbiB2cFJlY2VpdmVyKGlkLCBjb25maWcpIHtcclxuICBjb25zdCByZWNlaXZlciA9IG5ldyBSZWNlaXZlcihpZCwgY29uZmlnKTtcclxuXHJcbiAgcmVjZWl2ZXIuaW5pdCgpO1xyXG59XHJcblxyXG53aW5kb3cudnBSZWNlaXZlciA9IHZwUmVjZWl2ZXI7XHJcbiIsImltcG9ydCBobHNjb25maWcgZnJvbSBcIi4uL2NvbmZpZy9obHNDb25maWdcIjtcclxuaW1wb3J0IFJlY2VpdmVyQ29udHJvbHMgZnJvbSBcIi4vcmVjZWl2ZXItY29udHJvbHNcIjtcclxuY2xhc3MgUmVjZWl2ZXIge1xyXG4gIGNvbnN0cnVjdG9yKGlkLCBjb25maWcpIHtcclxuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XHJcbiAgICB0aGlzLnBsYXllck1hbmFnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5hcHBJZCA9IGNvbmZpZy5hcHBJZDtcclxuICAgIHRoaXMudmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlkKTtcclxuICAgIHRoaXMucGxheWJhY2tDb25maWcgPSBudWxsO1xyXG4gICAgdGhpcy5jb250cm9scyA9IG51bGw7XHJcbiAgICB0aGlzLmhscyA9IG51bGw7XHJcbiAgICB0aGlzLnZpZGVvT2JqZWN0ID0ge307XHJcbiAgICB0aGlzLnZpZGVvQ29udGFpbmVyID0gdGhpcy52aWRlby5wYXJlbnRFbGVtZW50O1xyXG4gICAgdGhpcy5wbGF5YmFja1JhdGUgPSAxO1xyXG4gICAgdGhpcy5hdXRvcGxheSA9IGZhbHNlO1xyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzID0gbmV3IFJlY2VpdmVyQ29udHJvbHMoKTtcclxuICB9XHJcbiAgc3RhcnQoKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuc2Vla2Jhci5zaG93ID0gZmFsc2U7XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuc2Vla2Jhci5zaG93SGlkZSgxMCk7XHJcbiAgICB0aGlzLm9uUGxheSgpO1xyXG4gIH1cclxuXHJcbiAgb25QbGF5KCkge1xyXG4gICAgLy8gcmV0dXJuIHRoaXMucGxheWVyTWFuYWdlci5wbGF5KCk7XHJcbiAgICB0aGlzLnZpZGVvXHJcbiAgICAgIC5wbGF5KClcclxuICAgICAgLnRoZW4oKCkgPT4ge30pXHJcbiAgICAgIC5jYXRjaCgoKSA9PiB7fSk7XHJcbiAgfVxyXG4gIG9uUGF1c2UoKSB7XHJcbiAgICB0aGlzLnZpZGVvLnBhdXNlKCk7XHJcbiAgfVxyXG4gIGFkZFBsYXllckV2ZW50cygpIHtcclxuICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIiwgdGhpcy5vblRpbWVVcGRhdGUpO1xyXG4gIH1cclxuICBvblRpbWVVcGRhdGUoKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuc2Vla2Jhci5zZXRQcm9ncmVzcyhcclxuICAgICAgdGhpcy52aWRlby5jdXJyZW50VGltZSxcclxuICAgICAgdGhpcy52aWRlb09iamVjdC5kdXJhdGlvblxyXG4gICAgKTtcclxuICB9XHJcbiAgYXR0YWNoTWVkaWEoKSB7XHJcbiAgICB2cFJlY2VpdmVyLkhMU3N1cHBvcnRlZCA9IEhscy5pc1N1cHBvcnRlZCgpO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJpbnNpZGUgYXR0YWNoIG1lZGlhXCIsIHZwUmVjZWl2ZXIuSExTc3VwcG9ydGVkKTtcclxuICAgIHRoaXMudmlkZW8ucGxheWJhY2tSYXRlID0gMTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBcInZpZGVvIGZpbGVcIixcclxuICAgICAgSlNPTi5zdHJpbmdpZnkodGhpcy52aWRlbywgW1wiaWRcIiwgXCJjbGFzc05hbWVcIiwgXCJ0YWdOYW1lXCJdKVxyXG4gICAgKTtcclxuICAgIGlmICh0aGlzLnZpZGVvT2JqZWN0LmZpbGUuZW5kc1dpdGgoXCJtcDRcIikpIHtcclxuICAgICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJpbnNpZGUgbXA0XCIsIHRoaXMudmlkZW9PYmplY3QuZmlsZSk7XHJcbiAgICAgIHRoaXMudmlkZW8uc3JjID0gdGhpcy52aWRlb09iamVjdC5maWxlO1xyXG4gICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9IGVsc2UgaWYgKHZwUmVjZWl2ZXIuSExTc3VwcG9ydGVkKSB7XHJcbiAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiaW5zaWRlIGhsc3N1cHBvcnRlZFwiLCB0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRoaXMuaGxzID0gbmV3IEhscygpO1xyXG4gICAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiaGxzIGluaXRpYWxpemVkXCIsIHRoaXMudmlkZW9PYmplY3QuZmlsZSk7XHJcbiAgICAgICAgdGhpcy5obHMuYXR0YWNoTWVkaWEodGhpcy52aWRlbyk7XHJcbiAgICAgICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJhdHRhY2hlZCBtZWRpYVwiLCB0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG5cclxuICAgICAgICB0aGlzLmhscy5vbihIbHMuRXZlbnRzLk1FRElBX0FUVEFDSEVELCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImFtZWRpYSBhdHRhY2hlZFwiLCB0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG4gICAgICAgICAgdGhpcy5obHMuc3RhcnRMZXZlbCA9IDA7XHJcbiAgICAgICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgICAgICAgXCJsb2FkaW5nIHNvdXJjZSBobHNzdXBwb3J0ZWRcIixcclxuICAgICAgICAgICAgdGhpcy52aWRlb09iamVjdC5maWxlXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgdGhpcy5obHMubG9hZFNvdXJjZSh0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuTUFOSUZFU1RfUEFSU0VELCAoZXZlbnQsIGRhdGEpID0+IHtcclxuICAgICAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwibWFuaWZlc3QgcGFyc2VkXCIsIHRoaXMudmlkZW9PYmplY3QuZmlsZSk7XHJcbiAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5obHMub24oSGxzLkV2ZW50cy5FUlJPUiwgKGV2ZW50LCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcIkhMUyAgRVJST1JcIiwgZGF0YS5kZXRhaWxzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImhscyBlcnJvclwiLCBlcnJvcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuRVJST1IsIChldmVudCwgZGF0YSkgPT4ge1xyXG4gICAgICAvLyAgIGlmIChkYXRhLmRldGFpbHMgPT09IFwibWFuaWZlc3RMb2FkRXJyb3JcIikge1xyXG4gICAgICAvLyAgICAgdGhpcy52aWRlb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzZXMuZWZmZWN0cy5oaWRlQ29udGVudCk7XHJcbiAgICAgIC8vICAgICB0aGlzLnZpZGVvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3Nlcy5lZmZlY3RzLnNob3dFcnJvcik7XHJcbiAgICAgIC8vICAgfVxyXG5cclxuICAgICAgLy8gICBpZiAoZGF0YS5kZXRhaWxzID09PSBcIm1hbmlmZXN0TG9hZFRpbWVPdXRcIikge1xyXG4gICAgICAvLyAgICAgdGhpcy52aWRlb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzZXMuZWZmZWN0cy5oaWRlQ29udGVudCk7XHJcbiAgICAgIC8vICAgICB0aGlzLnZpZGVvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3Nlcy5lZmZlY3RzLnNob3dFcnJvcik7XHJcbiAgICAgIC8vICAgfVxyXG5cclxuICAgICAgLy8gICBpZiAoZGF0YS5kZXRhaWxzID09PSBcIm1hbmlmZXN0UGFyc2luZ0Vycm9yXCIpIHtcclxuICAgICAgLy8gICAgIHRoaXMudmlkZW9Db250YWluZXIuY2xhc3NMaXN0LmFkZChjc3NDbGFzc2VzLmVmZmVjdHMuaGlkZUNvbnRlbnQpO1xyXG4gICAgICAvLyAgICAgdGhpcy52aWRlb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzZXMuZWZmZWN0cy5zaG93RXJyb3IpO1xyXG4gICAgICAvLyAgIH1cclxuXHJcbiAgICAgIC8vICAgaWYgKGRhdGEuZGV0YWlscyA9PT0gXCJsZXZlbExvYWRFcnJvclwiKSB7XHJcbiAgICAgIC8vICAgICB0aGlzLnJlbW92ZUxldmVsKGRhdGEuY29udGV4dC5sZXZlbCk7XHJcbiAgICAgIC8vICAgfVxyXG5cclxuICAgICAgLy8gICBpZiAoZGF0YS5kZXRhaWxzID09PSBcImZyYWdMb2FkRXJyb3JcIikge1xyXG4gICAgICAvLyAgICAgdGhpcy5mcmFnRXJyb3JDb3VudCsrO1xyXG4gICAgICAvLyAgICAgLy8gc24gcmVmZXJlcyB0byBzZXF1ZW5jZSBudW1iZXJcclxuICAgICAgLy8gICAgIGlmIChkYXRhLmZyYWcuc24gPT0gMCkgdGhpcy5mYWlsZWRUb0xvYWRGaXJzdEZyYWdtZW50ID0gdHJ1ZTtcclxuICAgICAgLy8gICB9XHJcblxyXG4gICAgICAvLyAgIGlmICh0aGlzLmxldmVsSGFzTWlzc2luZ0ZyYWdtZW50cygpKSB7XHJcbiAgICAgIC8vICAgICB0aGlzLmZyYWdFcnJvckNvdW50ID0gMDtcclxuICAgICAgLy8gICAgIHRoaXMucmVtb3ZlTGV2ZWwoZGF0YS5mcmFnLmxldmVsKTtcclxuICAgICAgLy8gICAgIHRoaXMuaGxzLmxvYWRMZXZlbCA9IC0xO1xyXG4gICAgICAvLyAgICAgY29uc29sZS5sb2coXCJOZXR3b3JrIGVycm9yIGVuY291bnRlcmVkXCIpO1xyXG4gICAgICAvLyAgIH1cclxuXHJcbiAgICAgIC8vICAgaWYgKHRoaXMuZmFpbGVkVG9Mb2FkRmlyc3RGcmFnbWVudCkge1xyXG4gICAgICAvLyAgICAgdGhpcy5mYWlsZWRUb0xvYWRGaXJzdEZyYWdtZW50ID0gZmFsc2U7XHJcbiAgICAgIC8vICAgICB0aGlzLnJlbW92ZUxldmVsKGRhdGEuZnJhZy5sZXZlbCk7XHJcbiAgICAgIC8vICAgICB0aGlzLmhscy5sb2FkTGV2ZWwgPSAtMTtcclxuICAgICAgLy8gICAgIHRoaXMub25QbGF5KCk7XHJcbiAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIk5ldHdvcmsgZXJyb3IgZW5jb3VudGVyZWRcIik7XHJcbiAgICAgIC8vICAgfVxyXG5cclxuICAgICAgLy8gICBpZiAoIWRhdGEuZmF0YWwpIHtcclxuICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgLy8gICB9XHJcblxyXG4gICAgICAvLyAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgIC8vICAgICBjYXNlIEhscy5FcnJvclR5cGVzLk5FVFdPUktfRVJST1I6XHJcbiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKFwiZmF0YWwgbmV0d29yayBlcnJvciBlbmNvdW50ZXJlZFwiKTtcclxuICAgICAgLy8gICAgICAgdGhpcy5obHMuc3RhcnRMb2FkKCk7XHJcbiAgICAgIC8vICAgICAgIGJyZWFrO1xyXG4gICAgICAvLyAgICAgY2FzZSBIbHMuRXJyb3JUeXBlcy5NRURJQV9FUlJPUjpcclxuICAgICAgLy8gICAgICAgY29uc29sZS5sb2coXCJmYXRhbCBtZWRpYSBlcnJvciBlbmNvdW50ZXJlZFwiKTtcclxuICAgICAgLy8gICAgICAgdGhpcy5obHMucmVjb3Zlck1lZGlhRXJyb3IoKTtcclxuICAgICAgLy8gICAgICAgYnJlYWs7XHJcbiAgICAgIC8vICAgICBkZWZhdWx0OlxyXG4gICAgICAvLyAgICAgICB0aGlzLmhscy5kZXN0cm95KCk7XHJcbiAgICAgIC8vICAgICAgIGJyZWFrO1xyXG4gICAgICAvLyAgIH1cclxuICAgICAgLy8gfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImZpbmlzaGVkIGF0dGFjaCBtZWRpYVwiKTtcclxuICAgIC8vICBlbHNlIGlmICh0aGlzLnZpZGVvLmNhblBsYXlUeXBlKFwiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIikpIHtcclxuICAgIC8vICAgdGhpcy52aWRlby5zcmMgPSB0aGlzLnZpZGVvT2JqZWN0LmZpbGU7XHJcbiAgICAvLyAgIGlmIChVdGlscy5pc0lPUygpKSB7XHJcbiAgICAvLyAgICAgZnBzX2RybS5pbml0KFxyXG4gICAgLy8gICAgICAgdGhpcy52aWRlbyxcclxuICAgIC8vICAgICAgIGNvbmZpZy5mcHNDZXJ0aWZpY2F0ZVVybCxcclxuICAgIC8vICAgICAgIHRoaXMudmlkZW9PYmplY3QuYXNzZXRJZFxyXG4gICAgLy8gICAgICk7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vICAgdGhpcy52aWRlby5wbGF5c0lubGluZSA9IHRydWU7XHJcbiAgICAvLyAgIHRoaXMuc3RhcnQoKTtcclxuICAgIC8vIH1cclxuICB9XHJcbiAgZmFrZWluaXQoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gY2FzdC5mcmFtZXdvcmsuQ2FzdFJlY2VpdmVyQ29udGV4dC5nZXRJbnN0YW5jZSgpO1xyXG4gICAgY29uc3QgcGxheWVyTWFuYWdlciA9IGNvbnRleHQuZ2V0UGxheWVyTWFuYWdlcigpO1xyXG4gICAgLy8gdGhpcy5jYXN0RGVidWdMb2dnZXIgPSBjYXN0LmRlYnVnLkNhc3REZWJ1Z0xvZ2dlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgdGhpcy52aWRlb09iamVjdC5maWxlID1cclxuICAgICAgXCJodHRwczovL3ZwLmdqaXJhZmEubmV0L3Zwcy9wcm9kL29kZ2VodHlvL2VuY29kZS92anNteWxkcy9tcDQvMzYwcC5tcDRcIjtcclxuICAgIHRoaXMuYXR0YWNoTWVkaWEoKTtcclxuICAgIGNvbnRleHQuc3RhcnQoKTtcclxuICB9XHJcbiAgaW5pdCgpIHtcclxuICAgIC8vIHRoaXMuYmluZE1ldGhvZHMoKTtcclxuICAgIHRoaXMuY29udGV4dCA9IGNhc3QuZnJhbWV3b3JrLkNhc3RSZWNlaXZlckNvbnRleHQuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICB0aGlzLmNvbnRleHQuc2V0TG9nZ2VyTGV2ZWwoY2FzdC5mcmFtZXdvcmsuTG9nZ2VyTGV2ZWwuREVCVUcpO1xyXG4gICAgdGhpcy5wbGF5ZXJNYW5hZ2VyID0gdGhpcy5jb250ZXh0LmdldFBsYXllck1hbmFnZXIoKTtcclxuICAgIHRoaXMucGxheWVyTWFuYWdlci5zZXRNZWRpYUVsZW1lbnQodGhpcy52aWRlbyk7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlciA9IGNhc3QuZGVidWcuQ2FzdERlYnVnTG9nZ2VyLmdldEluc3RhbmNlKCk7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5zZXRFbmFibGVkKHRydWUpO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJoZWxsb1wiLCBcIm9rZWpcIik7XHJcblxyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLnNldENhc3REZWJ1Z2dlcih0aGlzLmNhc3REZWJ1Z0xvZ2dlcik7XHJcbiAgICAvLyB0aGlzLnBsYXliYWNrQ29uZmlnLmF1dG9SZXN1bWVEdXJhdGlvbiA9IDU7XHJcbiAgICAvLyB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5pbmZvKExPR19SRUNFSVZFUl9UQUcsIGBhdXRvaW5pdDogYCk7XHJcbiAgICAvLyB0aGlzLmNvbnRyb2xzLmNsZWFyRGVmYXVsdFNsb3RBc3NpZ25tZW50cygpO1xyXG4gICAgLy8gdGhpcy5kcmF3QnV0dG9ucygpO1xyXG5cclxuICAgIC8vIGNvbnRleHQuc3RhcnQoe1xyXG4gICAgLy8gICBxdWV1ZTogbmV3IENhc3RRdWV1ZSgpLFxyXG4gICAgLy8gICBwbGF5YmFja0NvbmZpZzogdGhpcy5wbGF5YmFja0NvbmZpZyxcclxuICAgIC8vICAgc3VwcG9ydGVkQ29tbWFuZHM6XHJcbiAgICAvLyAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuQ29tbWFuZC5BTExfQkFTSUNfTUVESUEgfFxyXG4gICAgLy8gICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkNvbW1hbmQuUVVFVUVfUFJFViB8XHJcbiAgICAvLyAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuQ29tbWFuZC5RVUVVRV9ORVhUIHxcclxuICAgIC8vICAgICBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5Db21tYW5kLlNUUkVBTV9UUkFOU0ZFUixcclxuICAgIC8vIH0pO1xyXG4gICAgLy8gdGhpcy5iaW5kSW50ZXJjZXB0b3JzKCk7XHJcbiAgICAvLyB0aGlzLnZpZGVvT2JqZWN0LmZpbGUgPVxyXG4gICAgLy8gICBcImh0dHBzOi8vdnAuZ2ppcmFmYS5uZXQvdnBzL3Byb2Qvb2RnZWh0eW8vZW5jb2RlL3Zqc215bGRzL21wNC8zNjBwLm1wNFwiO1xyXG4gICAgLy8gdGhpcy5hdHRhY2hNZWRpYSgpO1xyXG4gICAgdGhpcy5jb250ZXh0LnN0YXJ0KCk7XHJcbiAgICB0aGlzLmJpbmRNZXRob2RzKCk7XHJcbiAgICB0aGlzLmJpbmRJbnRlcmNlcHRvcnMoKTtcclxuICAgIHRoaXMuYWRkUGxheWVyRXZlbnRzKCk7XHJcbiAgfVxyXG4gIGRyYXdCdXR0b25zKCkge1xyXG4gICAgdGhpcy5jb250cm9scy5hc3NpZ25CdXR0b24oXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnVpLkNvbnRyb2xzU2xvdC5TTE9UX1NFQ09OREFSWV8xLFxyXG4gICAgICBjYXN0LmZyYW1ld29yay51aS5Db250cm9sc0J1dHRvbi5RVUVVRV9QUkVWXHJcbiAgICApO1xyXG4gICAgdGhpcy5jb250cm9scy5hc3NpZ25CdXR0b24oXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnVpLkNvbnRyb2xzU2xvdC5TTE9UX1BSSU1BUllfMSxcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNCdXR0b24uQ0FQVElPTlNcclxuICAgICk7XHJcbiAgICB0aGlzLmNvbnRyb2xzLmFzc2lnbkJ1dHRvbihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNTbG90LlNMT1RfUFJJTUFSWV8yLFxyXG4gICAgICBjYXN0LmZyYW1ld29yay51aS5Db250cm9sc0J1dHRvbi5TRUVLX0ZPUldBUkRfMTVcclxuICAgICk7XHJcbiAgICB0aGlzLmNvbnRyb2xzLmFzc2lnbkJ1dHRvbihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNTbG90LlNMT1RfU0VDT05EQVJZXzIsXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnVpLkNvbnRyb2xzQnV0dG9uLlFVRVVFX05FWFRcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBiaW5kSW50ZXJjZXB0b3JzKCkge1xyXG4gICAgdGhpcy5wbGF5ZXJNYW5hZ2VyLnNldE1lc3NhZ2VJbnRlcmNlcHRvcihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuTWVzc2FnZVR5cGUuTE9BRCxcclxuICAgICAgdGhpcy5vbkxvYWRSZXF1ZXN0LmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnBsYXllck1hbmFnZXIuc2V0TWVzc2FnZUludGVyY2VwdG9yKFxyXG4gICAgICBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5NZXNzYWdlVHlwZS5QTEFZLFxyXG4gICAgICB0aGlzLm9uUGxheS5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5wbGF5ZXJNYW5hZ2VyLnNldE1lc3NhZ2VJbnRlcmNlcHRvcihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuTWVzc2FnZVR5cGUuUEFVU0UsXHJcbiAgICAgIHRoaXMub25QYXVzZS5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gIH1cclxuICBiaW5kTWV0aG9kcygpIHtcclxuICAgIHRoaXMuYmluZEludGVyY2VwdG9ycyA9IHRoaXMuYmluZEludGVyY2VwdG9ycy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vbkxvYWRSZXF1ZXN0ID0gdGhpcy5vbkxvYWRSZXF1ZXN0LmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmF0dGFjaE1lZGlhID0gdGhpcy5hdHRhY2hNZWRpYS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5zdGFydCA9IHRoaXMuc3RhcnQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuYWRkUGxheWVyRXZlbnRzID0gdGhpcy5hZGRQbGF5ZXJFdmVudHMuYmluZCh0aGlzKTtcclxuICAgIHRoaXMub25UaW1lVXBkYXRlID0gdGhpcy5vblRpbWVVcGRhdGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMub25QbGF5ID0gdGhpcy5vblBsYXkuYmluZCh0aGlzKTtcclxuICAgIHRoaXMub25QYXVzZSA9IHRoaXMub25QYXVzZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuICBvbkxvYWRSZXF1ZXN0KGxvYWRSZXF1ZXN0RGF0YSkge1xyXG4gICAgLy8gSWYgdGhlIGxvYWRSZXF1ZXN0RGF0YSBpcyBpbmNvbXBsZXRlIHJldHVybiBhbiBlcnJvciBtZXNzYWdlXHJcbiAgICAvLyBpZiAoIWxvYWRSZXF1ZXN0RGF0YSB8fCAhbG9hZFJlcXVlc3REYXRhLm1lZGlhKSB7XHJcbiAgICAvLyAgIGNvbnN0IGVycm9yID0gbmV3IGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkVycm9yRGF0YShcclxuICAgIC8vICAgICBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5FcnJvclR5cGUuTE9BRF9GQUlMRURcclxuICAgIC8vICAgKTtcclxuICAgIC8vICAgZXJyb3IucmVhc29uID0gY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuRXJyb3JSZWFzb24uSU5WQUxJRF9SRVFVRVNUO1xyXG4gICAgLy8gICByZXR1cm4gZXJyb3I7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gLy8gY2hlY2sgYWxsIGNvbnRlbnQgc291cmNlIGZpZWxkcyBmb3IgYXNzZXQgVVJMIG9yIElEXHJcbiAgICAvLyBsZXQgc291cmNlID1cclxuICAgIC8vICAgbG9hZFJlcXVlc3REYXRhLm1lZGlhLmNvbnRlbnRVcmwgfHxcclxuICAgIC8vICAgbG9hZFJlcXVlc3REYXRhLm1lZGlhLmVudGl0eSB8fFxyXG4gICAgLy8gICBsb2FkUmVxdWVzdERhdGEubWVkaWEuY29udGVudElkO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJWUHJlY2VpdmVyXCIsIGxvYWRSZXF1ZXN0RGF0YS5tZWRpYS5jb250ZW50SWQpO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJWUHJlY2VpdmVyMVwiLCBIbHMuaXNTdXBwb3J0ZWQoKSk7XHJcbiAgICB0aGlzLnZpZGVvT2JqZWN0LmZpbGUgPSBsb2FkUmVxdWVzdERhdGEubWVkaWEuY29udGVudElkO1xyXG4gICAgdGhpcy52aWRlb09iamVjdC5kdXJhdGlvbiA9IGxvYWRSZXF1ZXN0RGF0YS5tZWRpYS5tZXRhZGF0YS5kdXJhdGlvbjtcclxuICAgIHRoaXMuY3VycmVudFRpbWUgPSBsb2FkUmVxdWVzdERhdGEuY3VycmVudFRpbWU7XHJcbiAgICB0aGlzLnBsYXliYWNrUmF0ZSA9IGxvYWRSZXF1ZXN0RGF0YS5wbGF5YmFja1JhdGU7XHJcbiAgICB0aGlzLmF1dG9wbGF5ID0gbG9hZFJlcXVlc3REYXRhLmF1dG9wbGF5O1xyXG4gICAgdGhpcy5hdHRhY2hNZWRpYSgpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgICAvLyBJZiB0aGVyZSBpcyBubyBzb3VyY2Ugb3IgYSBtYWxmb3JtZWQgSUQgdGhlbiByZXR1cm4gYW4gZXJyb3IuXHJcbiAgICBpZiAoIXNvdXJjZSB8fCBzb3VyY2UgPT0gXCJcIiB8fCAhc291cmNlLm1hdGNoKElEX1JFR0VYKSkge1xyXG4gICAgICBsZXQgZXJyb3IgPSBuZXcgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuRXJyb3JEYXRhKFxyXG4gICAgICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkVycm9yVHlwZS5MT0FEX0ZBSUxFRFxyXG4gICAgICApO1xyXG4gICAgICBlcnJvci5yZWFzb24gPSBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5FcnJvclJlYXNvbi5JTlZBTElEX1JFUVVFU1Q7XHJcbiAgICAgIHJldHVybiBlcnJvcjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc291cmNlSWQgPSBzb3VyY2UubWF0Y2goSURfUkVHRVgpWzFdO1xyXG5cclxuICAgIC8vIEFkZCBicmVha3MgdG8gdGhlIG1lZGlhIGluZm9ybWF0aW9uIGFuZCBzZXQgdGhlIGNvbnRlbnRVcmxcclxuICAgIHJldHVybiBhZGRCcmVha3MobG9hZFJlcXVlc3REYXRhLm1lZGlhKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgLy8gSWYgdGhlIHNvdXJjZSBpcyBhIHVybCB0aGF0IHBvaW50cyB0byBhbiBhc3NldCBkb24ndCBmZXRjaCBmcm9tIGJhY2tlbmRcclxuICAgICAgICBpZiAoc291cmNlSWQuaW5jbHVkZXMoXCIuXCIpKSB7XHJcbiAgICAgICAgICBjYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgICAgICAgIExPR19SRUNFSVZFUl9UQUcsXHJcbiAgICAgICAgICAgIFwiSW50ZXJjZXB0b3IgcmVjZWl2ZWQgZnVsbCBVUkxcIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGxvYWRSZXF1ZXN0RGF0YS5tZWRpYS5jb250ZW50VXJsID0gc291cmNlO1xyXG4gICAgICAgICAgcmV0dXJuIGxvYWRSZXF1ZXN0RGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZldGNoIHRoZSBjb250ZW50VXJsIGlmIHByb3ZpZGVkIGFuIElEIG9yIGVudGl0eSBVUkxcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhMT0dfUkVDRUlWRVJfVEFHLCBcIkludGVyY2VwdG9yIHJlY2VpdmVkIElEXCIpO1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hNZWRpYUJ5SWQoc291cmNlSWQpLnRoZW4oKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgbGV0IG1ldGFkYXRhID0gbmV3IGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkdlbmVyaWNNZWRpYU1ldGFkYXRhKCk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhLnRpdGxlID0gaXRlbS50aXRsZTtcclxuICAgICAgICAgICAgbWV0YWRhdGEuc3VidGl0bGUgPSBpdGVtLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICBsb2FkUmVxdWVzdERhdGEubWVkaWEuY29udGVudElkID0gaXRlbS5zdHJlYW0uZGFzaDtcclxuICAgICAgICAgICAgbG9hZFJlcXVlc3REYXRhLm1lZGlhLmNvbnRlbnRUeXBlID0gXCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiO1xyXG4gICAgICAgICAgICBsb2FkUmVxdWVzdERhdGEubWVkaWEubWV0YWRhdGEgPSBtZXRhZGF0YTtcclxuICAgICAgICAgICAgcmV0dXJuIGxvYWRSZXF1ZXN0RGF0YTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgICAgICBsZXQgZXJyb3IgPSBuZXcgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuRXJyb3JEYXRhKFxyXG4gICAgICAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuRXJyb3JUeXBlLkxPQURfRkFJTEVEXHJcbiAgICAgICAgKTtcclxuICAgICAgICBlcnJvci5yZWFzb24gPSBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5FcnJvclJlYXNvbi5JTlZBTElEX1JFUVVFU1Q7XHJcbiAgICAgICAgY2FzdERlYnVnTG9nZ2VyLmVycm9yKExPR19SRUNFSVZFUl9UQUcsIGVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICB9KTtcclxuICB9XHJcbiAgYWRkQnJlYWtzKG1lZGlhSW5mb3JtYXRpb24pIHtcclxuICAgIGNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgTE9HX1JFQ0VJVkVSX1RBRyxcclxuICAgICAgXCJhZGRCcmVha3M6IFwiICsgSlNPTi5zdHJpbmdpZnkobWVkaWFJbmZvcm1hdGlvbilcclxuICAgICk7XHJcbiAgICByZXR1cm4gZmV0Y2hNZWRpYUJ5SWQoXCJmYmJfYWRcIikudGhlbigoY2xpcDEpID0+IHtcclxuICAgICAgbWVkaWFJbmZvcm1hdGlvbi5icmVha0NsaXBzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiBcImZiYl9hZFwiLFxyXG4gICAgICAgICAgdGl0bGU6IGNsaXAxLnRpdGxlLFxyXG4gICAgICAgICAgY29udGVudFVybDogY2xpcDEuc3RyZWFtLmRhc2gsXHJcbiAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiLFxyXG4gICAgICAgICAgd2hlblNraXBwYWJsZTogNSxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgbWVkaWFJbmZvcm1hdGlvbi5icmVha3MgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IFwicHJlLXJvbGxcIixcclxuICAgICAgICAgIGJyZWFrQ2xpcElkczogW1wiZmJiX2FkXCJdLFxyXG4gICAgICAgICAgcG9zaXRpb246IDAsXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBmZXRjaE1lZGlhQnlJZChpZCkge1xyXG4gICAgY2FzdERlYnVnTG9nZ2VyLmRlYnVnKExPR19SRUNFSVZFUl9UQUcsIFwiZmV0Y2hpbmcgaWQ6IFwiICsgaWQpO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoYWNjZXB0LCByZWplY3QpID0+IHtcclxuICAgICAgZmV0Y2goQ09OVEVOVF9VUkwpXHJcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oKG9iaikgPT4ge1xyXG4gICAgICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqW2lkXSkge1xyXG4gICAgICAgICAgICAgIGFjY2VwdChvYmpbaWRdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZWplY3QoYCR7aWR9IG5vdCBmb3VuZCBpbiByZXBvc2l0b3J5YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlamVjdChcIkNvbnRlbnQgcmVwb3NpdG9yeSBub3QgZm91bmQuXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZWNlaXZlcjtcclxuIiwiaW1wb3J0IFNlZWtCYXIgZnJvbSBcIi4vc2Vla2JhclwiO1xyXG5pbXBvcnQgVGltZXIgZnJvbSBcIi4vdGltZXJcIjtcclxuY2xhc3MgUmVjZWl2ZXJDb250cm9scyB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnNlZWtiYXIgPSBuZXcgU2Vla0JhcihcIi5zZWVrYmFyLXByb2dyZXNzXCIpO1xyXG4gICAgdGhpcy50aW1lciA9IG5ldyBUaW1lcihcIi50aW1lclwiKTtcclxuICAgIHRoaXMuY2FzdERlYnVnZ2VyID0gbnVsbDtcclxuICB9XHJcbiAgc2V0Q2FzdERlYnVnZ2VyKGNhc3REZWJ1Z2dlcikge1xyXG4gICAgdGhpcy5jYXN0RGVidWdnZXIgPSBjYXN0RGVidWdnZXI7XHJcbiAgICB0aGlzLnNlZWtiYXIuc2V0Q2FzdERlYnVnZ2VyKHRoaXMuY2FzdERlYnVnZ2VyKTtcclxuICB9XHJcbiAgdXBkYXRlKHN0YXRlKSB7XHJcbiAgICB0aGlzLnNlZWtiYXIudXBkYXRlKHN0YXRlLmN1cnJlblR0aW1lLCBzdGF0ZS5kdXJhdGlvbik7XHJcbiAgICB0aGlzLnRpbWVyLnVwZGF0ZShzdGF0ZS5jdXJyZW5UdGltZSwgc3RhdGUuZHVyYXRpb24pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmVjZWl2ZXJDb250cm9scztcclxuIiwiY2xhc3MgU2Vla0JhciB7XHJcbiAgY29uc3RydWN0b3IoaWQpIHtcclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWQpO1xyXG4gICAgdGhpcy5jYXN0ZGVidWdnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5zaG93ID0gZmFsc2U7XHJcbiAgfVxyXG4gIHNldENhc3REZWJ1Z2dlcihjYXN0ZGVidWdnZXIpIHtcclxuICAgIHRoaXMuY2FzdGRlYnVnZ2VyID0gY2FzdGRlYnVnZ2VyO1xyXG4gIH1cclxuICBzZXRQcm9ncmVzcyh0aW1lLCBkdXJhdGlvbikge1xyXG4gICAgdGhpcy5jYXN0ZGVidWdnZXIuZGVidWcoXCJlbGVcIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5lbGVtZW50KSk7XHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSAodGltZSAvIGR1cmF0aW9uKSAqIDEwMCArIFwiJVwiO1xyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZlwiO1xyXG4gICAgdGhpcy5jYXN0ZGVidWdnZXIuZGVidWcoXCJ3aWR0aFwiLCB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGgpO1xyXG4gIH1cclxuXHJcbiAgc2hvd0hpZGUodGltaW5nKSB7XHJcbiAgICB0aGlzLmNhc3RkZWJ1Z2dlci5kZWJ1ZyhcInNob3dIaWRlXCIsIGAke3RpbWluZ30gJHt0aGlzLnNob3d9YCk7XHJcbiAgICBpZiAodGhpcy5zaG93KSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIH0sIHRpbWluZyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWVrQmFyO1xyXG4iLCJjbGFzcyBUaW1lciB7XHJcbiAgY29uc3RydWN0b3IoaWQpIHtcclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWQpO1xyXG4gIH1cclxuICB1cGRhdGUoY3VycmVudFRpbWUsIGR1cmF0aW9uKSB7XHJcbiAgICBsZXQgY3VycmVudE1pbnV0ZXMgPSBNYXRoLmZsb29yKGN1cnJlbnRUaW1lIC8gNjApO1xyXG4gICAgaWYgKGN1cnJlbnRNaW51dGVzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgIGN1cnJlbnRNaW51dGVzID0gXCIwXCIgKyBjdXJyZW50TWludXRlcztcclxuICAgIH1cclxuICAgIGN1cnJlbnRUaW1lID0gY3VycmVudFRpbWUgJSA2MDtcclxuICAgIGxldCBkdXJhdGlvbk1pbnV0ZXMgPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gNjApO1xyXG4gICAgaWYgKGR1cmF0aW9uTWludXRlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICBkdXJhdGlvbk1pbnV0ZXMgPSBcIjBcIiArIGR1cmF0aW9uTWludXRlcztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVsZW1lbnQuaW5uZXJIdG1sID0gYCR7Y3VycmVudE1pbnV0ZXN9OiR7Y3VycmVudFRpbWV9IC8gJHtkdXJhdGlvbk1pbnV0ZXN9OiR7ZHVyYXRpb259YDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRpbWVyO1xyXG4iXSwibmFtZXMiOlsidnBSZWNlaXZlciIsImlkIiwiY29uZmlnIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY29udGV4dCIsInBsYXllck1hbmFnZXIiLCJjYXN0RGVidWdMb2dnZXIiLCJhcHBJZCIsInZpZGVvIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicGxheWJhY2tDb25maWciLCJjb250cm9scyIsImhscyIsInZpZGVvT2JqZWN0IiwidmlkZW9Db250YWluZXIiLCJwYXJlbnRFbGVtZW50IiwicGxheWJhY2tSYXRlIiwiYXV0b3BsYXkiLCJyZWNlaXZlckNvbnRyb2xzIiwic2Vla2JhciIsImVsZW1lbnQiLCJjYXN0ZGVidWdnZXIiLCJzaG93Iiwic2V0Q2FzdERlYnVnZ2VyIiwic2V0UHJvZ3Jlc3MiLCJ0aW1lIiwiZHVyYXRpb24iLCJkZWJ1ZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdHlsZSIsIndpZHRoIiwiYmFja2dyb3VuZENvbG9yIiwic2hvd0hpZGUiLCJ0aW1pbmciLCJkaXNwbGF5Iiwic2V0VGltZW91dCIsInRpbWVyIiwidXBkYXRlIiwiY3VycmVudFRpbWUiLCJjdXJyZW50TWludXRlcyIsIk1hdGgiLCJmbG9vciIsImxlbmd0aCIsImR1cmF0aW9uTWludXRlcyIsImlubmVySHRtbCIsImNhc3REZWJ1Z2dlciIsInN0YXRlIiwiY3VycmVuVHRpbWUiLCJzdGFydCIsIm9uUGxheSIsInBsYXkiLCJ0aGVuIiwiY2F0Y2giLCJvblBhdXNlIiwicGF1c2UiLCJhZGRQbGF5ZXJFdmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwib25UaW1lVXBkYXRlIiwiYXR0YWNoTWVkaWEiLCJITFNzdXBwb3J0ZWQiLCJIbHMiLCJpc1N1cHBvcnRlZCIsImZpbGUiLCJlbmRzV2l0aCIsInNyYyIsIm9uIiwiRXZlbnRzIiwiTUVESUFfQVRUQUNIRUQiLCJzdGFydExldmVsIiwibG9hZFNvdXJjZSIsIk1BTklGRVNUX1BBUlNFRCIsImV2ZW50IiwiZGF0YSIsIkVSUk9SIiwiZGV0YWlscyIsImVycm9yIiwiZmFrZWluaXQiLCJjYXN0IiwiZnJhbWV3b3JrIiwiQ2FzdFJlY2VpdmVyQ29udGV4dCIsImdldEluc3RhbmNlIiwiZ2V0UGxheWVyTWFuYWdlciIsImluaXQiLCJzZXRMb2dnZXJMZXZlbCIsIkxvZ2dlckxldmVsIiwiREVCVUciLCJzZXRNZWRpYUVsZW1lbnQiLCJDYXN0RGVidWdMb2dnZXIiLCJzZXRFbmFibGVkIiwiYmluZE1ldGhvZHMiLCJiaW5kSW50ZXJjZXB0b3JzIiwiZHJhd0J1dHRvbnMiLCJhc3NpZ25CdXR0b24iLCJ1aSIsIkNvbnRyb2xzU2xvdCIsIlNMT1RfU0VDT05EQVJZXzEiLCJDb250cm9sc0J1dHRvbiIsIlFVRVVFX1BSRVYiLCJTTE9UX1BSSU1BUllfMSIsIkNBUFRJT05TIiwiU0xPVF9QUklNQVJZXzIiLCJTRUVLX0ZPUldBUkRfMTUiLCJTTE9UX1NFQ09OREFSWV8yIiwiUVVFVUVfTkVYVCIsInNldE1lc3NhZ2VJbnRlcmNlcHRvciIsIm1lc3NhZ2VzIiwiTWVzc2FnZVR5cGUiLCJMT0FEIiwib25Mb2FkUmVxdWVzdCIsImJpbmQiLCJQTEFZIiwiUEFVU0UiLCJsb2FkUmVxdWVzdERhdGEiLCJtZWRpYSIsImNvbnRlbnRJZCIsIm1ldGFkYXRhIiwiYWRkQnJlYWtzIiwibWVkaWFJbmZvcm1hdGlvbiIsIkxPR19SRUNFSVZFUl9UQUciLCJmZXRjaE1lZGlhQnlJZCIsImNsaXAxIiwiYnJlYWtDbGlwcyIsInRpdGxlIiwiY29udGVudFVybCIsInN0cmVhbSIsImRhc2giLCJjb250ZW50VHlwZSIsIndoZW5Ta2lwcGFibGUiLCJicmVha3MiLCJicmVha0NsaXBJZHMiLCJwb3NpdGlvbiIsIlByb21pc2UiLCJhY2NlcHQiLCJyZWplY3QiLCJmZXRjaCIsIkNPTlRFTlRfVVJMIiwicmVzcG9uc2UiLCJqc29uIiwib2JqIiwid2luZG93Il0sInNvdXJjZVJvb3QiOiIifQ==