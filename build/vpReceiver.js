(()=>{var e={782:e=>{e.exports={adTimeSliderColor:"yellow",timeSliderColor:"#194694"}},468:e=>{e.exports=class{constructor(e){this.receiver=e,this.enable=this.enable.bind(this),this.disable=this.disable.bind(this)}enable(){console.log(this.receiver.config.adTimeSliderColor),this.receiver.receiverControls.seekbar.setColor(this.receiver.config.adTimeSliderColor)}disable(){this.receiver.receiverControls.seekbar.setColor(this.receiver.config.timeSliderColor)}}}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=s(782),t=s.n(e);const i={debug:!1,maxBufferSize:20971520,maxLoadingDelay:2,nudgeMaxRetry:2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:2e3,emeEnabled:!0,widevineLicenseUrl:"https://widevine-dash.ezdrm.com/widevine-php/widevine-foreignkey.php?pX=90FC04"},a=e=>{if(!e)return"00:00";let t=Math.floor(e/3600),s=Math.floor((e-3600*t)/60),i=Math.floor(e%60);return t?t.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0"):s.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")},r=class{constructor(e,t){this.seekbar=new class{constructor(e){this.element=document.querySelector(e),this.castdebugger=null,this.show=!1,this.speed=30,this.interval=null,this.cancelAnimation=!1,this.initialLeftPosition=this.element.style.left}setCastDebugger(e){this.castdebugger=e}setProgress(e,t){this.element.style.width=e/t*100+"%"}showHide(e){this.castdebugger.debug("showHide",`${e} ${this.show}`),this.show?this.element.parentElement.style.display="block":setTimeout((()=>{this.element.parentElement.style.display="none"}),e)}setColor(e){this.element.style.backgroundColor=e}animateSeekbar(){this.element.style.position="absolute";let e=this.element.parentElement.clientWidth;const t=()=>{try{let s=this.element.getBoundingClientRect().left,i=(this.element.parentElement.getBoundingClientRect().right,this.element.parentElement.getBoundingClientRect().left),a=this.element.parentElement.getBoundingClientRect().right;if(this.element.clientWidth<=e/4&&s<=i?this.element.style.width=`${this.element.clientWidth+this.speed}px`:s+this.element.clientWidth<a?this.element.style.left=`${s+this.speed}px`:s<a?(this.element.style.left=`${s+this.speed}px`,this.element.style.width=this.element.clientWidth-this.speed+"px"):(this.element.style.left=`${i}px`,this.element.style.width="0px"),this.cancelAnimation)return;window.requestAnimationFrame(t)}catch(e){console.log(e),console.log(e.toString())}};window.requestAnimationFrame(t)}reset(){this.cancelAnimation=!0,this.element.style.width="0%",this.element.style.left=this.initialLeftPosition,this.element.style.position="relative"}}(".seekbar-progress"),this.timer=new class{constructor(e){this.element=document.querySelector(e),this.element.textContent="00:00 / 00:00"}update(e,t){this.element.textContent=`${a(e)} /${a(t)}`}}(".timer"),this.castDebugger=null,this.element=document.querySelector(e),this.overlay=this.element.parentElement,this.info=this.overlay.children[0],this.show=!0,this.loader=document.querySelector(".loader"),this.playIcon=document.querySelector(".vp-icon-play"),this.pauseIcon=document.querySelector(".vp-icon-pause"),this.videoInfo=document.querySelector(".video-info"),this.splashScreen=document.querySelector(".splash-screen"),this.thumbnail=document.querySelector("#thumbnail"),this.receiver=t}setCastDebugger(e){this.castDebugger=e,this.seekbar.setCastDebugger(this.castDebugger)}pause(){this.pauseIcon.style.display="none",this.playIcon.style.display="block",setTimeout((()=>{this.playIcon.style.display="none"}),2e3)}play(){this.playIcon.style.display="none",this.pauseIcon.style.display="block",setTimeout((()=>{this.pauseIcon.style.display="none"}),2e3)}update(e){this.seekbar.setProgress(e.currentTime,e.duration),this.timer.update(e.currentTime,e.duration)}hideControls(e){this.show=!1,this.showHide(e||5e3)}showControls(){this.show=!0,this.showHide(10)}resetOverlay(e){const t=()=>{this.seekbar.reset(),this.info.style.display="none"};return e?t():setTimeout(t,3e3)}showHide(e){this.show?this.element.style.display="flex":setTimeout((()=>{this.element.style.display="none"}),e)}initOverlay(e){this.splashScreen.style.display="none",this.overlay.style.display="block";try{e.images.length>0&&e&&(this.thumbnail.src=e.images[0].url,this.videoInfo.children[0].textContent=e.title,this.videoInfo.children[1].textContent=e.description),this.seekbar.animateSeekbar()}catch(e){}}};var n=s(468),o=s.n(n);class d{static DEBUG_VAST_SERVICE="DEBUG_VAST_SERVICE";constructor(e){this.receiver=e,this.adContainer=document.querySelector(".adContainer"),this.adsDisplayContainer=null,this.adsLoader=null,this.adsDisplayInitialized=!1,this.currentAds=null,this.initialized=!1,this.autoplayAllowed=!1,this.autoplayRequiresMuted=!1,this.hasErrors=!1,this.adUI=null,this.adDuration=0}init(){this.initialized=!0,google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),this.adsDisplayContainer=new google.ima.AdDisplayContainer(this.adContainer,this.receiver.video),this.adsLoader=new google.ima.AdsLoader(this.adsDisplayContainer),this.adsLoader.getSettings().setPlayerType("cast/client-side"),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1),this.adUI=new(o())(this.receiver)}onAllAdsCompleted(e){this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE,"ad completed")}onAdCompleted(e){this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE,"ad completed"),this.adUI.disable(),this.adsManager&&this.adsManager.destroy(),!this.hasErrors&&this.receiver.isAdPlaying&&this.receiver.onEnd()}onContentPauseRequested(e){this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE,"Content Pause Request")}onContentResumeRequested(){this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE,"Content Resume Request")}onAdLoaded(e){this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE,"Ad loaded")}loadAds(e,t){this.currentAds={},this.initialized||this.init(),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE,"load "+e),e?(this.currentAds.content=e,this.currentAds.type="url"):t&&(this.currentAds.content=t,this.currentAds.type="xml"),this.currentAds.currentAdIndex=0,this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE),"url"===this.currentAds.type?this.load(this.currentAds.content):this.load(null,this.currentAds.content)}load(e,t){if(this.initialized||this.init(),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE,"Initialized"+this.vastUrl),this.adsRequest=new google.ima.AdsRequest,e)this.adsRequest.adTagUrl=e;else{if(!t)return;this.adsRequest.adsResponse=t}this.adsRequest.linearAdSlotWidth=this.receiver.video.clientWidth,this.adsRequest.linearAdSlotHeight=this.receiver.video.clientHeight,this.adsRequest.nonLinearAdSlotWidth=this.receiver.video.clientWidth,this.adsRequest.nonLinearAdSlotHeight=this.receiver.video.clientHeight/3,this.adsRequest.setAdWillAutoPlay(this.autoplayAllowed),this.adsRequest.setAdWillPlayMuted(this.autoplayRequiresMuted),this.adsRequest.vastLoadTimeout=8e3,this.adsLoader.requestAds(this.adsRequest)}onTimeUpdate(e){const t=e.getAdData();this.adsManager.getCurrentAd()?.getAdId()?.toString(),this.receiver.receiverControls.update({currentTime:t.currentTime,duration:t.duration}),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," ON TIME UPDATE")}onAdSkip(e){this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE,"ON AD Ski")}onAdStarted(e){this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE,"ON AD STARTED"),this.receiver.isAdPlaying=!0,this.adUI.enable()}onAdsManagerLoaded(e){this.adsManager&&this.adsManager.destroy(),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," before getadsmanager");const t=new google.ima.AdsRenderingSettings;this.adsManager=e.getAdsManager(this.receiver.video,t),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," after getadsmanager"),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," after onaderror"),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," after onContentPauseRequested"),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," after onAllAdsCompleted"),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," after onAdLoaded"),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," after onAdStarted"),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," after onAdCompleted"),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdCompleted.bind(this)),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," after onContentPauseRequested"),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdSkip.bind(this)),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," after onAdSkip"),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,this.onTimeUpdate.bind(this)),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," after onTimeUpdate"),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BUFFERING,(()=>{this.loading=!0})),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(()=>{Utils.fire(this.adContainer,Events.adEvents.AD_SKIPPABLE,{currentTime:this.player.video.currentTime,adPlayId:this.adsManager.getCurrentAd()?.getAdId()})})),this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," just before playing ad"),this.playAds()}playAds(){this.adsDisplayInitialized||(this.adsDisplayContainer.initialize(),this.adsDisplayInitialized=!0);const e=this.receiver.video.clientWidth,t=this.receiver.video.clientHeight;try{this.receiver.isAdPlaying=!0,this.adsManager.init(e,t,google.ima.ViewMode.FULLSCREEN),this.adsManager.start(),this.receiver.receiverControls.loader.style.display="none"}catch(e){this.receiver.castDebugLogger.debug(this.VastService.DEBUG_VAST_SERVICE,"AdsManager could not be started"+e.getMessage())}}onAdError(e){this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE," ad error"+e),this.hasErrors=!0,this.receiver.onEnd().bind(this.receiver)}resume(){this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE,"RESUMING AD Event"),this.adsManager&&this.adsManager.resume()}pause(){this.receiver.castDebugLogger.debug(d.DEBUG_VAST_SERVICE,"PAUSE AD Event"),this.adsManager&&this.adsManager.pause()}}const h=d;function l(e,s){let a=new class{constructor(e,s){this.context=null,this.playerManager=null,this.castDebugLogger=null,this.appId=s.appId,this.video=document.querySelector(e),this.playbackConfig=null,this.controls=null,this.hls=null,this.videoObject={},this.videoContainer=this.video.parentElement,this.playbackRate=1,this.autoplay=!1,this.receiverControls=new r(".controls",this),this.mediaManager=null,this.castReceiverManager=null,this.videoStarted=!1,this.vastService=new h(this),this.config={},this.adBreaks=[],this.debugTags={LOAD_REQUEST:"LOAD_REQUEST",ATTACH_MEDIA:"ATTACH_MEDIA",ONPLAY:"ON_PLAY",START:"START",INIT:"INIT",EVENTS:"EVENTS",ONEND:"ONEND",BROADCAST:"BROADCAST",ONTIMEUPDATEE:"ONTIMEUPDATE"},this.config={...t(),...s},this.isAdPlaying=!1,this.NAMESPACE="urn:x-cast:tech.gjirafa.vp-service",this.receiverControls=new r(".controls",this)}start(){this.receiverControls.resetOverlay(),this.castDebugLogger.debug(this.debugTags.START,"Starting video..."),this.broadcast(this.debugTags.START+"Starting video..."),this.onPlay()}onPlay(e){this.castDebugLogger.debug("on play",this.video.getAttribute("src")),this.broadcast("on play"+this.video.getAttribute("src")),this.castDebugLogger.debug("isadplaying",this.isAdPlaying),this.isAdPlaying?this.vastService.resume():this.video.play().then((()=>(this.videoStarted?this.receiverControls.play():(this.receiverControls.showControls(),this.videoStarted=!0),e))).catch((e=>{this.onPause(),this.castDebugLogger.debug(this.debugTags.ONPLAY," Couldn't play video.Tring one more time "+e),this.broadcast(" Couldn't play video.Tring one more time "+e.toString())}))}onPause(e){return this.isAdPlaying?this.vastService.pause():this.video.pause(),this.receiverControls.pause(),this.receiverControls.showControls(),e}addPlayerEvents(){this.video.addEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("ended",this.onEnd.bind(this))}broadcast(e){this.castDebugLogger.debug(this.debugTags.BROADCAST,e),this.context&&this.context.sendCustomMessage(this.NAMESPACE,void 0,e)}onEnd(){this.castDebugLogger.debug("on End",this.config.replay);try{this.isAdPlaying?(this.broadcast({message:"Ad finished",code:2,time:this.currentTime}),this.hls&&this.hls.destroy(),this.isAdPlaying=!1):this.broadcast({message:"Video finished",code:3})}catch(e){this.castDebugLogger.error(this.debugTags.ONEND," Error"+e.toString())}return null}onTimeUpdate(){if(!this.isAdPlaying){try{if(this.adBreaks.map((e=>e.breakTimingValue)).includes(Math.floor(this.video.currentTime))&&!this.isAdPlaying)return this.broadcast(this.adBreaks),this.onPause(),this.currentTime=Math.floor(this.video.currentTime),this.isAdPlaying=!0,this.vastService.loadAds(this.adBreaks[0].adTagUrl[0]),this.hls&&this.hls.destroy(),void this.adBreaks.shift()}catch(e){this.castDebugLogger.error(this.debugTags.ONTIMEUPDATE,e.toString())}this.receiverControls.update(this.updatePlayerState())}}updatePlayerState(){return{currentTime:this.video.currentTime,duration:this.videoObject.duration||this.video.duration}}attachMedia(){if(vpReceiver.HLSsupported=Hls.isSupported(),this.castDebugLogger.debug("inside attach media",vpReceiver.HLSsupported),this.video.playbackRate=1,this.castDebugLogger.debug("video file",JSON.stringify(this.video,["id","className","tagName"])),this.broadcast({message:"video file"+JSON.stringify(this.video,["id","className","tagName"])}),this.videoObject.file.endsWith("mp4"))this.castDebugLogger.debug("inside mp4",this.videoObject.file),this.video.src=this.videoObject.file,this.start();else if(vpReceiver.HLSsupported){this.castDebugLogger.debug("inside hlssupported",this.videoObject.file);try{this.hls=new Hls(i),this.castDebugLogger.debug("hls initialized",this.videoObject.file),this.broadcast({message:"hls initialized "+this.videoObject.file}),console.log("attachMedia "+this.currentTime),this.hls.on(Hls.Events.MEDIA_ATTACHED,(()=>{this.castDebugLogger.debug("amedia attached",this.videoObject.file),this.castDebugLogger.debug("loading source hlssupported",this.videoObject.file),this.currentTime>0&&(this.video.currentTime=this.currentTime),this.hls.loadSource(this.videoObject.file)})),this.hls.on(Hls.Events.MANIFEST_PARSED,((e,t)=>{this.castDebugLogger.debug("manifest parsed",this.videoObject.file),this.currentTime>0&&(this.video.currentTime=this.currentTime),this.start()})),this.hls.on(Hls.Events.ERROR,((e,t)=>{this.castDebugLogger.debug("HLS  ERROR",t.details)})),this.hls.attachMedia(this.video)}catch(e){}}this.castDebugLogger.debug("finished attach media")}fakeinit(){let e=this;this.castDebugLogger={debug:function(t,s){"object"==typeof s&&2==s.code&&(e.video.currentTime=s.time,setTimeout((()=>{e.attachMedia()}),700)),console.log(t,s)},error:function(e,t){console.log(e,t)}},this.receiverControls.setCastDebugger(this.castDebugLogger),this.videoObject.file="https://vp.gjirafa.net/vps/prod/odgehtyo/encode/vjsmyjhs/hls/master_file.m3u8",this.videoObject.duration=119,this.receiverControls.seekbar.animateSeekbar(),this.receiverControls.initOverlay({title:"Some title",images:[{url:"https://liki.gjirafa.com/api/media/gjvideo/yqz0gq/retina.jpg"}]}),this.adBreaks={adCuePoints:[10],vasts:[["https://vp-dev.gjirafa.net/vps/content/vast/preroll-2.xml",null]]},setTimeout((()=>{this.attachMedia()}),5e3),this.bindMethods(),this.addPlayerEvents()}init(){this.context=cast.framework.CastReceiverContext.getInstance(),this.context.setLoggerLevel(cast.framework.LoggerLevel.DEBUG),this.castDebugLogger=cast.debug.CastDebugLogger.getInstance(),this.castDebugLogger.setEnabled(!0),this.castDebugLogger.debug(this.debugTags.INIT,"castdebugger initialized"),this.playerManager=this.context.getPlayerManager(),this.playerManager.setMediaElement(this.video),this.playerManager.setSupportedMediaCommands(cast.framework.messages.Command.SEEK|cast.framework.messages.Command.PAUSE|cast.framework.messages.Command.PLAY),cast.framework.ui.Controls.getInstance();const e=new cast.framework.ui.BrowseItem;e.title="Title 1",e.subtitle="Subtitle 1",e.duration=300,e.imageType=cast.framework.ui.BrowseImageType.MUSIC_TRACK,e.image=new cast.framework.messages.Image("1.jpg"),e.entity="example://gizmos/1";const t=new cast.framework.ui.BrowseItem;t.title="Title 2",t.subtitle="Subtitle 2",t.duration=100,t.imageType=cast.framework.ui.BrowseImageType.MUSIC_TRACK,t.image=new cast.framework.messages.Image("2.jpg"),t.entity="example://gizmos/2";const s=[e,t],i=new cast.framework.ui.BrowseContent;i.title="Up Next",i.items=s,this.receiverControls.setCastDebugger(this.castDebugLogger);const a=new cast.framework.CastReceiverOptions;a.customNamespaces={},a.customNamespaces[this.NAMESPACE]=cast.framework.system.MessageType.JSON,this.context.start(a),this.bindMethods(),this.bindInterceptors(),this.addPlayerEvents()}onSeek(e){this.broadcast(e.toString()),this.video.currentTime=e.currentTime,this.receiverControls.showControls(),this.receiverControls.hideControls(6e3),this.receiverControls.update(this.updatePlayerState())}drawButtons(){this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_SECONDARY_1,cast.framework.ui.ControlsButton.QUEUE_PREV),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_PRIMARY_1,cast.framework.ui.ControlsButton.CAPTIONS),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_PRIMARY_2,cast.framework.ui.ControlsButton.SEEK_FORWARD_15),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_SECONDARY_2,cast.framework.ui.ControlsButton.QUEUE_NEXT)}bindInterceptors(){this.context.addEventListener(cast.framework.system.EventType.SENDER_DISCONNECTED,(e=>{window.close()})),this.context.addCustomMessageListener(this.NAMESPACE,(e=>{this.castDebugLogger.debug(this.debugTags.EVENTS,"addCustomMessageListener"+e.data),2==JSON.parse(e.data).code&&this.attachMedia()})),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.LOAD,this.onLoadRequest.bind(this)),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.PLAY,this.onPlay.bind(this)),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.PAUSE,this.onPause.bind(this)),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.SEEK,this.onSeek.bind(this))}bindMethods(){this.bindInterceptors=this.bindInterceptors.bind(this),this.onLoadRequest=this.onLoadRequest.bind(this),this.attachMedia=this.attachMedia.bind(this),this.start=this.start.bind(this),this.addPlayerEvents=this.addPlayerEvents.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onPlay=this.onPlay.bind(this),this.onPause=this.onPause.bind(this),this.updatePlayerState=this.updatePlayerState.bind(this),this.onEnd=this.onEnd.bind(this)}initState(){this.hls=null,this.currentTime=0,this.video.currentTime=0,this.receiverControls.resetOverlay(!0)}onLoadRequest(e){this.hls&&(this.hls.destroy(),this.vastService.adUI.disable(),this.initState().bind(this)),this.receiverControls.initOverlay(e.media.metadata),this.castDebugLogger.debug("VPreceiver",e.media.contentId),this.castDebugLogger.debug("VPreceiver1",Hls.isSupported()),this.videoObject.file=e.media.contentId,this.videoObject.duration=e.media.metadata.duration,this.currentTime=e.currentTime,this.playbackRate=e.playbackRate,this.autoplay=e.autoplay,e.requireAds&&(this.adBreaks=e.customData.adBreaks),this.config.replay=void 0===e.replay||e.replay;try{this.attachMedia(),this.receiverControls.update(this.updatePlayerState()),this.broadcast({message:"attaching media"})}catch(e){this.broadcast({message:e.toString(),stack:e.stack})}return null}addBreaks(e){return castDebugLogger.debug(LOG_RECEIVER_TAG,"addBreaks: "+JSON.stringify(e)),fetchMediaById("fbb_ad").then((t=>{e.breakClips=[{id:"fbb_ad",title:t.title,contentUrl:t.stream.dash,contentType:"application/dash+xml",whenSkippable:5}],e.breaks=[{id:"pre-roll",breakClipIds:["fbb_ad"],position:0}]}))}fetchMediaById(e){return castDebugLogger.debug(LOG_RECEIVER_TAG,"fetching id: "+e),new Promise(((t,s)=>{fetch(CONTENT_URL).then((e=>e.json())).then((i=>{i?i[e]?t(i[e]):s(`${e} not found in repository`):s("Content repository not found.")}))}))}}(e,s);return a.init(),l.receiver=a,a}l.HLSsupported=!1,window.vpReceiver=l})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNEQSxFQUNFQSxFQUFJeUIsR0FDTmlVLEVBQU8xVixFQUFJeUIsSUFFWGtVLEVBQVEsR0FBRWxVLDZCQUdaa1UsRUFBTyx5Q0RwY1dsVSxFQUFJL0MsR0FHaEMsT0FGQVAsRUFBU3FJLE9BQ1Q2RixFQUFXbE8sU0FBV0EsRUFDZkEsRUFOVGtPLEVBQVdpRCxjQUFlLEVBUzFCNUwsT0FBTzJJLFdBQWFBLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy9jb25maWcvZGVmYXVsdENvbmZpZy5qcyIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy9tb2RlbHMvYWRVSS5qcyIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdnAtcmVjZWl2ZXIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy9jb25maWcvaGxzQ29uZmlnLmpzIiwid2VicGFjazovL3ZwLXJlY2VpdmVyLy4vc3JjL2pzL2hlbHBlcnMvVXRpbHMuanMiLCJ3ZWJwYWNrOi8vdnAtcmVjZWl2ZXIvLi9zcmMvanMvbW9kZWxzL3JlY2VpdmVyLWNvbnRyb2xzLmpzIiwid2VicGFjazovL3ZwLXJlY2VpdmVyLy4vc3JjL2pzL21vZGVscy9zZWVrYmFyLmpzIiwid2VicGFjazovL3ZwLXJlY2VpdmVyLy4vc3JjL2pzL21vZGVscy90aW1lci5qcyIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy9tb2RlbHMvdmFzdFNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vdnAtcmVjZWl2ZXIvLi9zcmMvanMvdnBSZWNlaXZlci5qcyIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy9tb2RlbHMvcmVjZWl2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGVmYXVsQ29uZmlnID0ge1xyXG4gIGFkVGltZVNsaWRlckNvbG9yOiBcInllbGxvd1wiLFxyXG4gIHRpbWVTbGlkZXJDb2xvcjogXCIjMTk0Njk0XCIsXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bENvbmZpZztcclxuIiwiY2xhc3MgQWRVSSB7XHJcbiAgY29uc3RydWN0b3IocmVjZWl2ZXIpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcclxuICAgIHRoaXMuZW5hYmxlID0gdGhpcy5lbmFibGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuZGlzYWJsZSA9IHRoaXMuZGlzYWJsZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuICBlbmFibGUoKSB7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLnJlY2VpdmVyLmNvbmZpZy5hZFRpbWVTbGlkZXJDb2xvcik7XHJcbiAgICB0aGlzLnJlY2VpdmVyLnJlY2VpdmVyQ29udHJvbHMuc2Vla2Jhci5zZXRDb2xvcihcclxuICAgICAgdGhpcy5yZWNlaXZlci5jb25maWcuYWRUaW1lU2xpZGVyQ29sb3JcclxuICAgICk7XHJcbiAgfVxyXG4gIGRpc2FibGUoKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyLnJlY2VpdmVyQ29udHJvbHMuc2Vla2Jhci5zZXRDb2xvcihcclxuICAgICAgdGhpcy5yZWNlaXZlci5jb25maWcudGltZVNsaWRlckNvbG9yXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBBZFVJO1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgY29uZmlnID0ge1xyXG4gIGRlYnVnOiBmYWxzZSxcclxuICBtYXhCdWZmZXJTaXplOiAyMDk3MTUyMCxcclxuICBtYXhMb2FkaW5nRGVsYXk6IDIsXHJcbiAgbnVkZ2VNYXhSZXRyeTogMixcclxuICBsaXZlU3luY0R1cmF0aW9uQ291bnQ6IDMsXHJcbiAgbGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50OiBJbmZpbml0eSxcclxuICBtYW5pZmVzdExvYWRpbmdNYXhSZXRyeTogMSxcclxuICBtYW5pZmVzdExvYWRpbmdSZXRyeURlbGF5OiAxMDAwLFxyXG4gIG1hbmlmZXN0TG9hZGluZ01heFJldHJ5VGltZW91dDogMjAwMCxcclxuICBlbWVFbmFibGVkOiB0cnVlLFxyXG4gIC8vIHN0YXJ0TGV2ZWw6IDMsXHJcbiAgLy8gYXV0b0xldmVsQ2FwcGluZzogMyxcclxuICB3aWRldmluZUxpY2Vuc2VVcmw6XHJcbiAgICBcImh0dHBzOi8vd2lkZXZpbmUtZGFzaC5lemRybS5jb20vd2lkZXZpbmUtcGhwL3dpZGV2aW5lLWZvcmVpZ25rZXkucGhwP3BYPTkwRkMwNFwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29uZmlnO1xyXG4iLCJjb25zdCBmb3JtYXRUaW1lID0gKHRpbWUpID0+IHtcclxuICBpZiAoIXRpbWUpIHJldHVybiBcIjAwOjAwXCI7XHJcblxyXG4gIGxldCBob3VycyA9IE1hdGguZmxvb3IodGltZSAvIDM2MDApO1xyXG4gIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcigodGltZSAtIGhvdXJzICogMzYwMCkgLyA2MCk7XHJcbiAgbGV0IHNlY29uZHMgPSBNYXRoLmZsb29yKHRpbWUgJSA2MCk7XHJcblxyXG4gIC8vIGZvcm1hdCB0aGUgbWludXRlcyBhbmQgc2Vjb25kcyBzdHJpbmcgdG8gbG9vayBjb25zaXN0ZW50IGFjcm9zcyBhbGwgdmFsdWVzXHJcbiAgaWYgKCFob3Vycykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgbWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKSArXHJcbiAgICAgIFwiOlwiICtcclxuICAgICAgc2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICBob3Vycy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKSArXHJcbiAgICBcIjpcIiArXHJcbiAgICBtaW51dGVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpICtcclxuICAgIFwiOlwiICtcclxuICAgIHNlY29uZHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIilcclxuICApO1xyXG59O1xyXG4vLyBGaXJlIGN1c3RvbSBldmVudFxyXG5jb25zdCBmaXJlID0gKFxyXG4gIGVsLFxyXG4gIGV2ZW50TmFtZSxcclxuICBkZXRhaWwgPSBudWxsLFxyXG4gIGJ1YmJsZXMgPSB0cnVlLFxyXG4gIGNhbmNlbGFibGUgPSB0cnVlXHJcbikgPT4ge1xyXG4gIGxldCBldnQgPSBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCB7XHJcbiAgICBkZXRhaWwsXHJcbiAgICBidWJibGVzLFxyXG4gICAgY2FuY2VsYWJsZSxcclxuICB9KTtcclxuXHJcbiAgZWwuZGlzcGF0Y2hFdmVudChldnQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGZvcm1hdFRpbWUsXHJcbiAgZmlyZSxcclxufTtcclxuIiwiaW1wb3J0IFNlZWtCYXIgZnJvbSBcIi4vc2Vla2JhclwiO1xyXG5pbXBvcnQgVGltZXIgZnJvbSBcIi4vdGltZXJcIjtcclxuY2xhc3MgUmVjZWl2ZXJDb250cm9scyB7XHJcbiAgY29uc3RydWN0b3IoaWQsIHJlY2VpdmVyKSB7XHJcbiAgICB0aGlzLnNlZWtiYXIgPSBuZXcgU2Vla0JhcihcIi5zZWVrYmFyLXByb2dyZXNzXCIpO1xyXG4gICAgdGhpcy50aW1lciA9IG5ldyBUaW1lcihcIi50aW1lclwiKTtcclxuICAgIHRoaXMuY2FzdERlYnVnZ2VyID0gbnVsbDtcclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWQpO1xyXG4gICAgdGhpcy5vdmVybGF5ID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICB0aGlzLmluZm8gPSB0aGlzLm92ZXJsYXkuY2hpbGRyZW5bMF07XHJcbiAgICB0aGlzLnNob3cgPSB0cnVlO1xyXG4gICAgdGhpcy5sb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRlclwiKTtcclxuICAgIHRoaXMucGxheUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnZwLWljb24tcGxheVwiKTtcclxuICAgIHRoaXMucGF1c2VJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi52cC1pY29uLXBhdXNlXCIpO1xyXG4gICAgdGhpcy52aWRlb0luZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnZpZGVvLWluZm9cIik7XHJcbiAgICB0aGlzLnNwbGFzaFNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3BsYXNoLXNjcmVlblwiKTtcclxuICAgIHRoaXMudGh1bWJuYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aHVtYm5haWxcIik7XHJcbiAgICB0aGlzLnJlY2VpdmVyID0gcmVjZWl2ZXI7XHJcbiAgfVxyXG4gIHNldENhc3REZWJ1Z2dlcihjYXN0RGVidWdnZXIpIHtcclxuICAgIHRoaXMuY2FzdERlYnVnZ2VyID0gY2FzdERlYnVnZ2VyO1xyXG4gICAgdGhpcy5zZWVrYmFyLnNldENhc3REZWJ1Z2dlcih0aGlzLmNhc3REZWJ1Z2dlcik7XHJcbiAgfVxyXG4gIHBhdXNlKCkge1xyXG4gICAgdGhpcy5wYXVzZUljb24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgdGhpcy5wbGF5SWNvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMucGxheUljb24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfSwgMjAwMCk7XHJcbiAgfVxyXG4gIHBsYXkoKSB7XHJcbiAgICB0aGlzLnBsYXlJY29uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHRoaXMucGF1c2VJY29uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5wYXVzZUljb24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfSwgMjAwMCk7XHJcbiAgfVxyXG4gIHVwZGF0ZShzdGF0ZSkge1xyXG4gICAgdGhpcy5zZWVrYmFyLnNldFByb2dyZXNzKHN0YXRlLmN1cnJlbnRUaW1lLCBzdGF0ZS5kdXJhdGlvbik7XHJcbiAgICB0aGlzLnRpbWVyLnVwZGF0ZShzdGF0ZS5jdXJyZW50VGltZSwgc3RhdGUuZHVyYXRpb24pO1xyXG4gIH1cclxuICBoaWRlQ29udHJvbHModGltZSkge1xyXG4gICAgdGhpcy5zaG93ID0gZmFsc2U7XHJcbiAgICB0aGlzLnNob3dIaWRlKHRpbWUgfHwgNTAwMCk7XHJcbiAgfVxyXG4gIHNob3dDb250cm9scygpIHtcclxuICAgIHRoaXMuc2hvdyA9IHRydWU7XHJcbiAgICB0aGlzLnNob3dIaWRlKDEwKTtcclxuICB9XHJcbiAgcmVzZXRPdmVybGF5KHRpbWVvdXQpIHtcclxuICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlZWtiYXIucmVzZXQoKTtcclxuXHJcbiAgICAgIHRoaXMuaW5mby5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9O1xyXG4gICAgaWYgKCF0aW1lb3V0KSByZXR1cm4gc2V0VGltZW91dChyZXNldCwgMzAwMCk7XHJcbiAgICByZXR1cm4gcmVzZXQoKTtcclxuICB9XHJcbiAgc2hvd0hpZGUodGltaW5nKSB7XHJcbiAgICAvLyB0aGlzLmNhc3RkZWJ1Z2dlci5kZWJ1ZyhcInNob3dIaWRlXCIsIGAke3RpbWluZ30gJHt0aGlzLnNob3d9YCk7XHJcbiAgICBpZiAodGhpcy5zaG93KSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICB9LCB0aW1pbmcpO1xyXG4gICAgfVxyXG4gIH1cclxuICBpbml0T3ZlcmxheShtZXRhZGF0YSkge1xyXG4gICAgdGhpcy5zcGxhc2hTY3JlZW4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgdGhpcy5vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAobWV0YWRhdGEuaW1hZ2VzLmxlbmd0aCA+IDAgJiYgbWV0YWRhdGEpIHtcclxuICAgICAgICB0aGlzLnRodW1ibmFpbC5zcmMgPSBtZXRhZGF0YS5pbWFnZXNbMF0udXJsO1xyXG4gICAgICAgIHRoaXMudmlkZW9JbmZvLmNoaWxkcmVuWzBdLnRleHRDb250ZW50ID0gbWV0YWRhdGEudGl0bGU7XHJcbiAgICAgICAgdGhpcy52aWRlb0luZm8uY2hpbGRyZW5bMV0udGV4dENvbnRlbnQgPSBtZXRhZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNlZWtiYXIuYW5pbWF0ZVNlZWtiYXIoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmVjZWl2ZXJDb250cm9scztcclxuIiwiY2xhc3MgU2Vla0JhciB7XHJcbiAgY29uc3RydWN0b3IoaWQpIHtcclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWQpO1xyXG4gICAgdGhpcy5jYXN0ZGVidWdnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5zaG93ID0gZmFsc2U7XHJcbiAgICB0aGlzLnNwZWVkID0gMzA7XHJcbiAgICB0aGlzLmludGVydmFsID0gbnVsbDtcclxuICAgIHRoaXMuY2FuY2VsQW5pbWF0aW9uID0gZmFsc2U7XHJcbiAgICB0aGlzLmluaXRpYWxMZWZ0UG9zaXRpb24gPSB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdDtcclxuICB9XHJcbiAgc2V0Q2FzdERlYnVnZ2VyKGNhc3RkZWJ1Z2dlcikge1xyXG4gICAgdGhpcy5jYXN0ZGVidWdnZXIgPSBjYXN0ZGVidWdnZXI7XHJcbiAgfVxyXG4gIHNldFByb2dyZXNzKHRpbWUsIGR1cmF0aW9uKSB7XHJcbiAgICAvLyB0aGlzLmNhc3RkZWJ1Z2dlci5kZWJ1ZyhcImVsZVwiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmVsZW1lbnQpKTtcclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9ICh0aW1lIC8gZHVyYXRpb24pICogMTAwICsgXCIlXCI7XHJcbiAgICAvLyB0aGlzLmNhc3RkZWJ1Z2dlci5kZWJ1ZyhcIndpZHRoXCIsIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCk7XHJcbiAgfVxyXG5cclxuICBzaG93SGlkZSh0aW1pbmcpIHtcclxuICAgIHRoaXMuY2FzdGRlYnVnZ2VyLmRlYnVnKFwic2hvd0hpZGVcIiwgYCR7dGltaW5nfSAke3RoaXMuc2hvd31gKTtcclxuICAgIGlmICh0aGlzLnNob3cpIHtcclxuICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgfSwgdGltaW5nKTtcclxuICAgIH1cclxuICB9XHJcbiAgc2V0Q29sb3IoY29sb3IpIHtcclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcclxuICB9XHJcbiAgYW5pbWF0ZVNlZWtiYXIoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcblxyXG4gICAgbGV0IHRvdGFsd2lkdGggPSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgIGNvbnN0IGlubmVyRnVuY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGxlZnRQb3NpdGlvbiA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gICAgICAgIGxldCByaWdodFBvc2l0aW9uID1cclxuICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0O1xyXG4gICAgICAgIGxldCBsZWZ0UGFyZW50UG9zaXRpb24gPVxyXG4gICAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgICAgICBsZXQgcmlnaHRQYXJlbnRQb3NpdGlvbiA9XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodDtcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdGhpcy5lbGVtZW50LmNsaWVudFdpZHRoIDw9IHRvdGFsd2lkdGggLyA0ICYmXHJcbiAgICAgICAgICBsZWZ0UG9zaXRpb24gPD0gbGVmdFBhcmVudFBvc2l0aW9uXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsaWVudFdpZHRoICsgdGhpcy5zcGVlZFxyXG4gICAgICAgICAgfXB4YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKGxlZnRQb3NpdGlvbiArIHRoaXMuZWxlbWVudC5jbGllbnRXaWR0aCA8IHJpZ2h0UGFyZW50UG9zaXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQgPSBgJHtsZWZ0UG9zaXRpb24gKyB0aGlzLnNwZWVkfXB4YDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChsZWZ0UG9zaXRpb24gPCByaWdodFBhcmVudFBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQgPSBgJHtsZWZ0UG9zaXRpb24gKyB0aGlzLnNwZWVkfXB4YDtcclxuICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGllbnRXaWR0aCAtIHRoaXMuc3BlZWRcclxuICAgICAgICAgICAgICB9cHhgO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7bGVmdFBhcmVudFBvc2l0aW9ufXB4YDtcclxuICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBcIjBweFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNhbmNlbEFuaW1hdGlvbikge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGlubmVyRnVuY3Rpb24pO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvci50b1N0cmluZygpKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5uZXJGdW5jdGlvbik7XHJcbiAgfVxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5jYW5jZWxBbmltYXRpb24gPSB0cnVlO1xyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gXCIwJVwiO1xyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQgPSB0aGlzLmluaXRpYWxMZWZ0UG9zaXRpb247XHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWVrQmFyO1xyXG4iLCJpbXBvcnQgVXRpbHMgZnJvbSBcIi4uL2hlbHBlcnMvVXRpbHNcIjtcclxuXHJcbmNsYXNzIFRpbWVyIHtcclxuICBjb25zdHJ1Y3RvcihpZCkge1xyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpZCk7XHJcbiAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSBcIjAwOjAwIC8gMDA6MDBcIjtcclxuICB9XHJcbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkdXJhdGlvbikge1xyXG4gICAgdGhpcy5lbGVtZW50LnRleHRDb250ZW50ID0gYCR7VXRpbHMuZm9ybWF0VGltZShcclxuICAgICAgY3VycmVudFRpbWVcclxuICAgICl9IC8ke1V0aWxzLmZvcm1hdFRpbWUoZHVyYXRpb24pfWA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUaW1lcjtcclxuIiwiaW1wb3J0IEFkVUkgZnJvbSBcIi4vYWRVSVwiO1xyXG5jbGFzcyBWYXN0U2VydmljZSB7XHJcbiAgc3RhdGljIERFQlVHX1ZBU1RfU0VSVklDRSA9IFwiREVCVUdfVkFTVF9TRVJWSUNFXCI7XHJcbiAgY29uc3RydWN0b3IocmVjZWl2ZXIpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcclxuICAgIHRoaXMuYWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkQ29udGFpbmVyXCIpO1xyXG4gICAgdGhpcy5hZHNEaXNwbGF5Q29udGFpbmVyID0gbnVsbDtcclxuICAgIHRoaXMuYWRzTG9hZGVyID0gbnVsbDtcclxuICAgIHRoaXMuYWRzRGlzcGxheUluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmN1cnJlbnRBZHMgPSBudWxsO1xyXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5hdXRvcGxheUFsbG93ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuYXV0b3BsYXlSZXF1aXJlc011dGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmhhc0Vycm9ycyA9IGZhbHNlO1xyXG4gICAgdGhpcy5hZFVJID0gbnVsbDtcclxuICAgIHRoaXMuYWREdXJhdGlvbiA9IDA7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICBnb29nbGUuaW1hLnNldHRpbmdzLnNldFZwYWlkTW9kZShcclxuICAgICAgZ29vZ2xlLmltYS5JbWFTZGtTZXR0aW5ncy5WcGFpZE1vZGUuRU5BQkxFRFxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmFkc0Rpc3BsYXlDb250YWluZXIgPSBuZXcgZ29vZ2xlLmltYS5BZERpc3BsYXlDb250YWluZXIoXHJcbiAgICAgIHRoaXMuYWRDb250YWluZXIsXHJcbiAgICAgIHRoaXMucmVjZWl2ZXIudmlkZW9cclxuICAgICk7XHJcbiAgICB0aGlzLmFkc0xvYWRlciA9IG5ldyBnb29nbGUuaW1hLkFkc0xvYWRlcih0aGlzLmFkc0Rpc3BsYXlDb250YWluZXIpO1xyXG4gICAgdGhpcy5hZHNMb2FkZXIuZ2V0U2V0dGluZ3MoKS5zZXRQbGF5ZXJUeXBlKFwiY2FzdC9jbGllbnQtc2lkZVwiKTtcclxuICAgIHRoaXMuYWRzTG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRzTWFuYWdlckxvYWRlZEV2ZW50LlR5cGUuQURTX01BTkFHRVJfTE9BREVELFxyXG4gICAgICB0aGlzLm9uQWRzTWFuYWdlckxvYWRlZC5iaW5kKHRoaXMpLFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmFkc0xvYWRlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXJyb3JFdmVudC5UeXBlLkFEX0VSUk9SLFxyXG4gICAgICB0aGlzLm9uQWRFcnJvcixcclxuICAgICAgZmFsc2VcclxuICAgICk7XHJcbiAgICB0aGlzLmFkVUkgPSBuZXcgQWRVSSh0aGlzLnJlY2VpdmVyKTtcclxuICB9XHJcblxyXG4gIG9uQWxsQWRzQ29tcGxldGVkKGUpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiYWQgY29tcGxldGVkXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIG9uQWRDb21wbGV0ZWQoZSkge1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCJhZCBjb21wbGV0ZWRcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRVSS5kaXNhYmxlKCk7XHJcbiAgICBpZiAodGhpcy5hZHNNYW5hZ2VyKSB0aGlzLmFkc01hbmFnZXIuZGVzdHJveSgpO1xyXG4gICAgaWYgKCF0aGlzLmhhc0Vycm9ycyAmJiB0aGlzLnJlY2VpdmVyLmlzQWRQbGF5aW5nKSB0aGlzLnJlY2VpdmVyLm9uRW5kKCk7XHJcbiAgICAvLyB0aGlzLmFkc01hbmFnZXIuZGVzdHJveSgpO1xyXG4gICAgLy8gdGhpcy5yZWNlaXZlci5wbGF5ZXJNYW5hZ2VyLnNgZXRNZWRpYUVsZW1lbnQodGhpcy52aWRlbyk7XHJcbiAgfVxyXG4gIG9uQ29udGVudFBhdXNlUmVxdWVzdGVkKGUpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiQ29udGVudCBQYXVzZSBSZXF1ZXN0XCJcclxuICAgICk7XHJcbiAgfVxyXG4gIG9uQ29udGVudFJlc3VtZVJlcXVlc3RlZCgpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiQ29udGVudCBSZXN1bWUgUmVxdWVzdFwiXHJcbiAgICApO1xyXG4gIH1cclxuICBvbkFkTG9hZGVkKGUpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiQWQgbG9hZGVkXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIGxvYWRBZHModmFzdFVybCwgdmFzdFhtbCkge1xyXG4gICAgdGhpcy5jdXJyZW50QWRzID0ge307XHJcbiAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcImxvYWQgXCIgKyB2YXN0VXJsXHJcbiAgICApO1xyXG5cclxuICAgIGlmICh2YXN0VXJsKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEFkcy5jb250ZW50ID0gdmFzdFVybDtcclxuICAgICAgdGhpcy5jdXJyZW50QWRzLnR5cGUgPSBcInVybFwiO1xyXG4gICAgfSBlbHNlIGlmICh2YXN0WG1sKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEFkcy5jb250ZW50ID0gdmFzdFhtbDtcclxuICAgICAgdGhpcy5jdXJyZW50QWRzLnR5cGUgPSBcInhtbFwiO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jdXJyZW50QWRzLmN1cnJlbnRBZEluZGV4ID0gMDtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSk7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50QWRzLnR5cGUgPT09IFwidXJsXCIpIHRoaXMubG9hZCh0aGlzLmN1cnJlbnRBZHMuY29udGVudCk7XHJcbiAgICBlbHNlIHRoaXMubG9hZChudWxsLCB0aGlzLmN1cnJlbnRBZHMuY29udGVudCk7XHJcbiAgfVxyXG4gIGxvYWQodmFzdFVybCwgdmFzdFhtbCkge1xyXG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB0aGlzLmluaXQoKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiSW5pdGlhbGl6ZWRcIiArIHRoaXMudmFzdFVybFxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmFkc1JlcXVlc3QgPSBuZXcgZ29vZ2xlLmltYS5BZHNSZXF1ZXN0KCk7XHJcbiAgICBpZiAodmFzdFVybCkge1xyXG4gICAgICB0aGlzLmFkc1JlcXVlc3QuYWRUYWdVcmwgPSB2YXN0VXJsO1xyXG4gICAgfSBlbHNlIGlmICh2YXN0WG1sKSB7XHJcbiAgICAgIHRoaXMuYWRzUmVxdWVzdC5hZHNSZXNwb25zZSA9IHZhc3RYbWw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5hZHNSZXF1ZXN0LmxpbmVhckFkU2xvdFdpZHRoID0gdGhpcy5yZWNlaXZlci52aWRlby5jbGllbnRXaWR0aDtcclxuICAgIHRoaXMuYWRzUmVxdWVzdC5saW5lYXJBZFNsb3RIZWlnaHQgPSB0aGlzLnJlY2VpdmVyLnZpZGVvLmNsaWVudEhlaWdodDtcclxuICAgIHRoaXMuYWRzUmVxdWVzdC5ub25MaW5lYXJBZFNsb3RXaWR0aCA9IHRoaXMucmVjZWl2ZXIudmlkZW8uY2xpZW50V2lkdGg7XHJcbiAgICB0aGlzLmFkc1JlcXVlc3Qubm9uTGluZWFyQWRTbG90SGVpZ2h0ID1cclxuICAgICAgdGhpcy5yZWNlaXZlci52aWRlby5jbGllbnRIZWlnaHQgLyAzO1xyXG5cclxuICAgIHRoaXMuYWRzUmVxdWVzdC5zZXRBZFdpbGxBdXRvUGxheSh0aGlzLmF1dG9wbGF5QWxsb3dlZCk7XHJcbiAgICB0aGlzLmFkc1JlcXVlc3Quc2V0QWRXaWxsUGxheU11dGVkKHRoaXMuYXV0b3BsYXlSZXF1aXJlc011dGVkKTtcclxuXHJcbiAgICB0aGlzLmFkc1JlcXVlc3QudmFzdExvYWRUaW1lb3V0ID0gODAwMDtcclxuICAgIHRoaXMuYWRzTG9hZGVyLnJlcXVlc3RBZHModGhpcy5hZHNSZXF1ZXN0KTtcclxuICB9XHJcbiAgb25UaW1lVXBkYXRlKGV2ZW50KSB7XHJcbiAgICBjb25zdCBhZERhdGEgPSBldmVudC5nZXRBZERhdGEoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRBZCA9IHRoaXMuYWRzTWFuYWdlci5nZXRDdXJyZW50QWQoKTtcclxuICAgIGxldCBhZElkID0gY3VycmVudEFkPy5nZXRBZElkKCk/LnRvU3RyaW5nKCk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLnJlY2VpdmVyQ29udHJvbHMudXBkYXRlKHtcclxuICAgICAgY3VycmVudFRpbWU6IGFkRGF0YS5jdXJyZW50VGltZSxcclxuICAgICAgZHVyYXRpb246IGFkRGF0YS5kdXJhdGlvbixcclxuICAgICAgLy8gYWQ6IGFkSW5kZXhJbmZvLFxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBPTiBUSU1FIFVQREFURVwiXHJcbiAgICApO1xyXG4gIH1cclxuICBvbkFkU2tpcChlKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIk9OIEFEIFNraVwiXHJcbiAgICApO1xyXG4gIH1cclxuICBvbkFkU3RhcnRlZChlKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIk9OIEFEIFNUQVJURURcIlxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuaXNBZFBsYXlpbmcgPSB0cnVlO1xyXG4gICAgdGhpcy5hZFVJLmVuYWJsZSgpO1xyXG4gIH1cclxuICBvbkFkc01hbmFnZXJMb2FkZWQoYWRzTWFuYWdlckxvYWRlZEV2ZW50KSB7XHJcbiAgICBpZiAodGhpcy5hZHNNYW5hZ2VyKSB7XHJcbiAgICAgIHRoaXMuYWRzTWFuYWdlci5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBiZWZvcmUgZ2V0YWRzbWFuYWdlclwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgYWRzUmVuZGVyaW5nU2V0dGluZ3MgPSBuZXcgZ29vZ2xlLmltYS5BZHNSZW5kZXJpbmdTZXR0aW5ncygpO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyID0gYWRzTWFuYWdlckxvYWRlZEV2ZW50LmdldEFkc01hbmFnZXIoXHJcbiAgICAgIHRoaXMucmVjZWl2ZXIudmlkZW8sXHJcbiAgICAgIGFkc1JlbmRlcmluZ1NldHRpbmdzXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWZ0ZXIgZ2V0YWRzbWFuYWdlclwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRFcnJvckV2ZW50LlR5cGUuQURfRVJST1IsXHJcbiAgICAgIHRoaXMub25BZEVycm9yLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBhZnRlciBvbmFkZXJyb3JcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1BBVVNFX1JFUVVFU1RFRCxcclxuICAgICAgdGhpcy5vbkNvbnRlbnRQYXVzZVJlcXVlc3RlZC5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWZ0ZXIgb25Db250ZW50UGF1c2VSZXF1ZXN0ZWRcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1JFU1VNRV9SRVFVRVNURUQsXHJcbiAgICAgIHRoaXMub25Db250ZW50UmVzdW1lUmVxdWVzdGVkLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBhZnRlciBvbkFsbEFkc0NvbXBsZXRlZFwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFMTF9BRFNfQ09NUExFVEVELFxyXG4gICAgICB0aGlzLm9uQWxsQWRzQ29tcGxldGVkLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBhZnRlciBvbkFkTG9hZGVkXCJcclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuTE9BREVELFxyXG4gICAgICB0aGlzLm9uQWRMb2FkZWQuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGFmdGVyIG9uQWRTdGFydGVkXCJcclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuU1RBUlRFRCxcclxuICAgICAgdGhpcy5vbkFkU3RhcnRlZC5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWZ0ZXIgb25BZENvbXBsZXRlZFwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTVBMRVRFLFxyXG4gICAgICB0aGlzLm9uQWRDb21wbGV0ZWQuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGFmdGVyIG9uQ29udGVudFBhdXNlUmVxdWVzdGVkXCJcclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuU0tJUFBFRCxcclxuICAgICAgdGhpcy5vbkFkU2tpcC5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWZ0ZXIgb25BZFNraXBcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BRF9QUk9HUkVTUyxcclxuICAgICAgdGhpcy5vblRpbWVVcGRhdGUuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGFmdGVyIG9uVGltZVVwZGF0ZVwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFEX0JVRkZFUklORyxcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuU0tJUFBBQkxFX1NUQVRFX0NIQU5HRUQsXHJcbiAgICAgICgpID0+IHtcclxuICAgICAgICBVdGlscy5maXJlKHRoaXMuYWRDb250YWluZXIsIEV2ZW50cy5hZEV2ZW50cy5BRF9TS0lQUEFCTEUsIHtcclxuICAgICAgICAgIGN1cnJlbnRUaW1lOiB0aGlzLnBsYXllci52aWRlby5jdXJyZW50VGltZSxcclxuICAgICAgICAgIGFkUGxheUlkOiB0aGlzLmFkc01hbmFnZXIuZ2V0Q3VycmVudEFkKCk/LmdldEFkSWQoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGp1c3QgYmVmb3JlIHBsYXlpbmcgYWRcIlxyXG4gICAgKTtcclxuICAgIHRoaXMucGxheUFkcygpO1xyXG4gIH1cclxuICBwbGF5QWRzKCkge1xyXG4gICAgaWYgKCF0aGlzLmFkc0Rpc3BsYXlJbml0aWFsaXplZCkge1xyXG4gICAgICB0aGlzLmFkc0Rpc3BsYXlDb250YWluZXIuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICB0aGlzLmFkc0Rpc3BsYXlJbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMucmVjZWl2ZXIudmlkZW8uY2xpZW50V2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnJlY2VpdmVyLnZpZGVvLmNsaWVudEhlaWdodDtcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMucmVjZWl2ZXIuaXNBZFBsYXlpbmcgPSB0cnVlO1xyXG4gICAgICB0aGlzLmFkc01hbmFnZXIuaW5pdCh3aWR0aCwgaGVpZ2h0LCBnb29nbGUuaW1hLlZpZXdNb2RlLkZVTExTQ1JFRU4pO1xyXG4gICAgICB0aGlzLmFkc01hbmFnZXIuc3RhcnQoKTtcclxuICAgICAgdGhpcy5yZWNlaXZlci5yZWNlaXZlckNvbnRyb2xzLmxvYWRlci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9IGNhdGNoIChhZEVycm9yKSB7XHJcbiAgICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICAgIHRoaXMuVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICAgIFwiQWRzTWFuYWdlciBjb3VsZCBub3QgYmUgc3RhcnRlZFwiICsgYWRFcnJvci5nZXRNZXNzYWdlKClcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcbiAgb25BZEVycm9yKGUpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGFkIGVycm9yXCIgKyBlXHJcbiAgICApO1xyXG4gICAgdGhpcy5oYXNFcnJvcnMgPSB0cnVlO1xyXG4gICAgdGhpcy5yZWNlaXZlci5vbkVuZCgpLmJpbmQodGhpcy5yZWNlaXZlcik7XHJcbiAgfVxyXG4gIHJlc3VtZSgpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiUkVTVU1JTkcgQUQgRXZlbnRcIlxyXG4gICAgKTtcclxuICAgIGlmICghdGhpcy5hZHNNYW5hZ2VyKSByZXR1cm47XHJcbiAgICB0aGlzLmFkc01hbmFnZXIucmVzdW1lKCk7XHJcbiAgfVxyXG4gIHBhdXNlKCkge1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCJQQVVTRSBBRCBFdmVudFwiXHJcbiAgICApO1xyXG4gICAgaWYgKCF0aGlzLmFkc01hbmFnZXIpIHJldHVybjtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5wYXVzZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmFzdFNlcnZpY2U7XHJcbiIsImltcG9ydCBSZWNlaXZlciBmcm9tIFwiLi9tb2RlbHMvcmVjZWl2ZXJcIjtcclxuXHJcbi8vYSBib29sZWFuIHRlbGxpbmcgd2hldGhlciBITFMgaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyXHJcbnZwUmVjZWl2ZXIuSExTc3VwcG9ydGVkID0gZmFsc2U7XHJcblxyXG5mdW5jdGlvbiB2cFJlY2VpdmVyKGlkLCBjb25maWcpIHtcclxuICBsZXQgcmVjZWl2ZXIgPSBuZXcgUmVjZWl2ZXIoaWQsIGNvbmZpZyk7XHJcbiAgcmVjZWl2ZXIuaW5pdCgpO1xyXG4gIHZwUmVjZWl2ZXIucmVjZWl2ZXIgPSByZWNlaXZlcjtcclxuICByZXR1cm4gcmVjZWl2ZXI7XHJcbn1cclxuXHJcbndpbmRvdy52cFJlY2VpdmVyID0gdnBSZWNlaXZlcjtcclxuIiwiaW1wb3J0IGRlZmF1bENvbmZpZyBmcm9tIFwiLi4vY29uZmlnL2RlZmF1bHRDb25maWdcIjtcclxuaW1wb3J0IGhsc2NvbmZpZyBmcm9tIFwiLi4vY29uZmlnL2hsc0NvbmZpZ1wiO1xyXG5pbXBvcnQgUmVjZWl2ZXJDb250cm9scyBmcm9tIFwiLi9yZWNlaXZlci1jb250cm9sc1wiO1xyXG5pbXBvcnQgVmFzdFNlcnZpY2UgZnJvbSBcIi4vdmFzdFNlcnZpY2VcIjtcclxuY2xhc3MgUmVjZWl2ZXIge1xyXG4gIGNvbnN0cnVjdG9yKGlkLCBjb25maWcpIHtcclxuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XHJcbiAgICB0aGlzLnBsYXllck1hbmFnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5hcHBJZCA9IGNvbmZpZy5hcHBJZDtcclxuICAgIHRoaXMudmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlkKTtcclxuICAgIHRoaXMucGxheWJhY2tDb25maWcgPSBudWxsO1xyXG4gICAgdGhpcy5jb250cm9scyA9IG51bGw7XHJcbiAgICB0aGlzLmhscyA9IG51bGw7XHJcbiAgICB0aGlzLnZpZGVvT2JqZWN0ID0ge307XHJcbiAgICB0aGlzLnZpZGVvQ29udGFpbmVyID0gdGhpcy52aWRlby5wYXJlbnRFbGVtZW50O1xyXG4gICAgdGhpcy5wbGF5YmFja1JhdGUgPSAxO1xyXG4gICAgdGhpcy5hdXRvcGxheSA9IGZhbHNlO1xyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzID0gbmV3IFJlY2VpdmVyQ29udHJvbHMoXCIuY29udHJvbHNcIiwgdGhpcyk7XHJcbiAgICB0aGlzLm1lZGlhTWFuYWdlciA9IG51bGw7XHJcbiAgICB0aGlzLmNhc3RSZWNlaXZlck1hbmFnZXIgPSBudWxsO1xyXG4gICAgdGhpcy52aWRlb1N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMudmFzdFNlcnZpY2UgPSBuZXcgVmFzdFNlcnZpY2UodGhpcyk7XHJcbiAgICB0aGlzLmNvbmZpZyA9IHt9O1xyXG4gICAgdGhpcy5hZEJyZWFrcyA9IFtdO1xyXG4gICAgdGhpcy5kZWJ1Z1RhZ3MgPSB7XHJcbiAgICAgIExPQURfUkVRVUVTVDogXCJMT0FEX1JFUVVFU1RcIixcclxuICAgICAgQVRUQUNIX01FRElBOiBcIkFUVEFDSF9NRURJQVwiLFxyXG4gICAgICBPTlBMQVk6IFwiT05fUExBWVwiLFxyXG4gICAgICBTVEFSVDogXCJTVEFSVFwiLFxyXG4gICAgICBJTklUOiBcIklOSVRcIixcclxuICAgICAgRVZFTlRTOiBcIkVWRU5UU1wiLFxyXG4gICAgICBPTkVORDogXCJPTkVORFwiLFxyXG4gICAgICBCUk9BRENBU1Q6IFwiQlJPQURDQVNUXCIsXHJcbiAgICAgIE9OVElNRVVQREFURUU6IFwiT05USU1FVVBEQVRFXCIsXHJcbiAgICB9O1xyXG4gICAgdGhpcy5jb25maWcgPSB7IC4uLmRlZmF1bENvbmZpZywgLi4uY29uZmlnIH07XHJcbiAgICB0aGlzLmlzQWRQbGF5aW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLk5BTUVTUEFDRSA9IFwidXJuOngtY2FzdDp0ZWNoLmdqaXJhZmEudnAtc2VydmljZVwiO1xyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzID0gbmV3IFJlY2VpdmVyQ29udHJvbHMoXCIuY29udHJvbHNcIiwgdGhpcyk7XHJcbiAgfVxyXG4gIHN0YXJ0KCkge1xyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLnJlc2V0T3ZlcmxheSgpO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcodGhpcy5kZWJ1Z1RhZ3MuU1RBUlQsIFwiU3RhcnRpbmcgdmlkZW8uLi5cIik7XHJcbiAgICB0aGlzLmJyb2FkY2FzdCh0aGlzLmRlYnVnVGFncy5TVEFSVCArIFwiU3RhcnRpbmcgdmlkZW8uLi5cIik7XHJcbiAgICB0aGlzLm9uUGxheSgpO1xyXG4gIH1cclxuXHJcbiAgb25QbGF5KGRhdGEpIHtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwib24gcGxheVwiLCB0aGlzLnZpZGVvLmdldEF0dHJpYnV0ZShcInNyY1wiKSk7XHJcbiAgICB0aGlzLmJyb2FkY2FzdChcIm9uIHBsYXlcIiArIHRoaXMudmlkZW8uZ2V0QXR0cmlidXRlKFwic3JjXCIpKTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiaXNhZHBsYXlpbmdcIiwgdGhpcy5pc0FkUGxheWluZyk7XHJcbiAgICBpZiAoIXRoaXMuaXNBZFBsYXlpbmcpIHtcclxuICAgICAgdGhpcy52aWRlb1xyXG4gICAgICAgIC5wbGF5KClcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIXRoaXMudmlkZW9TdGFydGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy5zaG93Q29udHJvbHMoKTtcclxuICAgICAgICAgICAgdGhpcy52aWRlb1N0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLnBsYXkoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLm9uUGF1c2UoKTtcclxuICAgICAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICAgICAgICB0aGlzLmRlYnVnVGFncy5PTlBMQVksXHJcbiAgICAgICAgICAgIFwiIENvdWxkbid0IHBsYXkgdmlkZW8uVHJpbmcgb25lIG1vcmUgdGltZSBcIiArIGVcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICB0aGlzLmJyb2FkY2FzdChcclxuICAgICAgICAgICAgXCIgQ291bGRuJ3QgcGxheSB2aWRlby5UcmluZyBvbmUgbW9yZSB0aW1lIFwiICsgZS50b1N0cmluZygpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHRoaXMudmFzdFNlcnZpY2UucmVzdW1lKCk7XHJcbiAgfVxyXG4gIG9uUGF1c2UoZGF0YSkge1xyXG4gICAgaWYgKCF0aGlzLmlzQWRQbGF5aW5nKSB0aGlzLnZpZGVvLnBhdXNlKCk7XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy52YXN0U2VydmljZS5wYXVzZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLnBhdXNlKCk7XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuc2hvd0NvbnRyb2xzKCk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcbiAgYWRkUGxheWVyRXZlbnRzKCkge1xyXG4gICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLCB0aGlzLm9uVGltZVVwZGF0ZSk7XHJcbiAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCB0aGlzLm9uRW5kLmJpbmQodGhpcykpO1xyXG4gIH1cclxuICBicm9hZGNhc3QobWVzc2FnZSkge1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcodGhpcy5kZWJ1Z1RhZ3MuQlJPQURDQVNULCBtZXNzYWdlKTtcclxuICAgIGlmICh0aGlzLmNvbnRleHQpXHJcbiAgICAgIHRoaXMuY29udGV4dC5zZW5kQ3VzdG9tTWVzc2FnZSh0aGlzLk5BTUVTUEFDRSwgdW5kZWZpbmVkLCBtZXNzYWdlKTtcclxuICB9XHJcbiAgb25FbmQoKSB7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcIm9uIEVuZFwiLCB0aGlzLmNvbmZpZy5yZXBsYXkpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHRoaXMuaXNBZFBsYXlpbmcpIHtcclxuICAgICAgICB0aGlzLmJyb2FkY2FzdCh7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIkFkIGZpbmlzaGVkXCIsXHJcbiAgICAgICAgICBjb2RlOiAyLFxyXG4gICAgICAgICAgdGltZTogdGhpcy5jdXJyZW50VGltZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5obHMpIHtcclxuICAgICAgICAgIHRoaXMuaGxzLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pc0FkUGxheWluZyA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYnJvYWRjYXN0KHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiVmlkZW8gZmluaXNoZWRcIixcclxuICAgICAgICAgIGNvZGU6IDMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmVycm9yKFxyXG4gICAgICAgIHRoaXMuZGVidWdUYWdzLk9ORU5ELFxyXG4gICAgICAgIFwiIEVycm9yXCIgKyBlcnJvci50b1N0cmluZygpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbiAgb25UaW1lVXBkYXRlKCkge1xyXG4gICAgaWYgKHRoaXMuaXNBZFBsYXlpbmcpIHJldHVybjtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB0aGlzLmFkQnJlYWtzXHJcbiAgICAgICAgICAubWFwKChhZCkgPT4gYWQuYnJlYWtUaW1pbmdWYWx1ZSlcclxuICAgICAgICAgIC5pbmNsdWRlcyhNYXRoLmZsb29yKHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSAmJlxyXG4gICAgICAgICF0aGlzLmlzQWRQbGF5aW5nXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuYnJvYWRjYXN0KHRoaXMuYWRCcmVha3MpO1xyXG4gICAgICAgIHRoaXMub25QYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKHRoaXMudmlkZW8uY3VycmVudFRpbWUpO1xyXG4gICAgICAgIHRoaXMuaXNBZFBsYXlpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudmFzdFNlcnZpY2UubG9hZEFkcyh0aGlzLmFkQnJlYWtzWzBdLmFkVGFnVXJsWzBdKTtcclxuICAgICAgICBpZiAodGhpcy5obHMpIHtcclxuICAgICAgICAgIHRoaXMuaGxzLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZEJyZWFrcy5zaGlmdCgpO1xyXG4gICAgICAgIC8vIHRoaXMuaGxzLmRlc3Ryb3koKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmVycm9yKHRoaXMuZGVidWdUYWdzLk9OVElNRVVQREFURSwgZXJyb3IudG9TdHJpbmcoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLnVwZGF0ZSh0aGlzLnVwZGF0ZVBsYXllclN0YXRlKCkpO1xyXG4gIH1cclxuICB1cGRhdGVQbGF5ZXJTdGF0ZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGN1cnJlbnRUaW1lOiB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLFxyXG4gICAgICBkdXJhdGlvbjogdGhpcy52aWRlb09iamVjdC5kdXJhdGlvbiB8fCB0aGlzLnZpZGVvLmR1cmF0aW9uLFxyXG4gICAgfTtcclxuICB9XHJcbiAgYXR0YWNoTWVkaWEoKSB7XHJcbiAgICB2cFJlY2VpdmVyLkhMU3N1cHBvcnRlZCA9IEhscy5pc1N1cHBvcnRlZCgpO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJpbnNpZGUgYXR0YWNoIG1lZGlhXCIsIHZwUmVjZWl2ZXIuSExTc3VwcG9ydGVkKTtcclxuXHJcbiAgICB0aGlzLnZpZGVvLnBsYXliYWNrUmF0ZSA9IDE7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgXCJ2aWRlbyBmaWxlXCIsXHJcbiAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMudmlkZW8sIFtcImlkXCIsIFwiY2xhc3NOYW1lXCIsIFwidGFnTmFtZVwiXSlcclxuICAgICk7XHJcbiAgICB0aGlzLmJyb2FkY2FzdCh7XHJcbiAgICAgIG1lc3NhZ2U6XHJcbiAgICAgICAgXCJ2aWRlbyBmaWxlXCIgK1xyXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMudmlkZW8sIFtcImlkXCIsIFwiY2xhc3NOYW1lXCIsIFwidGFnTmFtZVwiXSksXHJcbiAgICB9KTtcclxuICAgIGlmICh0aGlzLnZpZGVvT2JqZWN0LmZpbGUuZW5kc1dpdGgoXCJtcDRcIikpIHtcclxuICAgICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJpbnNpZGUgbXA0XCIsIHRoaXMudmlkZW9PYmplY3QuZmlsZSk7XHJcbiAgICAgIHRoaXMudmlkZW8uc3JjID0gdGhpcy52aWRlb09iamVjdC5maWxlO1xyXG4gICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9IGVsc2UgaWYgKHZwUmVjZWl2ZXIuSExTc3VwcG9ydGVkKSB7XHJcbiAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiaW5zaWRlIGhsc3N1cHBvcnRlZFwiLCB0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRoaXMuaGxzID0gbmV3IEhscyhobHNjb25maWcpO1xyXG4gICAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiaGxzIGluaXRpYWxpemVkXCIsIHRoaXMudmlkZW9PYmplY3QuZmlsZSk7XHJcbiAgICAgICAgdGhpcy5icm9hZGNhc3Qoe1xyXG4gICAgICAgICAgbWVzc2FnZTogXCJobHMgaW5pdGlhbGl6ZWQgXCIgKyB0aGlzLnZpZGVvT2JqZWN0LmZpbGUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJhdHRhY2hNZWRpYSBcIiArIHRoaXMuY3VycmVudFRpbWUpO1xyXG5cclxuICAgICAgICB0aGlzLmhscy5vbihIbHMuRXZlbnRzLk1FRElBX0FUVEFDSEVELCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImFtZWRpYSBhdHRhY2hlZFwiLCB0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG4gICAgICAgICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgICAgICAgIFwibG9hZGluZyBzb3VyY2UgaGxzc3VwcG9ydGVkXCIsXHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9PYmplY3QuZmlsZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRUaW1lID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gdGhpcy5jdXJyZW50VGltZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuaGxzLmxvYWRTb3VyY2UodGhpcy52aWRlb09iamVjdC5maWxlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmhscy5vbihIbHMuRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgKGV2ZW50LCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcIm1hbmlmZXN0IHBhcnNlZFwiLCB0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudFRpbWUgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSB0aGlzLmN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuRVJST1IsIChldmVudCwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJITFMgIEVSUk9SXCIsIGRhdGEuZGV0YWlscyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5obHMuYXR0YWNoTWVkaWEodGhpcy52aWRlbyk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxyXG4gICAgfVxyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJmaW5pc2hlZCBhdHRhY2ggbWVkaWFcIik7XHJcbiAgfVxyXG4gIGZha2Vpbml0KCkge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIgPSB7XHJcbiAgICAgIGRlYnVnOiBmdW5jdGlvbiAodHlwZSwgbWVzc2FnZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgaWYgKG1lc3NhZ2UuY29kZSA9PSAyKSB7XHJcbiAgICAgICAgICAgIHNlbGYudmlkZW8uY3VycmVudFRpbWUgPSBtZXNzYWdlLnRpbWU7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIHNlbGYuYXR0YWNoTWVkaWEoKTtcclxuICAgICAgICAgICAgfSwgNzAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2codHlwZSwgbWVzc2FnZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGVycm9yOiBmdW5jdGlvbiAodHlwZSwgbWVzc2FnZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHR5cGUsIG1lc3NhZ2UpO1xyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy5zZXRDYXN0RGVidWdnZXIodGhpcy5jYXN0RGVidWdMb2dnZXIpO1xyXG4gICAgdGhpcy52aWRlb09iamVjdC5maWxlID1cclxuICAgICAgXCJodHRwczovL3ZwLmdqaXJhZmEubmV0L3Zwcy9wcm9kL29kZ2VodHlvL2VuY29kZS92anNteWpocy9obHMvbWFzdGVyX2ZpbGUubTN1OFwiO1xyXG4gICAgdGhpcy52aWRlb09iamVjdC5kdXJhdGlvbiA9IDExOTtcclxuICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy5zZWVrYmFyLmFuaW1hdGVTZWVrYmFyKCk7XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuaW5pdE92ZXJsYXkoe1xyXG4gICAgICB0aXRsZTogXCJTb21lIHRpdGxlXCIsXHJcbiAgICAgIGltYWdlczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHVybDogXCJodHRwczovL2xpa2kuZ2ppcmFmYS5jb20vYXBpL21lZGlhL2dqdmlkZW8veXF6MGdxL3JldGluYS5qcGdcIixcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgfSk7XHJcbiAgICB0aGlzLmFkQnJlYWtzID0ge1xyXG4gICAgICBhZEN1ZVBvaW50czogWzEwXSxcclxuICAgICAgdmFzdHM6IFtcclxuICAgICAgICBbXCJodHRwczovL3ZwLWRldi5namlyYWZhLm5ldC92cHMvY29udGVudC92YXN0L3ByZXJvbGwtMi54bWxcIiwgbnVsbF0sXHJcbiAgICAgIF0sXHJcbiAgICB9O1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLmF0dGFjaE1lZGlhKCk7XHJcbiAgICB9LCA1MDAwKTtcclxuXHJcbiAgICB0aGlzLmJpbmRNZXRob2RzKCk7XHJcbiAgICB0aGlzLmFkZFBsYXllckV2ZW50cygpO1xyXG4gIH1cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5jb250ZXh0ID0gY2FzdC5mcmFtZXdvcmsuQ2FzdFJlY2VpdmVyQ29udGV4dC5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgIHRoaXMuY29udGV4dC5zZXRMb2dnZXJMZXZlbChjYXN0LmZyYW1ld29yay5Mb2dnZXJMZXZlbC5ERUJVRyk7XHJcblxyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIgPSBjYXN0LmRlYnVnLkNhc3REZWJ1Z0xvZ2dlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuc2V0RW5hYmxlZCh0cnVlKTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKHRoaXMuZGVidWdUYWdzLklOSVQsIFwiY2FzdGRlYnVnZ2VyIGluaXRpYWxpemVkXCIpO1xyXG4gICAgdGhpcy5wbGF5ZXJNYW5hZ2VyID0gdGhpcy5jb250ZXh0LmdldFBsYXllck1hbmFnZXIoKTtcclxuICAgIHRoaXMucGxheWVyTWFuYWdlci5zZXRNZWRpYUVsZW1lbnQodGhpcy52aWRlbyk7XHJcblxyXG4gICAgdGhpcy5wbGF5ZXJNYW5hZ2VyLnNldFN1cHBvcnRlZE1lZGlhQ29tbWFuZHMoXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkNvbW1hbmQuU0VFSyB8XHJcbiAgICAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuQ29tbWFuZC5QQVVTRSB8XHJcbiAgICAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuQ29tbWFuZC5QTEFZXHJcbiAgICApO1xyXG5cclxuICAgIC8vIGJyb3dzZSBjb250ZW50IGFyZWFcclxuICAgIGNvbnN0IGNvbnRyb2xzID0gY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHMuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICBjb25zdCBpdGVtMSA9IG5ldyBjYXN0LmZyYW1ld29yay51aS5Ccm93c2VJdGVtKCk7XHJcbiAgICBpdGVtMS50aXRsZSA9IFwiVGl0bGUgMVwiO1xyXG4gICAgaXRlbTEuc3VidGl0bGUgPSBcIlN1YnRpdGxlIDFcIjtcclxuICAgIGl0ZW0xLmR1cmF0aW9uID0gMzAwO1xyXG4gICAgaXRlbTEuaW1hZ2VUeXBlID0gY2FzdC5mcmFtZXdvcmsudWkuQnJvd3NlSW1hZ2VUeXBlLk1VU0lDX1RSQUNLO1xyXG4gICAgaXRlbTEuaW1hZ2UgPSBuZXcgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuSW1hZ2UoXCIxLmpwZ1wiKTtcclxuICAgIGl0ZW0xLmVudGl0eSA9IFwiZXhhbXBsZTovL2dpem1vcy8xXCI7XHJcblxyXG4gICAgY29uc3QgaXRlbTIgPSBuZXcgY2FzdC5mcmFtZXdvcmsudWkuQnJvd3NlSXRlbSgpO1xyXG4gICAgaXRlbTIudGl0bGUgPSBcIlRpdGxlIDJcIjtcclxuICAgIGl0ZW0yLnN1YnRpdGxlID0gXCJTdWJ0aXRsZSAyXCI7XHJcbiAgICBpdGVtMi5kdXJhdGlvbiA9IDEwMDtcclxuICAgIGl0ZW0yLmltYWdlVHlwZSA9IGNhc3QuZnJhbWV3b3JrLnVpLkJyb3dzZUltYWdlVHlwZS5NVVNJQ19UUkFDSztcclxuICAgIGl0ZW0yLmltYWdlID0gbmV3IGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkltYWdlKFwiMi5qcGdcIik7XHJcbiAgICBpdGVtMi5lbnRpdHkgPSBcImV4YW1wbGU6Ly9naXptb3MvMlwiO1xyXG5cclxuICAgIGNvbnN0IGl0ZW1zID0gW2l0ZW0xLCBpdGVtMl07XHJcblxyXG4gICAgY29uc3QgYnJvd3NlQ29udGVudCA9IG5ldyBjYXN0LmZyYW1ld29yay51aS5Ccm93c2VDb250ZW50KCk7XHJcbiAgICBicm93c2VDb250ZW50LnRpdGxlID0gXCJVcCBOZXh0XCI7XHJcbiAgICBicm93c2VDb250ZW50Lml0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuc2V0Q2FzdERlYnVnZ2VyKHRoaXMuY2FzdERlYnVnTG9nZ2VyKTtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSBuZXcgY2FzdC5mcmFtZXdvcmsuQ2FzdFJlY2VpdmVyT3B0aW9ucygpO1xyXG4gICAgLy8gTWFwIG9mIG5hbWVzcGFjZSBuYW1lcyB0byB0aGVpciB0eXBlcy5cclxuICAgIG9wdGlvbnMuY3VzdG9tTmFtZXNwYWNlcyA9IHt9O1xyXG4gICAgb3B0aW9ucy5jdXN0b21OYW1lc3BhY2VzW3RoaXMuTkFNRVNQQUNFXSA9XHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnN5c3RlbS5NZXNzYWdlVHlwZS5KU09OO1xyXG4gICAgdGhpcy5jb250ZXh0LnN0YXJ0KG9wdGlvbnMpO1xyXG4gICAgdGhpcy5iaW5kTWV0aG9kcygpO1xyXG4gICAgdGhpcy5iaW5kSW50ZXJjZXB0b3JzKCk7XHJcbiAgICB0aGlzLmFkZFBsYXllckV2ZW50cygpO1xyXG4gIH1cclxuICBvblNlZWsocmVxdWVzdERhdGEpIHtcclxuICAgIHRoaXMuYnJvYWRjYXN0KHJlcXVlc3REYXRhLnRvU3RyaW5nKCkpO1xyXG4gICAgdGhpcy52aWRlby5jdXJyZW50VGltZSA9IHJlcXVlc3REYXRhLmN1cnJlbnRUaW1lO1xyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLnNob3dDb250cm9scygpO1xyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLmhpZGVDb250cm9scyg2MDAwKTtcclxuXHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMudXBkYXRlKHRoaXMudXBkYXRlUGxheWVyU3RhdGUoKSk7XHJcbiAgfVxyXG4gIGRyYXdCdXR0b25zKCkge1xyXG4gICAgdGhpcy5jb250cm9scy5hc3NpZ25CdXR0b24oXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnVpLkNvbnRyb2xzU2xvdC5TTE9UX1NFQ09OREFSWV8xLFxyXG4gICAgICBjYXN0LmZyYW1ld29yay51aS5Db250cm9sc0J1dHRvbi5RVUVVRV9QUkVWXHJcbiAgICApO1xyXG4gICAgdGhpcy5jb250cm9scy5hc3NpZ25CdXR0b24oXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnVpLkNvbnRyb2xzU2xvdC5TTE9UX1BSSU1BUllfMSxcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNCdXR0b24uQ0FQVElPTlNcclxuICAgICk7XHJcbiAgICB0aGlzLmNvbnRyb2xzLmFzc2lnbkJ1dHRvbihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNTbG90LlNMT1RfUFJJTUFSWV8yLFxyXG4gICAgICBjYXN0LmZyYW1ld29yay51aS5Db250cm9sc0J1dHRvbi5TRUVLX0ZPUldBUkRfMTVcclxuICAgICk7XHJcbiAgICB0aGlzLmNvbnRyb2xzLmFzc2lnbkJ1dHRvbihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNTbG90LlNMT1RfU0VDT05EQVJZXzIsXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnVpLkNvbnRyb2xzQnV0dG9uLlFVRVVFX05FWFRcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBiaW5kSW50ZXJjZXB0b3JzKCkge1xyXG4gICAgdGhpcy5jb250ZXh0LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnN5c3RlbS5FdmVudFR5cGUuU0VOREVSX0RJU0NPTk5FQ1RFRCxcclxuICAgICAgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgd2luZG93LmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICB0aGlzLmNvbnRleHQuYWRkQ3VzdG9tTWVzc2FnZUxpc3RlbmVyKHRoaXMuTkFNRVNQQUNFLCAoZXZlbnQpID0+IHtcclxuICAgICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgICAgdGhpcy5kZWJ1Z1RhZ3MuRVZFTlRTLFxyXG4gICAgICAgIFwiYWRkQ3VzdG9tTWVzc2FnZUxpc3RlbmVyXCIgKyBldmVudC5kYXRhXHJcbiAgICAgICk7XHJcbiAgICAgIGxldCBtZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgaWYgKG1lc3NhZ2UuY29kZSA9PSAyKSB7XHJcbiAgICAgICAgdGhpcy5hdHRhY2hNZWRpYSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMucGxheWVyTWFuYWdlci5zZXRNZXNzYWdlSW50ZXJjZXB0b3IoXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLk1lc3NhZ2VUeXBlLkxPQUQsXHJcbiAgICAgIHRoaXMub25Mb2FkUmVxdWVzdC5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5wbGF5ZXJNYW5hZ2VyLnNldE1lc3NhZ2VJbnRlcmNlcHRvcihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuTWVzc2FnZVR5cGUuUExBWSxcclxuICAgICAgdGhpcy5vblBsYXkuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucGxheWVyTWFuYWdlci5zZXRNZXNzYWdlSW50ZXJjZXB0b3IoXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLk1lc3NhZ2VUeXBlLlBBVVNFLFxyXG4gICAgICB0aGlzLm9uUGF1c2UuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucGxheWVyTWFuYWdlci5zZXRNZXNzYWdlSW50ZXJjZXB0b3IoXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLk1lc3NhZ2VUeXBlLlNFRUssXHJcbiAgICAgIHRoaXMub25TZWVrLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgfVxyXG4gIGJpbmRNZXRob2RzKCkge1xyXG4gICAgdGhpcy5iaW5kSW50ZXJjZXB0b3JzID0gdGhpcy5iaW5kSW50ZXJjZXB0b3JzLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLm9uTG9hZFJlcXVlc3QgPSB0aGlzLm9uTG9hZFJlcXVlc3QuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuYXR0YWNoTWVkaWEgPSB0aGlzLmF0dGFjaE1lZGlhLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnN0YXJ0ID0gdGhpcy5zdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5hZGRQbGF5ZXJFdmVudHMgPSB0aGlzLmFkZFBsYXllckV2ZW50cy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vblRpbWVVcGRhdGUgPSB0aGlzLm9uVGltZVVwZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vblBsYXkgPSB0aGlzLm9uUGxheS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vblBhdXNlID0gdGhpcy5vblBhdXNlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnVwZGF0ZVBsYXllclN0YXRlID0gdGhpcy51cGRhdGVQbGF5ZXJTdGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vbkVuZCA9IHRoaXMub25FbmQuYmluZCh0aGlzKTtcclxuICB9XHJcbiAgaW5pdFN0YXRlKCkge1xyXG4gICAgdGhpcy5obHMgPSBudWxsO1xyXG4gICAgdGhpcy5jdXJyZW50VGltZSA9IDA7XHJcbiAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gMDtcclxuICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy5yZXNldE92ZXJsYXkodHJ1ZSk7XHJcbiAgfVxyXG4gIG9uTG9hZFJlcXVlc3QobG9hZFJlcXVlc3REYXRhKSB7XHJcbiAgICBpZiAodGhpcy5obHMpIHtcclxuICAgICAgdGhpcy5obHMuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLnZhc3RTZXJ2aWNlLmFkVUkuZGlzYWJsZSgpO1xyXG4gICAgICB0aGlzLmluaXRTdGF0ZSgpLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuaW5pdE92ZXJsYXkobG9hZFJlcXVlc3REYXRhLm1lZGlhLm1ldGFkYXRhKTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiVlByZWNlaXZlclwiLCBsb2FkUmVxdWVzdERhdGEubWVkaWEuY29udGVudElkKTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiVlByZWNlaXZlcjFcIiwgSGxzLmlzU3VwcG9ydGVkKCkpO1xyXG4gICAgdGhpcy52aWRlb09iamVjdC5maWxlID0gbG9hZFJlcXVlc3REYXRhLm1lZGlhLmNvbnRlbnRJZDtcclxuICAgIHRoaXMudmlkZW9PYmplY3QuZHVyYXRpb24gPSBsb2FkUmVxdWVzdERhdGEubWVkaWEubWV0YWRhdGEuZHVyYXRpb247XHJcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gbG9hZFJlcXVlc3REYXRhLmN1cnJlbnRUaW1lO1xyXG4gICAgdGhpcy5wbGF5YmFja1JhdGUgPSBsb2FkUmVxdWVzdERhdGEucGxheWJhY2tSYXRlO1xyXG4gICAgdGhpcy5hdXRvcGxheSA9IGxvYWRSZXF1ZXN0RGF0YS5hdXRvcGxheTtcclxuICAgIGlmIChsb2FkUmVxdWVzdERhdGEucmVxdWlyZUFkcylcclxuICAgICAgdGhpcy5hZEJyZWFrcyA9IGxvYWRSZXF1ZXN0RGF0YS5jdXN0b21EYXRhLmFkQnJlYWtzO1xyXG4gICAgLy8gdHJ5IHtcclxuICAgIHRoaXMuY29uZmlnLnJlcGxheSA9XHJcbiAgICAgIHR5cGVvZiBsb2FkUmVxdWVzdERhdGEucmVwbGF5ICE9PSBcInVuZGVmaW5lZFwiXHJcbiAgICAgICAgPyBsb2FkUmVxdWVzdERhdGEucmVwbGF5XHJcbiAgICAgICAgOiB0cnVlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5hdHRhY2hNZWRpYSgpO1xyXG4gICAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMudXBkYXRlKHRoaXMudXBkYXRlUGxheWVyU3RhdGUoKSk7XHJcbiAgICAgIHRoaXMuYnJvYWRjYXN0KHtcclxuICAgICAgICBtZXNzYWdlOiBcImF0dGFjaGluZyBtZWRpYVwiLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRoaXMuYnJvYWRjYXN0KHtcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci50b1N0cmluZygpLFxyXG4gICAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbiAgYWRkQnJlYWtzKG1lZGlhSW5mb3JtYXRpb24pIHtcclxuICAgIGNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgTE9HX1JFQ0VJVkVSX1RBRyxcclxuICAgICAgXCJhZGRCcmVha3M6IFwiICsgSlNPTi5zdHJpbmdpZnkobWVkaWFJbmZvcm1hdGlvbilcclxuICAgICk7XHJcbiAgICByZXR1cm4gZmV0Y2hNZWRpYUJ5SWQoXCJmYmJfYWRcIikudGhlbigoY2xpcDEpID0+IHtcclxuICAgICAgbWVkaWFJbmZvcm1hdGlvbi5icmVha0NsaXBzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiBcImZiYl9hZFwiLFxyXG4gICAgICAgICAgdGl0bGU6IGNsaXAxLnRpdGxlLFxyXG4gICAgICAgICAgY29udGVudFVybDogY2xpcDEuc3RyZWFtLmRhc2gsXHJcbiAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiLFxyXG4gICAgICAgICAgd2hlblNraXBwYWJsZTogNSxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgbWVkaWFJbmZvcm1hdGlvbi5icmVha3MgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IFwicHJlLXJvbGxcIixcclxuICAgICAgICAgIGJyZWFrQ2xpcElkczogW1wiZmJiX2FkXCJdLFxyXG4gICAgICAgICAgcG9zaXRpb246IDAsXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBmZXRjaE1lZGlhQnlJZChpZCkge1xyXG4gICAgY2FzdERlYnVnTG9nZ2VyLmRlYnVnKExPR19SRUNFSVZFUl9UQUcsIFwiZmV0Y2hpbmcgaWQ6IFwiICsgaWQpO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoYWNjZXB0LCByZWplY3QpID0+IHtcclxuICAgICAgZmV0Y2goQ09OVEVOVF9VUkwpXHJcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oKG9iaikgPT4ge1xyXG4gICAgICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqW2lkXSkge1xyXG4gICAgICAgICAgICAgIGFjY2VwdChvYmpbaWRdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZWplY3QoYCR7aWR9IG5vdCBmb3VuZCBpbiByZXBvc2l0b3J5YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlamVjdChcIkNvbnRlbnQgcmVwb3NpdG9yeSBub3QgZm91bmQuXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZWNlaXZlcjtcclxuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJhZFRpbWVTbGlkZXJDb2xvciIsInRpbWVTbGlkZXJDb2xvciIsImNvbnN0cnVjdG9yIiwicmVjZWl2ZXIiLCJ0aGlzIiwiZW5hYmxlIiwiYmluZCIsImRpc2FibGUiLCJjb25zb2xlIiwibG9nIiwiY29uZmlnIiwicmVjZWl2ZXJDb250cm9scyIsInNlZWtiYXIiLCJzZXRDb2xvciIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVidWciLCJtYXhCdWZmZXJTaXplIiwibWF4TG9hZGluZ0RlbGF5IiwibnVkZ2VNYXhSZXRyeSIsImxpdmVTeW5jRHVyYXRpb25Db3VudCIsImxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCIsIkluZmluaXR5IiwibWFuaWZlc3RMb2FkaW5nTWF4UmV0cnkiLCJtYW5pZmVzdExvYWRpbmdSZXRyeURlbGF5IiwibWFuaWZlc3RMb2FkaW5nTWF4UmV0cnlUaW1lb3V0IiwiZW1lRW5hYmxlZCIsIndpZGV2aW5lTGljZW5zZVVybCIsInRpbWUiLCJob3VycyIsIk1hdGgiLCJmbG9vciIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImlkIiwiZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhc3RkZWJ1Z2dlciIsInNob3ciLCJzcGVlZCIsImludGVydmFsIiwiY2FuY2VsQW5pbWF0aW9uIiwiaW5pdGlhbExlZnRQb3NpdGlvbiIsInN0eWxlIiwibGVmdCIsInNldENhc3REZWJ1Z2dlciIsInNldFByb2dyZXNzIiwiZHVyYXRpb24iLCJ3aWR0aCIsInNob3dIaWRlIiwidGltaW5nIiwicGFyZW50RWxlbWVudCIsImRpc3BsYXkiLCJzZXRUaW1lb3V0IiwiY29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhbmltYXRlU2Vla2JhciIsInBvc2l0aW9uIiwidG90YWx3aWR0aCIsImNsaWVudFdpZHRoIiwiaW5uZXJGdW5jdGlvbiIsImxlZnRQb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnRQYXJlbnRQb3NpdGlvbiIsInJpZ2h0IiwicmlnaHRQYXJlbnRQb3NpdGlvbiIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVycm9yIiwicmVzZXQiLCJ0aW1lciIsInRleHRDb250ZW50IiwidXBkYXRlIiwiY3VycmVudFRpbWUiLCJVdGlscyIsImNhc3REZWJ1Z2dlciIsIm92ZXJsYXkiLCJpbmZvIiwiY2hpbGRyZW4iLCJsb2FkZXIiLCJwbGF5SWNvbiIsInBhdXNlSWNvbiIsInZpZGVvSW5mbyIsInNwbGFzaFNjcmVlbiIsInRodW1ibmFpbCIsInBhdXNlIiwicGxheSIsInN0YXRlIiwiaGlkZUNvbnRyb2xzIiwic2hvd0NvbnRyb2xzIiwicmVzZXRPdmVybGF5IiwidGltZW91dCIsImluaXRPdmVybGF5IiwibWV0YWRhdGEiLCJpbWFnZXMiLCJsZW5ndGgiLCJzcmMiLCJ1cmwiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiVmFzdFNlcnZpY2UiLCJhZENvbnRhaW5lciIsImFkc0Rpc3BsYXlDb250YWluZXIiLCJhZHNMb2FkZXIiLCJhZHNEaXNwbGF5SW5pdGlhbGl6ZWQiLCJjdXJyZW50QWRzIiwiaW5pdGlhbGl6ZWQiLCJhdXRvcGxheUFsbG93ZWQiLCJhdXRvcGxheVJlcXVpcmVzTXV0ZWQiLCJoYXNFcnJvcnMiLCJhZFVJIiwiYWREdXJhdGlvbiIsImluaXQiLCJnb29nbGUiLCJpbWEiLCJzZXR0aW5ncyIsInNldFZwYWlkTW9kZSIsIkltYVNka1NldHRpbmdzIiwiVnBhaWRNb2RlIiwiRU5BQkxFRCIsIkFkRGlzcGxheUNvbnRhaW5lciIsInZpZGVvIiwiQWRzTG9hZGVyIiwiZ2V0U2V0dGluZ3MiLCJzZXRQbGF5ZXJUeXBlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkFkc01hbmFnZXJMb2FkZWRFdmVudCIsIlR5cGUiLCJBRFNfTUFOQUdFUl9MT0FERUQiLCJvbkFkc01hbmFnZXJMb2FkZWQiLCJBZEVycm9yRXZlbnQiLCJBRF9FUlJPUiIsIm9uQWRFcnJvciIsIkFkVUkiLCJvbkFsbEFkc0NvbXBsZXRlZCIsImUiLCJjYXN0RGVidWdMb2dnZXIiLCJERUJVR19WQVNUX1NFUlZJQ0UiLCJvbkFkQ29tcGxldGVkIiwiYWRzTWFuYWdlciIsImRlc3Ryb3kiLCJpc0FkUGxheWluZyIsIm9uRW5kIiwib25Db250ZW50UGF1c2VSZXF1ZXN0ZWQiLCJvbkNvbnRlbnRSZXN1bWVSZXF1ZXN0ZWQiLCJvbkFkTG9hZGVkIiwibG9hZEFkcyIsInZhc3RVcmwiLCJ2YXN0WG1sIiwiY29udGVudCIsInR5cGUiLCJjdXJyZW50QWRJbmRleCIsImxvYWQiLCJhZHNSZXF1ZXN0IiwiQWRzUmVxdWVzdCIsImFkVGFnVXJsIiwiYWRzUmVzcG9uc2UiLCJsaW5lYXJBZFNsb3RXaWR0aCIsImxpbmVhckFkU2xvdEhlaWdodCIsImNsaWVudEhlaWdodCIsIm5vbkxpbmVhckFkU2xvdFdpZHRoIiwibm9uTGluZWFyQWRTbG90SGVpZ2h0Iiwic2V0QWRXaWxsQXV0b1BsYXkiLCJzZXRBZFdpbGxQbGF5TXV0ZWQiLCJ2YXN0TG9hZFRpbWVvdXQiLCJyZXF1ZXN0QWRzIiwib25UaW1lVXBkYXRlIiwiZXZlbnQiLCJhZERhdGEiLCJnZXRBZERhdGEiLCJnZXRDdXJyZW50QWQiLCJnZXRBZElkIiwib25BZFNraXAiLCJvbkFkU3RhcnRlZCIsImFkc01hbmFnZXJMb2FkZWRFdmVudCIsImFkc1JlbmRlcmluZ1NldHRpbmdzIiwiQWRzUmVuZGVyaW5nU2V0dGluZ3MiLCJnZXRBZHNNYW5hZ2VyIiwiQWRFdmVudCIsIkNPTlRFTlRfUEFVU0VfUkVRVUVTVEVEIiwiQ09OVEVOVF9SRVNVTUVfUkVRVUVTVEVEIiwiQUxMX0FEU19DT01QTEVURUQiLCJMT0FERUQiLCJTVEFSVEVEIiwiQ09NUExFVEUiLCJTS0lQUEVEIiwiQURfUFJPR1JFU1MiLCJBRF9CVUZGRVJJTkciLCJsb2FkaW5nIiwiU0tJUFBBQkxFX1NUQVRFX0NIQU5HRUQiLCJmaXJlIiwiRXZlbnRzIiwiYWRFdmVudHMiLCJBRF9TS0lQUEFCTEUiLCJwbGF5ZXIiLCJhZFBsYXlJZCIsInBsYXlBZHMiLCJpbml0aWFsaXplIiwiaGVpZ2h0IiwiVmlld01vZGUiLCJGVUxMU0NSRUVOIiwic3RhcnQiLCJhZEVycm9yIiwiZ2V0TWVzc2FnZSIsInJlc3VtZSIsInZwUmVjZWl2ZXIiLCJjb250ZXh0IiwicGxheWVyTWFuYWdlciIsImFwcElkIiwicGxheWJhY2tDb25maWciLCJjb250cm9scyIsImhscyIsInZpZGVvT2JqZWN0IiwidmlkZW9Db250YWluZXIiLCJwbGF5YmFja1JhdGUiLCJhdXRvcGxheSIsIlJlY2VpdmVyQ29udHJvbHMiLCJtZWRpYU1hbmFnZXIiLCJjYXN0UmVjZWl2ZXJNYW5hZ2VyIiwidmlkZW9TdGFydGVkIiwidmFzdFNlcnZpY2UiLCJhZEJyZWFrcyIsImRlYnVnVGFncyIsIkxPQURfUkVRVUVTVCIsIkFUVEFDSF9NRURJQSIsIk9OUExBWSIsIlNUQVJUIiwiSU5JVCIsIkVWRU5UUyIsIk9ORU5EIiwiQlJPQURDQVNUIiwiT05USU1FVVBEQVRFRSIsImRlZmF1bENvbmZpZyIsIk5BTUVTUEFDRSIsImJyb2FkY2FzdCIsIm9uUGxheSIsImRhdGEiLCJnZXRBdHRyaWJ1dGUiLCJ0aGVuIiwiY2F0Y2giLCJvblBhdXNlIiwiYWRkUGxheWVyRXZlbnRzIiwibWVzc2FnZSIsInNlbmRDdXN0b21NZXNzYWdlIiwicmVwbGF5IiwiY29kZSIsIm1hcCIsImFkIiwiYnJlYWtUaW1pbmdWYWx1ZSIsImluY2x1ZGVzIiwic2hpZnQiLCJPTlRJTUVVUERBVEUiLCJ1cGRhdGVQbGF5ZXJTdGF0ZSIsImF0dGFjaE1lZGlhIiwiSExTc3VwcG9ydGVkIiwiSGxzIiwiaXNTdXBwb3J0ZWQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlsZSIsImVuZHNXaXRoIiwiaGxzY29uZmlnIiwib24iLCJNRURJQV9BVFRBQ0hFRCIsImxvYWRTb3VyY2UiLCJNQU5JRkVTVF9QQVJTRUQiLCJFUlJPUiIsImRldGFpbHMiLCJmYWtlaW5pdCIsInNlbGYiLCJhZEN1ZVBvaW50cyIsInZhc3RzIiwiYmluZE1ldGhvZHMiLCJjYXN0IiwiZnJhbWV3b3JrIiwiQ2FzdFJlY2VpdmVyQ29udGV4dCIsImdldEluc3RhbmNlIiwic2V0TG9nZ2VyTGV2ZWwiLCJMb2dnZXJMZXZlbCIsIkRFQlVHIiwiQ2FzdERlYnVnTG9nZ2VyIiwic2V0RW5hYmxlZCIsImdldFBsYXllck1hbmFnZXIiLCJzZXRNZWRpYUVsZW1lbnQiLCJzZXRTdXBwb3J0ZWRNZWRpYUNvbW1hbmRzIiwibWVzc2FnZXMiLCJDb21tYW5kIiwiU0VFSyIsIlBBVVNFIiwiUExBWSIsInVpIiwiQ29udHJvbHMiLCJpdGVtMSIsIkJyb3dzZUl0ZW0iLCJzdWJ0aXRsZSIsImltYWdlVHlwZSIsIkJyb3dzZUltYWdlVHlwZSIsIk1VU0lDX1RSQUNLIiwiaW1hZ2UiLCJJbWFnZSIsImVudGl0eSIsIml0ZW0yIiwiaXRlbXMiLCJicm93c2VDb250ZW50IiwiQnJvd3NlQ29udGVudCIsIm9wdGlvbnMiLCJDYXN0UmVjZWl2ZXJPcHRpb25zIiwiY3VzdG9tTmFtZXNwYWNlcyIsInN5c3RlbSIsIk1lc3NhZ2VUeXBlIiwiYmluZEludGVyY2VwdG9ycyIsIm9uU2VlayIsInJlcXVlc3REYXRhIiwiZHJhd0J1dHRvbnMiLCJhc3NpZ25CdXR0b24iLCJDb250cm9sc1Nsb3QiLCJTTE9UX1NFQ09OREFSWV8xIiwiQ29udHJvbHNCdXR0b24iLCJRVUVVRV9QUkVWIiwiU0xPVF9QUklNQVJZXzEiLCJDQVBUSU9OUyIsIlNMT1RfUFJJTUFSWV8yIiwiU0VFS19GT1JXQVJEXzE1IiwiU0xPVF9TRUNPTkRBUllfMiIsIlFVRVVFX05FWFQiLCJFdmVudFR5cGUiLCJTRU5ERVJfRElTQ09OTkVDVEVEIiwiY2xvc2UiLCJhZGRDdXN0b21NZXNzYWdlTGlzdGVuZXIiLCJwYXJzZSIsInNldE1lc3NhZ2VJbnRlcmNlcHRvciIsIkxPQUQiLCJvbkxvYWRSZXF1ZXN0IiwiaW5pdFN0YXRlIiwibG9hZFJlcXVlc3REYXRhIiwibWVkaWEiLCJjb250ZW50SWQiLCJyZXF1aXJlQWRzIiwiY3VzdG9tRGF0YSIsInN0YWNrIiwiYWRkQnJlYWtzIiwibWVkaWFJbmZvcm1hdGlvbiIsIkxPR19SRUNFSVZFUl9UQUciLCJmZXRjaE1lZGlhQnlJZCIsImNsaXAxIiwiYnJlYWtDbGlwcyIsImNvbnRlbnRVcmwiLCJzdHJlYW0iLCJkYXNoIiwiY29udGVudFR5cGUiLCJ3aGVuU2tpcHBhYmxlIiwiYnJlYWtzIiwiYnJlYWtDbGlwSWRzIiwiUHJvbWlzZSIsImFjY2VwdCIsInJlamVjdCIsImZldGNoIiwiQ09OVEVOVF9VUkwiLCJyZXNwb25zZSIsImpzb24iXSwic291cmNlUm9vdCI6IiJ9