(()=>{"use strict";const e=e=>{if(!e)return"00:00";let t=Math.floor(e/3600),s=Math.floor((e-3600*t)/60),i=Math.floor(e%60);return t?t.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0"):s.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")},t=class{constructor(t,s){this.seekbar=new class{constructor(e){this.element=document.querySelector(e),this.castdebugger=null,this.show=!1,this.speed=30,this.interval=null,this.cancelAnimation=!1,this.initialLeftPosition=this.element.style.left}setCastDebugger(e){this.castdebugger=e}setProgress(e,t){this.element.style.width=e/t*100+"%"}showHide(e){this.castdebugger.debug("showHide",`${e} ${this.show}`),this.show?this.element.parentElement.style.display="block":setTimeout((()=>{this.element.parentElement.style.display="none"}),e)}animateSeekbar(){this.element.style.position="absolute";let e=this.element.parentElement.clientWidth;const t=()=>{try{let s=this.element.getBoundingClientRect().left,i=(this.element.parentElement.getBoundingClientRect().right,this.element.parentElement.getBoundingClientRect().left),a=this.element.parentElement.getBoundingClientRect().right;if(this.element.clientWidth<=e/4&&s<=i?this.element.style.width=`${this.element.clientWidth+this.speed}px`:s+this.element.clientWidth<a?this.element.style.left=`${s+this.speed}px`:s<a?(this.element.style.left=`${s+this.speed}px`,this.element.style.width=this.element.clientWidth-this.speed+"px"):(this.element.style.left=`${i}px`,this.element.style.width="0px"),this.cancelAnimation)return;window.requestAnimationFrame(t)}catch(e){console.log(e),console.log(e.toString())}};window.requestAnimationFrame(t)}reset(){this.cancelAnimation=!0,this.element.style.width="0%",this.element.style.left=this.initialLeftPosition,this.element.style.position="relative"}}(".seekbar-progress"),this.timer=new class{constructor(e){this.element=document.querySelector(e),this.element.textContent="00:00 / 00:00"}update(t,s){this.element.textContent=`${e(t)} /${e(s)}`}}(".timer"),this.castDebugger=null,this.element=document.querySelector(t),this.overlay=this.element.parentElement,this.info=this.overlay.children[0],this.show=!0,this.loader=document.querySelector(".loader"),this.playIcon=document.querySelector(".vp-icon-play"),this.pauseIcon=document.querySelector(".vp-icon-pause"),this.videoInfo=document.querySelector(".video-info"),this.splashScreen=document.querySelector(".splash-screen"),this.thumbnail=document.querySelector("#thumbnail"),this.receiver=s}setCastDebugger(e){this.castDebugger=e,this.seekbar.setCastDebugger(this.castDebugger)}pause(){this.pauseIcon.style.display="none",this.playIcon.style.display="block",setTimeout((()=>{this.playIcon.style.display="none"}),2e3)}play(){this.playIcon.style.display="none",this.pauseIcon.style.display="block",setTimeout((()=>{this.pauseIcon.style.display="none"}),2e3)}update(e){this.seekbar.setProgress(e.currentTime,e.duration),this.timer.update(e.currentTime,e.duration)}hideControls(e){this.show=!1,this.showHide(e||5e3)}showControls(){this.show=!0,this.showHide(10)}resetOverlay(){setTimeout((()=>{this.seekbar.reset(),this.info.style.display="none"}),3e3)}showHide(e){this.show?this.element.style.display="flex":setTimeout((()=>{this.element.style.display="none"}),e)}initOverlay(e){this.splashScreen.style.display="none",this.overlay.style.display="block";try{e.images.length>0&&e&&(this.thumbnail.src=e.images[0].url,this.videoInfo.children[0].textContent=e.title,this.videoInfo.children[1].textContent=e.description),this.seekbar.animateSeekbar()}catch(e){}}};class s{static DEBUG_VAST_SERVICE="DEBUG_VAST_SERVICE";constructor(e){this.receiver=e,this.adContainer=document.querySelector(".adContainer"),this.adsDisplayContainer=null,this.adsLoader=null,this.adsDisplayInitialized=!1,this.currentAds=null,this.initialized=!1,this.autoplayAllowed=!1,this.autoplayRequiresMuted=!1,this.hasErrors=!1}init(){this.initialized=!0,google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),this.adsDisplayContainer=new google.ima.AdDisplayContainer(this.adContainer,this.receiver.video),this.adsLoader=new google.ima.AdsLoader(this.adsDisplayContainer),this.adsLoader.getSettings().setPlayerType("cast/client-side"),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1)}onAllAdsCompleted(e){this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE,"ad completed")}onAdCompleted(e){this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE,"ad completed"),this.adsManager.destroy(),!this.hasErrors&&this.receiver.isAdPlaying&&this.receiver.onEnd()}onContentPauseRequested(e){this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE,"Content Pause Request")}onContentResumeRequested(){this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE,"Content Resume Request")}onAdLoaded(e){this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE,"Ad loaded")}loadAds(e,t){this.currentAds={},this.initialized||this.init(),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE,"load "+e),e?(this.currentAds.content=e,this.currentAds.type="url"):t&&(this.currentAds.content=t,this.currentAds.type="xml"),this.currentAds.currentAdIndex=0,this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE),"url"===this.currentAds.type?this.load(this.currentAds.content):this.load(null,this.currentAds.content)}load(e,t){if(this.initialized||this.init(),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE,"Initialized"+this.vastUrl),this.adsRequest=new google.ima.AdsRequest,e)this.adsRequest.adTagUrl=e;else{if(!t)return;this.adsRequest.adsResponse=t}this.adsRequest.linearAdSlotWidth=this.receiver.video.clientWidth,this.adsRequest.linearAdSlotHeight=this.receiver.video.clientHeight,this.adsRequest.nonLinearAdSlotWidth=this.receiver.video.clientWidth,this.adsRequest.nonLinearAdSlotHeight=this.receiver.video.clientHeight/3,this.adsRequest.setAdWillAutoPlay(this.autoplayAllowed),this.adsRequest.setAdWillPlayMuted(this.autoplayRequiresMuted),this.receiver.castDebugLogger.debug("okej e qity pra","Asdf"),this.adsRequest.vastLoadTimeout=8e3,this.adsLoader.requestAds(this.adsRequest),this.receiver.castDebugLogger.debug("okej e qity pra","Asdf123")}onTimeUpdate(){this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," ON TIME UPDATE")}onAdSkip(e){this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE,"ON AD Ski")}onAdStarted(e){this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE,"ON AD STARTED")}onAdsManagerLoaded(e){this.adsManager&&this.adsManager.destroy(),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," before getadsmanager");const t=new google.ima.AdsRenderingSettings;this.adsManager=e.getAdsManager(this.receiver.video,t),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," after getadsmanager"),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," after onaderror"),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," after onContentPauseRequested"),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," after onAllAdsCompleted"),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," after onAdLoaded"),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," after onAdStarted"),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," after onAdCompleted"),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdCompleted.bind(this)),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," after onContentPauseRequested"),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdSkip.bind(this)),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," after onAdSkip"),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,this.onTimeUpdate.bind(this)),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," after onTimeUpdate"),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BUFFERING,(()=>{this.loading=!0})),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(()=>{Utils.fire(this.adContainer,Events.adEvents.AD_SKIPPABLE,{currentTime:this.player.video.currentTime,adPlayId:this.adsManager.getCurrentAd()?.getAdId()})})),this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," just before playing ad"),this.playAds()}playAds(){this.adsDisplayInitialized||(this.adsDisplayContainer.initialize(),this.adsDisplayInitialized=!0);const e=this.receiver.video.clientWidth,t=this.receiver.video.clientHeight;try{this.receiver.isAdPlaying=!0,this.adsManager.init(e,t,google.ima.ViewMode.FULLSCREEN),this.adsManager.start(),this.receiver.receiverControls.loader.style.display="none"}catch(e){this.receiver.castDebugLogger.debug(this.VastService.DEBUG_VAST_SERVICE,"AdsManager could not be started"+e.getMessage())}}onAdError(e){this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE," ad error"+e),this.hasErrors=!0,this.receiver.onEnd().bind(this.receiver)}resume(){this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE,"RESUMING AD Event"),this.adsManager&&this.adsManager.resume()}pause(){this.receiver.castDebugLogger.debug(s.DEBUG_VAST_SERVICE,"PAUSE AD Event"),this.adsManager&&this.adsManager.pause()}}const i=s;function a(e,s){let r=new class{constructor(e,s){this.context=null,this.playerManager=null,this.castDebugLogger=null,this.appId=s.appId,this.video=document.querySelector(e),this.playbackConfig=null,this.controls=null,this.hls=null,this.videoObject={},this.videoContainer=this.video.parentElement,this.playbackRate=1,this.autoplay=!1,this.receiverControls=new t(".controls",this),this.mediaManager=null,this.castReceiverManager=null,this.videoStarted=!1,this.vastService=new i(this),this.config={},this.ads=[],this.debugTags={LOAD_REQUEST:"LOAD_REQUEST",ATTACH_MEDIA:"ATTACH_MEDIA",ONPLAY:"ON_PLAY",START:"START",INIT:"INIT",EVENTS:"EVENTS",ONEND:"ONEND",BROADCAST:"BROADCAST"},this.isAdPlaying=!1,this.NAMESPACE="urn:x-cast:tech.gjirafa.vp-service",this.receiverControls=new t(".controls",this)}start(){this.receiverControls.resetOverlay(),this.castDebugLogger.debug(this.debugTags.START,"Starting video..."),this.onPlay()}onPlay(){this.castDebugLogger.debug("on play",this.video.getAttribute("src")),this.castDebugLogger.debug("isadplaying",this.isAdPlaying),this.isAdPlaying?this.vastService.resume():this.video.play().then((()=>{this.videoStarted?this.receiverControls.play():(this.receiverControls.showControls(),this.videoStarted=!0),this.receiverControls.hideControls(6e3)})).catch((e=>{this.onPause(),this.castDebugLogger.debug(this.debugTags.ONPLAY," Couldn't play video.Tring one more time "+e),this.broadcast(" Couldn't play video.Tring one more time "+e.toString())}))}onPause(){this.isAdPlaying?this.vastService.pause():this.video.pause(),this.receiverControls.pause(),this.receiverControls.showControls()}addPlayerEvents(){this.video.addEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("ended",this.onEnd.bind(this))}broadcast(e){this.castDebugLogger.debug(this.debugTags.BROADCAST,e),this.context&&this.context.sendCustomMessage(this.NAMESPACE,void 0,e)}onEnd(){this.castDebugLogger.debug("on End",this.config.replay);try{this.isAdPlaying?(this.broadcast({message:"Ad finished",code:2,time:this.currentTime}),this.isAdPlaying=!1,this.playerManager.setMediaElement(this.video),this.attachMedia()):this.broadcast({message:"Video finished",code:3})}catch(e){this.castDebugLogger.error(this.debugTags.ONEND," Error"+e.toString())}return null}onTimeUpdate(){try{if(this.ads.adCuePoints.includes(Math.floor(this.video.currentTime))&&!this.isAdPlaying)return this.onPause(),this.currentTime=this.video.currentTime,this.vastService.loadAds(this.ads.vasts[0][0],this.ads.vasts[0][1]),this.isAdPlaying=!0,this.ads.vasts.pop(),void this.ads.adCuePoints.pop()}catch(e){}this.receiverControls.update(this.updatePlayerState())}updatePlayerState(){return this.broadcast("time "+this.video.currentTime+" duration "+this.videoObject.duration||0),{currentTime:this.video.currentTime,duration:this.videoObject.duration||this.video.duration}}attachMedia(){if(vpReceiver.HLSsupported=Hls.isSupported(),this.castDebugLogger.debug("inside attach media",vpReceiver.HLSsupported),this.video.playbackRate=1,this.castDebugLogger.debug("video file",JSON.stringify(this.video,["id","className","tagName"])),this.videoObject.file.endsWith("mp4"))this.castDebugLogger.debug("inside mp4",this.videoObject.file),this.video.src=this.videoObject.file,this.start();else if(vpReceiver.HLSsupported){this.castDebugLogger.debug("inside hlssupported",this.videoObject.file);try{this.hls=new Hls,this.castDebugLogger.debug("hls initialized",this.videoObject.file),this.currentTime>0&&(this.video.currentTime=this.currentTime),this.hls.attachMedia(this.video),this.castDebugLogger.debug("attached media",this.videoObject.file),this.hls.on(Hls.Events.MEDIA_ATTACHED,(()=>{this.castDebugLogger.debug("amedia attached",this.videoObject.file),this.hls.startLevel=0,this.castDebugLogger.debug("loading source hlssupported",this.videoObject.file),this.hls.loadSource(this.videoObject.file)})),this.hls.on(Hls.Events.MANIFEST_PARSED,((e,t)=>{this.start()})),this.hls.on(Hls.Events.ERROR,((e,t)=>{this.castDebugLogger.debug("HLS  ERROR",t.details)}))}catch(e){}}this.castDebugLogger.debug("finished attach media")}fakeinit(){this.castDebugLogger={debug:function(e,t){console.log(e,t)},error:function(e,t){console.log(e,t)}},this.receiverControls.setCastDebugger(this.castDebugLogger),this.videoObject.file="https://vp.gjirafa.net/vps/prod/odgehtyo/encode/vjsmyjhs/hls/master_file.m3u8",this.videoObject.duration=119,this.receiverControls.seekbar.animateSeekbar(),this.receiverControls.initOverlay({title:"Some title",images:[{url:"https://liki.gjirafa.com/api/media/gjvideo/yqz0gq/retina.jpg"}]}),this.ads={adCuePoints:[30],vasts:[["https://vp-dev.gjirafa.net/vps/content/vast/preroll-2.xml",null]]},setTimeout((()=>{this.attachMedia()}),5e3),this.bindMethods(),this.addPlayerEvents()}init(){this.context=cast.framework.CastReceiverContext.getInstance(),this.context.setLoggerLevel(cast.framework.LoggerLevel.DEBUG),this.castDebugLogger=cast.debug.CastDebugLogger.getInstance(),this.castDebugLogger.setEnabled(!0),this.castDebugLogger.debug(this.debugTags.INIT,"castdebugger initialized"),this.playerManager=this.context.getPlayerManager(),this.playerManager.setMediaElement(this.video),this.receiverControls.setCastDebugger(this.castDebugLogger);const e=new cast.framework.CastReceiverOptions;e.customNamespaces={},e.customNamespaces[this.NAMESPACE]=cast.framework.system.MessageType.JSON,this.context.start(e),this.bindMethods(),this.bindInterceptors(),this.addPlayerEvents()}onSeek(e){this.video.currentTime=e.currentTime,this.receiverControls.showControls(),this.receiverControls.hideControls(6e3),this.receiverControls.update(this.updatePlayerState())}drawButtons(){this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_SECONDARY_1,cast.framework.ui.ControlsButton.QUEUE_PREV),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_PRIMARY_1,cast.framework.ui.ControlsButton.CAPTIONS),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_PRIMARY_2,cast.framework.ui.ControlsButton.SEEK_FORWARD_15),this.controls.assignButton(cast.framework.ui.ControlsSlot.SLOT_SECONDARY_2,cast.framework.ui.ControlsButton.QUEUE_NEXT)}bindInterceptors(){this.context.addEventListener(cast.framework.system.EventType.SENDER_DISCONNECTED,(e=>{window.close()})),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.LOAD,this.onLoadRequest.bind(this)),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.PLAY,this.onPlay.bind(this)),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.PAUSE,this.onPause.bind(this)),this.playerManager.setMessageInterceptor(cast.framework.messages.MessageType.SEEK,this.onSeek.bind(this))}bindMethods(){this.bindInterceptors=this.bindInterceptors.bind(this),this.onLoadRequest=this.onLoadRequest.bind(this),this.attachMedia=this.attachMedia.bind(this),this.start=this.start.bind(this),this.addPlayerEvents=this.addPlayerEvents.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onPlay=this.onPlay.bind(this),this.onPause=this.onPause.bind(this),this.updatePlayerState=this.updatePlayerState.bind(this),this.onEnd=this.onEnd.bind(this)}onLoadRequest(e){this.receiverControls.initOverlay(e.media.metadata),this.castDebugLogger.debug("VPreceiver",e.media.contentId),this.castDebugLogger.debug("VPreceiver1",Hls.isSupported()),this.videoObject.file=e.media.contentId,this.videoObject.duration=e.media.metadata.duration,this.currentTime=e.currentTime,this.playbackRate=e.playbackRate,this.autoplay=e.autoplay,this.ads={adCuePoints:[30],vasts:[[e.customData.vastUrl,e.customData.vastXml]]},this.config.replay=void 0===e.replay||e.replay;try{this.attachMedia(),this.broadcast({message:"attaching media"})}catch(e){this.broadcast({message:e.toString(),stack:e.stack})}return null}addBreaks(e){return castDebugLogger.debug(LOG_RECEIVER_TAG,"addBreaks: "+JSON.stringify(e)),fetchMediaById("fbb_ad").then((t=>{e.breakClips=[{id:"fbb_ad",title:t.title,contentUrl:t.stream.dash,contentType:"application/dash+xml",whenSkippable:5}],e.breaks=[{id:"pre-roll",breakClipIds:["fbb_ad"],position:0}]}))}fetchMediaById(e){return castDebugLogger.debug(LOG_RECEIVER_TAG,"fetching id: "+e),new Promise(((t,s)=>{fetch(CONTENT_URL).then((e=>e.json())).then((i=>{i?i[e]?t(i[e]):s(`${e} not found in repository`):s("Content repository not found.")}))}))}}(e,s);return r.init(),a.receiver=r,r}a.HLSsupported=!1,window.vpReceiver=a})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPcUMsWUFDd0IsSUFBM0JvRSxFQUFnQnBFLFFBQ25Cb0UsRUFBZ0JwRSxPQUV0QixJQUNFL00sS0FBS2tOLGNBQ0xsTixLQUFLME0sVUFBVSxDQUNiRSxRQUFTLG9CQTRCWCxNQUFPekssR0FDUG5DLEtBQUswTSxVQUFVLENBQ2JFLFFBQVN6SyxFQUFNeEMsV0FDZjRSLE1BQU9wUCxFQUFNb1AsUUFHakIsT0FBTyxLQWdEVEMsVUFBVUMsR0FLUixPQUpBbkwsZ0JBQWdCbkYsTUFDZHVRLGlCQUNBLGNBQWdCL0QsS0FBS0MsVUFBVTZELElBRTFCRSxlQUFlLFVBQVVwRixNQUFNcUYsSUFDcENILEVBQWlCSSxXQUFhLENBQzVCLENBQ0UvUixHQUFJLFNBQ0pvRSxNQUFPME4sRUFBTTFOLE1BQ2I0TixXQUFZRixFQUFNRyxPQUFPQyxLQUN6QkMsWUFBYSx1QkFDYkMsY0FBZSxJQUluQlQsRUFBaUJVLE9BQVMsQ0FDeEIsQ0FDRXJTLEdBQUksV0FDSnNTLGFBQWMsQ0FBQyxVQUNmNVEsU0FBVSxPQUtsQm1RLGVBQWU3UixHQUdiLE9BRkF3RyxnQkFBZ0JuRixNQUFNdVEsaUJBQWtCLGdCQUFrQjVSLEdBRW5ELElBQUl1UyxTQUFRLENBQUNDLEVBQVFDLEtBQzFCQyxNQUFNQyxhQUNIbEcsTUFBTW1HLEdBQWFBLEVBQVNDLFNBQzVCcEcsTUFBTXFHLElBQ0RBLEVBQ0VBLEVBQUk5UyxHQUNOd1MsRUFBT00sRUFBSTlTLElBRVh5UyxFQUFRLEdBQUV6Uyw2QkFHWnlTLEVBQU8seUNEaGpCV3pTLEVBQUk0SyxHQUdoQyxPQUZBM0ssRUFBUytFLE9BQ1QyRixFQUFXMUssU0FBV0EsRUFDZkEsRUFOVDBLLEVBQVcrQyxjQUFlLEVBUzFCdkwsT0FBT3dJLFdBQWFBLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy9tb2RlbHMvc2Vla2Jhci5qcyIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy9oZWxwZXJzL1V0aWxzLmpzIiwid2VicGFjazovL3ZwLXJlY2VpdmVyLy4vc3JjL2pzL21vZGVscy9yZWNlaXZlci1jb250cm9scy5qcyIsIndlYnBhY2s6Ly92cC1yZWNlaXZlci8uL3NyYy9qcy9tb2RlbHMvdGltZXIuanMiLCJ3ZWJwYWNrOi8vdnAtcmVjZWl2ZXIvLi9zcmMvanMvbW9kZWxzL3Zhc3RTZXJ2aWNlLmpzIiwid2VicGFjazovL3ZwLXJlY2VpdmVyLy4vc3JjL2pzL3ZwUmVjZWl2ZXIuanMiLCJ3ZWJwYWNrOi8vdnAtcmVjZWl2ZXIvLi9zcmMvanMvbW9kZWxzL3JlY2VpdmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFNlZWtCYXIge1xyXG4gIGNvbnN0cnVjdG9yKGlkKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlkKTtcclxuICAgIHRoaXMuY2FzdGRlYnVnZ2VyID0gbnVsbDtcclxuICAgIHRoaXMuc2hvdyA9IGZhbHNlO1xyXG4gICAgdGhpcy5zcGVlZCA9IDMwO1xyXG4gICAgdGhpcy5pbnRlcnZhbCA9IG51bGw7XHJcbiAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbiA9IGZhbHNlO1xyXG4gICAgdGhpcy5pbml0aWFsTGVmdFBvc2l0aW9uID0gdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ7XHJcbiAgfVxyXG4gIHNldENhc3REZWJ1Z2dlcihjYXN0ZGVidWdnZXIpIHtcclxuICAgIHRoaXMuY2FzdGRlYnVnZ2VyID0gY2FzdGRlYnVnZ2VyO1xyXG4gIH1cclxuICBzZXRQcm9ncmVzcyh0aW1lLCBkdXJhdGlvbikge1xyXG4gICAgLy8gdGhpcy5jYXN0ZGVidWdnZXIuZGVidWcoXCJlbGVcIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5lbGVtZW50KSk7XHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSAodGltZSAvIGR1cmF0aW9uKSAqIDEwMCArIFwiJVwiO1xyXG4gICAgLy8gdGhpcy5jYXN0ZGVidWdnZXIuZGVidWcoXCJ3aWR0aFwiLCB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGgpO1xyXG4gIH1cclxuXHJcbiAgc2hvd0hpZGUodGltaW5nKSB7XHJcbiAgICB0aGlzLmNhc3RkZWJ1Z2dlci5kZWJ1ZyhcInNob3dIaWRlXCIsIGAke3RpbWluZ30gJHt0aGlzLnNob3d9YCk7XHJcbiAgICBpZiAodGhpcy5zaG93KSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIH0sIHRpbWluZyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhbmltYXRlU2Vla2JhcigpIHtcclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuXHJcbiAgICBsZXQgdG90YWx3aWR0aCA9IHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsaWVudFdpZHRoO1xyXG4gICAgY29uc3QgaW5uZXJGdW5jdGlvbiA9ICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBsZXQgbGVmdFBvc2l0aW9uID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgICAgICAgbGV0IHJpZ2h0UG9zaXRpb24gPVxyXG4gICAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ7XHJcbiAgICAgICAgbGV0IGxlZnRQYXJlbnRQb3NpdGlvbiA9XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gICAgICAgIGxldCByaWdodFBhcmVudFBvc2l0aW9uID1cclxuICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0O1xyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xpZW50V2lkdGggPD0gdG90YWx3aWR0aCAvIDQgJiZcclxuICAgICAgICAgIGxlZnRQb3NpdGlvbiA8PSBsZWZ0UGFyZW50UG9zaXRpb25cclxuICAgICAgICApIHtcclxuICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9IGAke1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xpZW50V2lkdGggKyB0aGlzLnNwZWVkXHJcbiAgICAgICAgICB9cHhgO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAobGVmdFBvc2l0aW9uICsgdGhpcy5lbGVtZW50LmNsaWVudFdpZHRoIDwgcmlnaHRQYXJlbnRQb3NpdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IGAke2xlZnRQb3NpdGlvbiArIHRoaXMuc3BlZWR9cHhgO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGxlZnRQb3NpdGlvbiA8IHJpZ2h0UGFyZW50UG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IGAke2xlZnRQb3NpdGlvbiArIHRoaXMuc3BlZWR9cHhgO1xyXG4gICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9IGAke1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsaWVudFdpZHRoIC0gdGhpcy5zcGVlZFxyXG4gICAgICAgICAgICAgIH1weGA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQgPSBgJHtsZWZ0UGFyZW50UG9zaXRpb259cHhgO1xyXG4gICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9IFwiMHB4XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2FuY2VsQW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5uZXJGdW5jdGlvbik7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnRvU3RyaW5nKCkpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShpbm5lckZ1bmN0aW9uKTtcclxuICB9XHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbiA9IHRydWU7XHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBcIjAlXCI7XHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IHRoaXMuaW5pdGlhbExlZnRQb3NpdGlvbjtcclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlZWtCYXI7XHJcbiIsImNvbnN0IGZvcm1hdFRpbWUgPSAodGltZSkgPT4ge1xyXG4gIGlmICghdGltZSkgcmV0dXJuIFwiMDA6MDBcIjtcclxuXHJcbiAgbGV0IGhvdXJzID0gTWF0aC5mbG9vcih0aW1lIC8gMzYwMCk7XHJcbiAgbGV0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKCh0aW1lIC0gaG91cnMgKiAzNjAwKSAvIDYwKTtcclxuICBsZXQgc2Vjb25kcyA9IE1hdGguZmxvb3IodGltZSAlIDYwKTtcclxuXHJcbiAgLy8gZm9ybWF0IHRoZSBtaW51dGVzIGFuZCBzZWNvbmRzIHN0cmluZyB0byBsb29rIGNvbnNpc3RlbnQgYWNyb3NzIGFsbCB2YWx1ZXNcclxuICBpZiAoIWhvdXJzKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBtaW51dGVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpICtcclxuICAgICAgXCI6XCIgK1xyXG4gICAgICBzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIGhvdXJzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpICtcclxuICAgIFwiOlwiICtcclxuICAgIG1pbnV0ZXMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIikgK1xyXG4gICAgXCI6XCIgK1xyXG4gICAgc2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKVxyXG4gICk7XHJcbn07XHJcbi8vIEZpcmUgY3VzdG9tIGV2ZW50XHJcbmNvbnN0IGZpcmUgPSAoXHJcbiAgZWwsXHJcbiAgZXZlbnROYW1lLFxyXG4gIGRldGFpbCA9IG51bGwsXHJcbiAgYnViYmxlcyA9IHRydWUsXHJcbiAgY2FuY2VsYWJsZSA9IHRydWVcclxuKSA9PiB7XHJcbiAgbGV0IGV2dCA9IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtcclxuICAgIGRldGFpbCxcclxuICAgIGJ1YmJsZXMsXHJcbiAgICBjYW5jZWxhYmxlLFxyXG4gIH0pO1xyXG5cclxuICBlbC5kaXNwYXRjaEV2ZW50KGV2dCk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZm9ybWF0VGltZSxcclxuICBmaXJlLFxyXG59O1xyXG4iLCJpbXBvcnQgU2Vla0JhciBmcm9tIFwiLi9zZWVrYmFyXCI7XHJcbmltcG9ydCBUaW1lciBmcm9tIFwiLi90aW1lclwiO1xyXG5jbGFzcyBSZWNlaXZlckNvbnRyb2xzIHtcclxuICBjb25zdHJ1Y3RvcihpZCwgcmVjZWl2ZXIpIHtcclxuICAgIHRoaXMuc2Vla2JhciA9IG5ldyBTZWVrQmFyKFwiLnNlZWtiYXItcHJvZ3Jlc3NcIik7XHJcbiAgICB0aGlzLnRpbWVyID0gbmV3IFRpbWVyKFwiLnRpbWVyXCIpO1xyXG4gICAgdGhpcy5jYXN0RGVidWdnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpZCk7XHJcbiAgICB0aGlzLm92ZXJsYXkgPSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudDtcclxuICAgIHRoaXMuaW5mbyA9IHRoaXMub3ZlcmxheS5jaGlsZHJlblswXTtcclxuICAgIHRoaXMuc2hvdyA9IHRydWU7XHJcbiAgICB0aGlzLmxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGVyXCIpO1xyXG4gICAgdGhpcy5wbGF5SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudnAtaWNvbi1wbGF5XCIpO1xyXG4gICAgdGhpcy5wYXVzZUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnZwLWljb24tcGF1c2VcIik7XHJcbiAgICB0aGlzLnZpZGVvSW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudmlkZW8taW5mb1wiKTtcclxuICAgIHRoaXMuc3BsYXNoU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zcGxhc2gtc2NyZWVuXCIpO1xyXG4gICAgdGhpcy50aHVtYm5haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RodW1ibmFpbFwiKTtcclxuICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcclxuICB9XHJcbiAgc2V0Q2FzdERlYnVnZ2VyKGNhc3REZWJ1Z2dlcikge1xyXG4gICAgdGhpcy5jYXN0RGVidWdnZXIgPSBjYXN0RGVidWdnZXI7XHJcbiAgICB0aGlzLnNlZWtiYXIuc2V0Q2FzdERlYnVnZ2VyKHRoaXMuY2FzdERlYnVnZ2VyKTtcclxuICB9XHJcbiAgcGF1c2UoKSB7XHJcbiAgICB0aGlzLnBhdXNlSWNvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB0aGlzLnBsYXlJY29uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5wbGF5SWNvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9LCAyMDAwKTtcclxuICB9XHJcbiAgcGxheSgpIHtcclxuICAgIHRoaXMucGxheUljb24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgdGhpcy5wYXVzZUljb24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLnBhdXNlSWNvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9LCAyMDAwKTtcclxuICB9XHJcbiAgdXBkYXRlKHN0YXRlKSB7XHJcbiAgICB0aGlzLnNlZWtiYXIuc2V0UHJvZ3Jlc3Moc3RhdGUuY3VycmVudFRpbWUsIHN0YXRlLmR1cmF0aW9uKTtcclxuICAgIHRoaXMudGltZXIudXBkYXRlKHN0YXRlLmN1cnJlbnRUaW1lLCBzdGF0ZS5kdXJhdGlvbik7XHJcbiAgfVxyXG4gIGhpZGVDb250cm9scyh0aW1lKSB7XHJcbiAgICB0aGlzLnNob3cgPSBmYWxzZTtcclxuICAgIHRoaXMuc2hvd0hpZGUodGltZSB8fCA1MDAwKTtcclxuICB9XHJcbiAgc2hvd0NvbnRyb2xzKCkge1xyXG4gICAgdGhpcy5zaG93ID0gdHJ1ZTtcclxuICAgIHRoaXMuc2hvd0hpZGUoMTApO1xyXG4gIH1cclxuICByZXNldE92ZXJsYXkoKSB7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5zZWVrYmFyLnJlc2V0KCk7XHJcblxyXG4gICAgICB0aGlzLmluZm8uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfSwgMzAwMCk7XHJcbiAgfVxyXG4gIHNob3dIaWRlKHRpbWluZykge1xyXG4gICAgLy8gdGhpcy5jYXN0ZGVidWdnZXIuZGVidWcoXCJzaG93SGlkZVwiLCBgJHt0aW1pbmd9ICR7dGhpcy5zaG93fWApO1xyXG4gICAgaWYgKHRoaXMuc2hvdykge1xyXG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgfSwgdGltaW5nKTtcclxuICAgIH1cclxuICB9XHJcbiAgaW5pdE92ZXJsYXkobWV0YWRhdGEpIHtcclxuICAgIHRoaXMuc3BsYXNoU2NyZWVuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHRoaXMub3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKG1ldGFkYXRhLmltYWdlcy5sZW5ndGggPiAwICYmIG1ldGFkYXRhKSB7XHJcbiAgICAgICAgdGhpcy50aHVtYm5haWwuc3JjID0gbWV0YWRhdGEuaW1hZ2VzWzBdLnVybDtcclxuICAgICAgICB0aGlzLnZpZGVvSW5mby5jaGlsZHJlblswXS50ZXh0Q29udGVudCA9IG1ldGFkYXRhLnRpdGxlO1xyXG4gICAgICAgIHRoaXMudmlkZW9JbmZvLmNoaWxkcmVuWzFdLnRleHRDb250ZW50ID0gbWV0YWRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zZWVrYmFyLmFuaW1hdGVTZWVrYmFyKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge31cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlY2VpdmVyQ29udHJvbHM7XHJcbiIsImltcG9ydCBVdGlscyBmcm9tIFwiLi4vaGVscGVycy9VdGlsc1wiO1xyXG5cclxuY2xhc3MgVGltZXIge1xyXG4gIGNvbnN0cnVjdG9yKGlkKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlkKTtcclxuICAgIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCA9IFwiMDA6MDAgLyAwMDowMFwiO1xyXG4gIH1cclxuICB1cGRhdGUoY3VycmVudFRpbWUsIGR1cmF0aW9uKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHtVdGlscy5mb3JtYXRUaW1lKFxyXG4gICAgICBjdXJyZW50VGltZVxyXG4gICAgKX0gLyR7VXRpbHMuZm9ybWF0VGltZShkdXJhdGlvbil9YDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRpbWVyO1xyXG4iLCJjbGFzcyBWYXN0U2VydmljZSB7XHJcbiAgc3RhdGljIERFQlVHX1ZBU1RfU0VSVklDRSA9IFwiREVCVUdfVkFTVF9TRVJWSUNFXCI7XHJcbiAgY29uc3RydWN0b3IocmVjZWl2ZXIpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcclxuICAgIHRoaXMuYWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkQ29udGFpbmVyXCIpO1xyXG4gICAgdGhpcy5hZHNEaXNwbGF5Q29udGFpbmVyID0gbnVsbDtcclxuICAgIHRoaXMuYWRzTG9hZGVyID0gbnVsbDtcclxuICAgIHRoaXMuYWRzRGlzcGxheUluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmN1cnJlbnRBZHMgPSBudWxsO1xyXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5hdXRvcGxheUFsbG93ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuYXV0b3BsYXlSZXF1aXJlc011dGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmhhc0Vycm9ycyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgZ29vZ2xlLmltYS5zZXR0aW5ncy5zZXRWcGFpZE1vZGUoXHJcbiAgICAgIGdvb2dsZS5pbWEuSW1hU2RrU2V0dGluZ3MuVnBhaWRNb2RlLkVOQUJMRURcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5hZHNEaXNwbGF5Q29udGFpbmVyID0gbmV3IGdvb2dsZS5pbWEuQWREaXNwbGF5Q29udGFpbmVyKFxyXG4gICAgICB0aGlzLmFkQ29udGFpbmVyLFxyXG4gICAgICB0aGlzLnJlY2VpdmVyLnZpZGVvXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNMb2FkZXIgPSBuZXcgZ29vZ2xlLmltYS5BZHNMb2FkZXIodGhpcy5hZHNEaXNwbGF5Q29udGFpbmVyKTtcclxuICAgIHRoaXMuYWRzTG9hZGVyLmdldFNldHRpbmdzKCkuc2V0UGxheWVyVHlwZShcImNhc3QvY2xpZW50LXNpZGVcIik7XHJcbiAgICB0aGlzLmFkc0xvYWRlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkc01hbmFnZXJMb2FkZWRFdmVudC5UeXBlLkFEU19NQU5BR0VSX0xPQURFRCxcclxuICAgICAgdGhpcy5vbkFkc01hbmFnZXJMb2FkZWQuYmluZCh0aGlzKSxcclxuICAgICAgZmFsc2VcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5hZHNMb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEVycm9yRXZlbnQuVHlwZS5BRF9FUlJPUixcclxuICAgICAgdGhpcy5vbkFkRXJyb3IsXHJcbiAgICAgIGZhbHNlXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb25BbGxBZHNDb21wbGV0ZWQoZSkge1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCJhZCBjb21wbGV0ZWRcIlxyXG4gICAgKTtcclxuICB9XHJcbiAgb25BZENvbXBsZXRlZChlKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcImFkIGNvbXBsZXRlZFwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmRlc3Ryb3koKTtcclxuICAgIGlmICghdGhpcy5oYXNFcnJvcnMgJiYgdGhpcy5yZWNlaXZlci5pc0FkUGxheWluZykgdGhpcy5yZWNlaXZlci5vbkVuZCgpO1xyXG4gICAgLy8gdGhpcy5hZHNNYW5hZ2VyLmRlc3Ryb3koKTtcclxuICAgIC8vIHRoaXMucmVjZWl2ZXIucGxheWVyTWFuYWdlci5zYGV0TWVkaWFFbGVtZW50KHRoaXMudmlkZW8pO1xyXG4gIH1cclxuICBvbkNvbnRlbnRQYXVzZVJlcXVlc3RlZChlKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIkNvbnRlbnQgUGF1c2UgUmVxdWVzdFwiXHJcbiAgICApO1xyXG4gIH1cclxuICBvbkNvbnRlbnRSZXN1bWVSZXF1ZXN0ZWQoKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIkNvbnRlbnQgUmVzdW1lIFJlcXVlc3RcIlxyXG4gICAgKTtcclxuICB9XHJcbiAgb25BZExvYWRlZChlKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIkFkIGxvYWRlZFwiXHJcbiAgICApO1xyXG4gIH1cclxuICBsb2FkQWRzKHZhc3RVcmwsIHZhc3RYbWwpIHtcclxuICAgIHRoaXMuY3VycmVudEFkcyA9IHt9O1xyXG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XHJcbiAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCJsb2FkIFwiICsgdmFzdFVybFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodmFzdFVybCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRBZHMuY29udGVudCA9IHZhc3RVcmw7XHJcbiAgICAgIHRoaXMuY3VycmVudEFkcy50eXBlID0gXCJ1cmxcIjtcclxuICAgIH0gZWxzZSBpZiAodmFzdFhtbCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRBZHMuY29udGVudCA9IHZhc3RYbWw7XHJcbiAgICAgIHRoaXMuY3VycmVudEFkcy50eXBlID0gXCJ4bWxcIjtcclxuICAgIH1cclxuICAgIHRoaXMuY3VycmVudEFkcy5jdXJyZW50QWRJbmRleCA9IDA7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UpO1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEFkcy50eXBlID09PSBcInVybFwiKSB0aGlzLmxvYWQodGhpcy5jdXJyZW50QWRzLmNvbnRlbnQpO1xyXG4gICAgZWxzZSB0aGlzLmxvYWQobnVsbCwgdGhpcy5jdXJyZW50QWRzLmNvbnRlbnQpO1xyXG4gIH1cclxuICBsb2FkKHZhc3RVcmwsIHZhc3RYbWwpIHtcclxuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkgdGhpcy5pbml0KCk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIkluaXRpYWxpemVkXCIgKyB0aGlzLnZhc3RVcmxcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5hZHNSZXF1ZXN0ID0gbmV3IGdvb2dsZS5pbWEuQWRzUmVxdWVzdCgpO1xyXG4gICAgaWYgKHZhc3RVcmwpIHtcclxuICAgICAgdGhpcy5hZHNSZXF1ZXN0LmFkVGFnVXJsID0gdmFzdFVybDtcclxuICAgIH0gZWxzZSBpZiAodmFzdFhtbCkge1xyXG4gICAgICB0aGlzLmFkc1JlcXVlc3QuYWRzUmVzcG9uc2UgPSB2YXN0WG1sO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYWRzUmVxdWVzdC5saW5lYXJBZFNsb3RXaWR0aCA9IHRoaXMucmVjZWl2ZXIudmlkZW8uY2xpZW50V2lkdGg7XHJcbiAgICB0aGlzLmFkc1JlcXVlc3QubGluZWFyQWRTbG90SGVpZ2h0ID0gdGhpcy5yZWNlaXZlci52aWRlby5jbGllbnRIZWlnaHQ7XHJcbiAgICB0aGlzLmFkc1JlcXVlc3Qubm9uTGluZWFyQWRTbG90V2lkdGggPSB0aGlzLnJlY2VpdmVyLnZpZGVvLmNsaWVudFdpZHRoO1xyXG4gICAgdGhpcy5hZHNSZXF1ZXN0Lm5vbkxpbmVhckFkU2xvdEhlaWdodCA9XHJcbiAgICAgIHRoaXMucmVjZWl2ZXIudmlkZW8uY2xpZW50SGVpZ2h0IC8gMztcclxuXHJcbiAgICB0aGlzLmFkc1JlcXVlc3Quc2V0QWRXaWxsQXV0b1BsYXkodGhpcy5hdXRvcGxheUFsbG93ZWQpO1xyXG4gICAgdGhpcy5hZHNSZXF1ZXN0LnNldEFkV2lsbFBsYXlNdXRlZCh0aGlzLmF1dG9wbGF5UmVxdWlyZXNNdXRlZCk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcIm9rZWogZSBxaXR5IHByYVwiLCBcIkFzZGZcIik7XHJcblxyXG4gICAgdGhpcy5hZHNSZXF1ZXN0LnZhc3RMb2FkVGltZW91dCA9IDgwMDA7XHJcbiAgICB0aGlzLmFkc0xvYWRlci5yZXF1ZXN0QWRzKHRoaXMuYWRzUmVxdWVzdCk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcIm9rZWogZSBxaXR5IHByYVwiLCBcIkFzZGYxMjNcIik7XHJcbiAgfVxyXG4gIG9uVGltZVVwZGF0ZSgpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIE9OIFRJTUUgVVBEQVRFXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIG9uQWRTa2lwKGUpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiT04gQUQgU2tpXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIG9uQWRTdGFydGVkKGUpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiT04gQUQgU1RBUlRFRFwiXHJcbiAgICApO1xyXG4gIH1cclxuICBvbkFkc01hbmFnZXJMb2FkZWQoYWRzTWFuYWdlckxvYWRlZEV2ZW50KSB7XHJcbiAgICBpZiAodGhpcy5hZHNNYW5hZ2VyKSB7XHJcbiAgICAgIHRoaXMuYWRzTWFuYWdlci5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBiZWZvcmUgZ2V0YWRzbWFuYWdlclwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgYWRzUmVuZGVyaW5nU2V0dGluZ3MgPSBuZXcgZ29vZ2xlLmltYS5BZHNSZW5kZXJpbmdTZXR0aW5ncygpO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyID0gYWRzTWFuYWdlckxvYWRlZEV2ZW50LmdldEFkc01hbmFnZXIoXHJcbiAgICAgIHRoaXMucmVjZWl2ZXIudmlkZW8sXHJcbiAgICAgIGFkc1JlbmRlcmluZ1NldHRpbmdzXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWZ0ZXIgZ2V0YWRzbWFuYWdlclwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRFcnJvckV2ZW50LlR5cGUuQURfRVJST1IsXHJcbiAgICAgIHRoaXMub25BZEVycm9yLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBhZnRlciBvbmFkZXJyb3JcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1BBVVNFX1JFUVVFU1RFRCxcclxuICAgICAgdGhpcy5vbkNvbnRlbnRQYXVzZVJlcXVlc3RlZC5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWZ0ZXIgb25Db250ZW50UGF1c2VSZXF1ZXN0ZWRcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1JFU1VNRV9SRVFVRVNURUQsXHJcbiAgICAgIHRoaXMub25Db250ZW50UmVzdW1lUmVxdWVzdGVkLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBhZnRlciBvbkFsbEFkc0NvbXBsZXRlZFwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFMTF9BRFNfQ09NUExFVEVELFxyXG4gICAgICB0aGlzLm9uQWxsQWRzQ29tcGxldGVkLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnJlY2VpdmVyLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICBcIiBhZnRlciBvbkFkTG9hZGVkXCJcclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuTE9BREVELFxyXG4gICAgICB0aGlzLm9uQWRMb2FkZWQuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGFmdGVyIG9uQWRTdGFydGVkXCJcclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuU1RBUlRFRCxcclxuICAgICAgdGhpcy5vbkFkU3RhcnRlZC5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWZ0ZXIgb25BZENvbXBsZXRlZFwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTVBMRVRFLFxyXG4gICAgICB0aGlzLm9uQWRDb21wbGV0ZWQuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGFmdGVyIG9uQ29udGVudFBhdXNlUmVxdWVzdGVkXCJcclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuU0tJUFBFRCxcclxuICAgICAgdGhpcy5vbkFkU2tpcC5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCIgYWZ0ZXIgb25BZFNraXBcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BRF9QUk9HUkVTUyxcclxuICAgICAgdGhpcy5vblRpbWVVcGRhdGUuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGFmdGVyIG9uVGltZVVwZGF0ZVwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZHNNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFEX0JVRkZFUklORyxcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICB0aGlzLmFkc01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuU0tJUFBBQkxFX1NUQVRFX0NIQU5HRUQsXHJcbiAgICAgICgpID0+IHtcclxuICAgICAgICBVdGlscy5maXJlKHRoaXMuYWRDb250YWluZXIsIEV2ZW50cy5hZEV2ZW50cy5BRF9TS0lQUEFCTEUsIHtcclxuICAgICAgICAgIGN1cnJlbnRUaW1lOiB0aGlzLnBsYXllci52aWRlby5jdXJyZW50VGltZSxcclxuICAgICAgICAgIGFkUGxheUlkOiB0aGlzLmFkc01hbmFnZXIuZ2V0Q3VycmVudEFkKCk/LmdldEFkSWQoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGp1c3QgYmVmb3JlIHBsYXlpbmcgYWRcIlxyXG4gICAgKTtcclxuICAgIHRoaXMucGxheUFkcygpO1xyXG4gIH1cclxuICBwbGF5QWRzKCkge1xyXG4gICAgaWYgKCF0aGlzLmFkc0Rpc3BsYXlJbml0aWFsaXplZCkge1xyXG4gICAgICB0aGlzLmFkc0Rpc3BsYXlDb250YWluZXIuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICB0aGlzLmFkc0Rpc3BsYXlJbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMucmVjZWl2ZXIudmlkZW8uY2xpZW50V2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnJlY2VpdmVyLnZpZGVvLmNsaWVudEhlaWdodDtcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMucmVjZWl2ZXIuaXNBZFBsYXlpbmcgPSB0cnVlO1xyXG4gICAgICB0aGlzLmFkc01hbmFnZXIuaW5pdCh3aWR0aCwgaGVpZ2h0LCBnb29nbGUuaW1hLlZpZXdNb2RlLkZVTExTQ1JFRU4pO1xyXG4gICAgICB0aGlzLmFkc01hbmFnZXIuc3RhcnQoKTtcclxuICAgICAgdGhpcy5yZWNlaXZlci5yZWNlaXZlckNvbnRyb2xzLmxvYWRlci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9IGNhdGNoIChhZEVycm9yKSB7XHJcbiAgICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICAgIHRoaXMuVmFzdFNlcnZpY2UuREVCVUdfVkFTVF9TRVJWSUNFLFxyXG4gICAgICAgIFwiQWRzTWFuYWdlciBjb3VsZCBub3QgYmUgc3RhcnRlZFwiICsgYWRFcnJvci5nZXRNZXNzYWdlKClcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcbiAgb25BZEVycm9yKGUpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiIGFkIGVycm9yXCIgKyBlXHJcbiAgICApO1xyXG4gICAgdGhpcy5oYXNFcnJvcnMgPSB0cnVlO1xyXG4gICAgdGhpcy5yZWNlaXZlci5vbkVuZCgpLmJpbmQodGhpcy5yZWNlaXZlcik7XHJcbiAgfVxyXG4gIHJlc3VtZSgpIHtcclxuICAgIHRoaXMucmVjZWl2ZXIuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBWYXN0U2VydmljZS5ERUJVR19WQVNUX1NFUlZJQ0UsXHJcbiAgICAgIFwiUkVTVU1JTkcgQUQgRXZlbnRcIlxyXG4gICAgKTtcclxuICAgIGlmICghdGhpcy5hZHNNYW5hZ2VyKSByZXR1cm47XHJcbiAgICB0aGlzLmFkc01hbmFnZXIucmVzdW1lKCk7XHJcbiAgfVxyXG4gIHBhdXNlKCkge1xyXG4gICAgdGhpcy5yZWNlaXZlci5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIFZhc3RTZXJ2aWNlLkRFQlVHX1ZBU1RfU0VSVklDRSxcclxuICAgICAgXCJQQVVTRSBBRCBFdmVudFwiXHJcbiAgICApO1xyXG4gICAgaWYgKCF0aGlzLmFkc01hbmFnZXIpIHJldHVybjtcclxuICAgIHRoaXMuYWRzTWFuYWdlci5wYXVzZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmFzdFNlcnZpY2U7XHJcbiIsImltcG9ydCBSZWNlaXZlciBmcm9tIFwiLi9tb2RlbHMvcmVjZWl2ZXJcIjtcclxuXHJcbi8vYSBib29sZWFuIHRlbGxpbmcgd2hldGhlciBITFMgaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyXHJcbnZwUmVjZWl2ZXIuSExTc3VwcG9ydGVkID0gZmFsc2U7XHJcblxyXG5mdW5jdGlvbiB2cFJlY2VpdmVyKGlkLCBjb25maWcpIHtcclxuICBsZXQgcmVjZWl2ZXIgPSBuZXcgUmVjZWl2ZXIoaWQsIGNvbmZpZyk7XHJcbiAgcmVjZWl2ZXIuaW5pdCgpO1xyXG4gIHZwUmVjZWl2ZXIucmVjZWl2ZXIgPSByZWNlaXZlcjtcclxuICByZXR1cm4gcmVjZWl2ZXI7XHJcbn1cclxuXHJcbndpbmRvdy52cFJlY2VpdmVyID0gdnBSZWNlaXZlcjtcclxuIiwiaW1wb3J0IGhsc2NvbmZpZyBmcm9tIFwiLi4vY29uZmlnL2hsc0NvbmZpZ1wiO1xyXG5pbXBvcnQgUmVjZWl2ZXJDb250cm9scyBmcm9tIFwiLi9yZWNlaXZlci1jb250cm9sc1wiO1xyXG5pbXBvcnQgVmFzdFNlcnZpY2UgZnJvbSBcIi4vdmFzdFNlcnZpY2VcIjtcclxuY2xhc3MgUmVjZWl2ZXIge1xyXG4gIGNvbnN0cnVjdG9yKGlkLCBjb25maWcpIHtcclxuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XHJcbiAgICB0aGlzLnBsYXllck1hbmFnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5hcHBJZCA9IGNvbmZpZy5hcHBJZDtcclxuICAgIHRoaXMudmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlkKTtcclxuICAgIHRoaXMucGxheWJhY2tDb25maWcgPSBudWxsO1xyXG4gICAgdGhpcy5jb250cm9scyA9IG51bGw7XHJcbiAgICB0aGlzLmhscyA9IG51bGw7XHJcbiAgICB0aGlzLnZpZGVvT2JqZWN0ID0ge307XHJcbiAgICB0aGlzLnZpZGVvQ29udGFpbmVyID0gdGhpcy52aWRlby5wYXJlbnRFbGVtZW50O1xyXG4gICAgdGhpcy5wbGF5YmFja1JhdGUgPSAxO1xyXG4gICAgdGhpcy5hdXRvcGxheSA9IGZhbHNlO1xyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzID0gbmV3IFJlY2VpdmVyQ29udHJvbHMoXCIuY29udHJvbHNcIiwgdGhpcyk7XHJcbiAgICB0aGlzLm1lZGlhTWFuYWdlciA9IG51bGw7XHJcbiAgICB0aGlzLmNhc3RSZWNlaXZlck1hbmFnZXIgPSBudWxsO1xyXG4gICAgdGhpcy52aWRlb1N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMudmFzdFNlcnZpY2UgPSBuZXcgVmFzdFNlcnZpY2UodGhpcyk7XHJcbiAgICB0aGlzLmNvbmZpZyA9IHt9O1xyXG4gICAgdGhpcy5hZHMgPSBbXTtcclxuICAgIHRoaXMuZGVidWdUYWdzID0ge1xyXG4gICAgICBMT0FEX1JFUVVFU1Q6IFwiTE9BRF9SRVFVRVNUXCIsXHJcbiAgICAgIEFUVEFDSF9NRURJQTogXCJBVFRBQ0hfTUVESUFcIixcclxuICAgICAgT05QTEFZOiBcIk9OX1BMQVlcIixcclxuICAgICAgU1RBUlQ6IFwiU1RBUlRcIixcclxuICAgICAgSU5JVDogXCJJTklUXCIsXHJcbiAgICAgIEVWRU5UUzogXCJFVkVOVFNcIixcclxuICAgICAgT05FTkQ6IFwiT05FTkRcIixcclxuICAgICAgQlJPQURDQVNUOiBcIkJST0FEQ0FTVFwiLFxyXG4gICAgfTtcclxuICAgIHRoaXMuaXNBZFBsYXlpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuTkFNRVNQQUNFID0gXCJ1cm46eC1jYXN0OnRlY2guZ2ppcmFmYS52cC1zZXJ2aWNlXCI7XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMgPSBuZXcgUmVjZWl2ZXJDb250cm9scyhcIi5jb250cm9sc1wiLCB0aGlzKTtcclxuICB9XHJcbiAgc3RhcnQoKSB7XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMucmVzZXRPdmVybGF5KCk7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1Zyh0aGlzLmRlYnVnVGFncy5TVEFSVCwgXCJTdGFydGluZyB2aWRlby4uLlwiKTtcclxuICAgIHRoaXMub25QbGF5KCk7XHJcbiAgfVxyXG5cclxuICBvblBsYXkoKSB7XHJcbiAgICAvLyByZXR1cm4gdGhpcy5wbGF5ZXJNYW5hZ2VyLnBsYXkoKTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwib24gcGxheVwiLCB0aGlzLnZpZGVvLmdldEF0dHJpYnV0ZShcInNyY1wiKSk7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImlzYWRwbGF5aW5nXCIsIHRoaXMuaXNBZFBsYXlpbmcpO1xyXG4gICAgaWYgKCF0aGlzLmlzQWRQbGF5aW5nKSB7XHJcbiAgICAgIHRoaXMudmlkZW9cclxuICAgICAgICAucGxheSgpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCF0aGlzLnZpZGVvU3RhcnRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuc2hvd0NvbnRyb2xzKCk7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9TdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy5wbGF5KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuaGlkZUNvbnRyb2xzKDYwMDApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLm9uUGF1c2UoKTtcclxuICAgICAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICAgICAgICB0aGlzLmRlYnVnVGFncy5PTlBMQVksXHJcbiAgICAgICAgICAgIFwiIENvdWxkbid0IHBsYXkgdmlkZW8uVHJpbmcgb25lIG1vcmUgdGltZSBcIiArIGVcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICB0aGlzLmJyb2FkY2FzdChcclxuICAgICAgICAgICAgXCIgQ291bGRuJ3QgcGxheSB2aWRlby5UcmluZyBvbmUgbW9yZSB0aW1lIFwiICsgZS50b1N0cmluZygpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHRoaXMudmFzdFNlcnZpY2UucmVzdW1lKCk7XHJcbiAgfVxyXG4gIG9uUGF1c2UoKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNBZFBsYXlpbmcpIHRoaXMudmlkZW8ucGF1c2UoKTtcclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnZhc3RTZXJ2aWNlLnBhdXNlKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMucGF1c2UoKTtcclxuICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy5zaG93Q29udHJvbHMoKTtcclxuICB9XHJcbiAgYWRkUGxheWVyRXZlbnRzKCkge1xyXG4gICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLCB0aGlzLm9uVGltZVVwZGF0ZSk7XHJcbiAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCB0aGlzLm9uRW5kLmJpbmQodGhpcykpO1xyXG4gIH1cclxuICBicm9hZGNhc3QobWVzc2FnZSkge1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcodGhpcy5kZWJ1Z1RhZ3MuQlJPQURDQVNULCBtZXNzYWdlKTtcclxuICAgIGlmICh0aGlzLmNvbnRleHQpXHJcbiAgICAgIHRoaXMuY29udGV4dC5zZW5kQ3VzdG9tTWVzc2FnZSh0aGlzLk5BTUVTUEFDRSwgdW5kZWZpbmVkLCBtZXNzYWdlKTtcclxuICB9XHJcbiAgb25FbmQoKSB7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcIm9uIEVuZFwiLCB0aGlzLmNvbmZpZy5yZXBsYXkpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHRoaXMuaXNBZFBsYXlpbmcpIHtcclxuICAgICAgICB0aGlzLmJyb2FkY2FzdCh7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIkFkIGZpbmlzaGVkXCIsXHJcbiAgICAgICAgICBjb2RlOiAyLFxyXG4gICAgICAgICAgdGltZTogdGhpcy5jdXJyZW50VGltZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmlzQWRQbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJNYW5hZ2VyLnNldE1lZGlhRWxlbWVudCh0aGlzLnZpZGVvKTtcclxuICAgICAgICB0aGlzLmF0dGFjaE1lZGlhKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5icm9hZGNhc3Qoe1xyXG4gICAgICAgICAgbWVzc2FnZTogXCJWaWRlbyBmaW5pc2hlZFwiLFxyXG4gICAgICAgICAgY29kZTogMyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZXJyb3IoXHJcbiAgICAgICAgdGhpcy5kZWJ1Z1RhZ3MuT05FTkQsXHJcbiAgICAgICAgXCIgRXJyb3JcIiArIGVycm9yLnRvU3RyaW5nKClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gICAgLy8gdGhpcy5hdHRhY2hNZWRpYSgpO1xyXG4gIH1cclxuICBvblRpbWVVcGRhdGUoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5hZHMuYWRDdWVQb2ludHMuaW5jbHVkZXMoTWF0aC5mbG9vcih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lKSkgJiZcclxuICAgICAgICAhdGhpcy5pc0FkUGxheWluZ1xyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLm9uUGF1c2UoKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGhpcy52aWRlby5jdXJyZW50VGltZTtcclxuICAgICAgICB0aGlzLnZhc3RTZXJ2aWNlLmxvYWRBZHModGhpcy5hZHMudmFzdHNbMF1bMF0sIHRoaXMuYWRzLnZhc3RzWzBdWzFdKTtcclxuICAgICAgICB0aGlzLmlzQWRQbGF5aW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFkcy52YXN0cy5wb3AoKTtcclxuICAgICAgICB0aGlzLmFkcy5hZEN1ZVBvaW50cy5wb3AoKTtcclxuICAgICAgICAvLyB0aGlzLmhscy5kZXN0cm95KCk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHt9XHJcblxyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLnVwZGF0ZSh0aGlzLnVwZGF0ZVBsYXllclN0YXRlKCkpO1xyXG4gIH1cclxuICB1cGRhdGVQbGF5ZXJTdGF0ZSgpIHtcclxuICAgIHRoaXMuYnJvYWRjYXN0KFxyXG4gICAgICBcInRpbWUgXCIgK1xyXG4gICAgICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgK1xyXG4gICAgICAgIFwiIGR1cmF0aW9uIFwiICtcclxuICAgICAgICB0aGlzLnZpZGVvT2JqZWN0LmR1cmF0aW9uIHx8IHRoaXMudmlkZW9PYmplY3QuZHVyYXRpb25cclxuICAgICk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjdXJyZW50VGltZTogdGhpcy52aWRlby5jdXJyZW50VGltZSxcclxuICAgICAgZHVyYXRpb246IHRoaXMudmlkZW9PYmplY3QuZHVyYXRpb24gfHwgdGhpcy52aWRlby5kdXJhdGlvbixcclxuICAgIH07XHJcbiAgfVxyXG4gIGF0dGFjaE1lZGlhKCkge1xyXG4gICAgdnBSZWNlaXZlci5ITFNzdXBwb3J0ZWQgPSBIbHMuaXNTdXBwb3J0ZWQoKTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiaW5zaWRlIGF0dGFjaCBtZWRpYVwiLCB2cFJlY2VpdmVyLkhMU3N1cHBvcnRlZCk7XHJcbiAgICB0aGlzLnZpZGVvLnBsYXliYWNrUmF0ZSA9IDE7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgXCJ2aWRlbyBmaWxlXCIsXHJcbiAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMudmlkZW8sIFtcImlkXCIsIFwiY2xhc3NOYW1lXCIsIFwidGFnTmFtZVwiXSlcclxuICAgICk7XHJcbiAgICBpZiAodGhpcy52aWRlb09iamVjdC5maWxlLmVuZHNXaXRoKFwibXA0XCIpKSB7XHJcbiAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiaW5zaWRlIG1wNFwiLCB0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG4gICAgICB0aGlzLnZpZGVvLnNyYyA9IHRoaXMudmlkZW9PYmplY3QuZmlsZTtcclxuICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgfSBlbHNlIGlmICh2cFJlY2VpdmVyLkhMU3N1cHBvcnRlZCkge1xyXG4gICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImluc2lkZSBobHNzdXBwb3J0ZWRcIiwgdGhpcy52aWRlb09iamVjdC5maWxlKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB0aGlzLmhscyA9IG5ldyBIbHMoKTtcclxuICAgICAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcImhscyBpbml0aWFsaXplZFwiLCB0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRUaW1lID4gMCkgdGhpcy52aWRlby5jdXJyZW50VGltZSA9IHRoaXMuY3VycmVudFRpbWU7XHJcbiAgICAgICAgdGhpcy5obHMuYXR0YWNoTWVkaWEodGhpcy52aWRlbyk7XHJcbiAgICAgICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJhdHRhY2hlZCBtZWRpYVwiLCB0aGlzLnZpZGVvT2JqZWN0LmZpbGUpO1xyXG4gICAgICAgIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuTUVESUFfQVRUQUNIRUQsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiYW1lZGlhIGF0dGFjaGVkXCIsIHRoaXMudmlkZW9PYmplY3QuZmlsZSk7XHJcbiAgICAgICAgICB0aGlzLmhscy5zdGFydExldmVsID0gMDtcclxuICAgICAgICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICAgICAgICBcImxvYWRpbmcgc291cmNlIGhsc3N1cHBvcnRlZFwiLFxyXG4gICAgICAgICAgICB0aGlzLnZpZGVvT2JqZWN0LmZpbGVcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICB0aGlzLmhscy5sb2FkU291cmNlKHRoaXMudmlkZW9PYmplY3QuZmlsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5obHMub24oSGxzLkV2ZW50cy5NQU5JRkVTVF9QQVJTRUQsIChldmVudCwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuRVJST1IsIChldmVudCwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXCJITFMgIEVSUk9SXCIsIGRhdGEuZGV0YWlscyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxyXG5cclxuICAgICAgLy8gdGhpcy5obHMub24oSGxzLkV2ZW50cy5FUlJPUiwgKGV2ZW50LCBkYXRhKSA9PiB7XHJcbiAgICAgIC8vICAgaWYgKGRhdGEuZGV0YWlscyA9PT0gXCJtYW5pZmVzdExvYWRFcnJvclwiKSB7XHJcbiAgICAgIC8vICAgICB0aGlzLnZpZGVvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3Nlcy5lZmZlY3RzLmhpZGVDb250ZW50KTtcclxuICAgICAgLy8gICAgIHRoaXMudmlkZW9Db250YWluZXIuY2xhc3NMaXN0LmFkZChjc3NDbGFzc2VzLmVmZmVjdHMuc2hvd0Vycm9yKTtcclxuICAgICAgLy8gICB9XHJcblxyXG4gICAgICAvLyAgIGlmIChkYXRhLmRldGFpbHMgPT09IFwibWFuaWZlc3RMb2FkVGltZU91dFwiKSB7XHJcbiAgICAgIC8vICAgICB0aGlzLnZpZGVvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3Nlcy5lZmZlY3RzLmhpZGVDb250ZW50KTtcclxuICAgICAgLy8gICAgIHRoaXMudmlkZW9Db250YWluZXIuY2xhc3NMaXN0LmFkZChjc3NDbGFzc2VzLmVmZmVjdHMuc2hvd0Vycm9yKTtcclxuICAgICAgLy8gICB9XHJcblxyXG4gICAgICAvLyAgIGlmIChkYXRhLmRldGFpbHMgPT09IFwibWFuaWZlc3RQYXJzaW5nRXJyb3JcIikge1xyXG4gICAgICAvLyAgICAgdGhpcy52aWRlb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzZXMuZWZmZWN0cy5oaWRlQ29udGVudCk7XHJcbiAgICAgIC8vICAgICB0aGlzLnZpZGVvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3Nlcy5lZmZlY3RzLnNob3dFcnJvcik7XHJcbiAgICAgIC8vICAgfVxyXG5cclxuICAgICAgLy8gICBpZiAoZGF0YS5kZXRhaWxzID09PSBcImxldmVsTG9hZEVycm9yXCIpIHtcclxuICAgICAgLy8gICAgIHRoaXMucmVtb3ZlTGV2ZWwoZGF0YS5jb250ZXh0LmxldmVsKTtcclxuICAgICAgLy8gICB9XHJcblxyXG4gICAgICAvLyAgIGlmIChkYXRhLmRldGFpbHMgPT09IFwiZnJhZ0xvYWRFcnJvclwiKSB7XHJcbiAgICAgIC8vICAgICB0aGlzLmZyYWdFcnJvckNvdW50Kys7XHJcbiAgICAgIC8vICAgICAvLyBzbiByZWZlcmVzIHRvIHNlcXVlbmNlIG51bWJlclxyXG4gICAgICAvLyAgICAgaWYgKGRhdGEuZnJhZy5zbiA9PSAwKSB0aGlzLmZhaWxlZFRvTG9hZEZpcnN0RnJhZ21lbnQgPSB0cnVlO1xyXG4gICAgICAvLyAgIH1cclxuXHJcbiAgICAgIC8vICAgaWYgKHRoaXMubGV2ZWxIYXNNaXNzaW5nRnJhZ21lbnRzKCkpIHtcclxuICAgICAgLy8gICAgIHRoaXMuZnJhZ0Vycm9yQ291bnQgPSAwO1xyXG4gICAgICAvLyAgICAgdGhpcy5yZW1vdmVMZXZlbChkYXRhLmZyYWcubGV2ZWwpO1xyXG4gICAgICAvLyAgICAgdGhpcy5obHMubG9hZExldmVsID0gLTE7XHJcbiAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIk5ldHdvcmsgZXJyb3IgZW5jb3VudGVyZWRcIik7XHJcbiAgICAgIC8vICAgfVxyXG5cclxuICAgICAgLy8gICBpZiAodGhpcy5mYWlsZWRUb0xvYWRGaXJzdEZyYWdtZW50KSB7XHJcbiAgICAgIC8vICAgICB0aGlzLmZhaWxlZFRvTG9hZEZpcnN0RnJhZ21lbnQgPSBmYWxzZTtcclxuICAgICAgLy8gICAgIHRoaXMucmVtb3ZlTGV2ZWwoZGF0YS5mcmFnLmxldmVsKTtcclxuICAgICAgLy8gICAgIHRoaXMuaGxzLmxvYWRMZXZlbCA9IC0xO1xyXG4gICAgICAvLyAgICAgdGhpcy5vblBsYXkoKTtcclxuICAgICAgLy8gICAgIGNvbnNvbGUubG9nKFwiTmV0d29yayBlcnJvciBlbmNvdW50ZXJlZFwiKTtcclxuICAgICAgLy8gICB9XHJcblxyXG4gICAgICAvLyAgIGlmICghZGF0YS5mYXRhbCkge1xyXG4gICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAvLyAgIH1cclxuXHJcbiAgICAgIC8vICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgLy8gICAgIGNhc2UgSGxzLkVycm9yVHlwZXMuTkVUV09SS19FUlJPUjpcclxuICAgICAgLy8gICAgICAgY29uc29sZS5sb2coXCJmYXRhbCBuZXR3b3JrIGVycm9yIGVuY291bnRlcmVkXCIpO1xyXG4gICAgICAvLyAgICAgICB0aGlzLmhscy5zdGFydExvYWQoKTtcclxuICAgICAgLy8gICAgICAgYnJlYWs7XHJcbiAgICAgIC8vICAgICBjYXNlIEhscy5FcnJvclR5cGVzLk1FRElBX0VSUk9SOlxyXG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhcImZhdGFsIG1lZGlhIGVycm9yIGVuY291bnRlcmVkXCIpO1xyXG4gICAgICAvLyAgICAgICB0aGlzLmhscy5yZWNvdmVyTWVkaWFFcnJvcigpO1xyXG4gICAgICAvLyAgICAgICBicmVhaztcclxuICAgICAgLy8gICAgIGRlZmF1bHQ6XHJcbiAgICAgIC8vICAgICAgIHRoaXMuaGxzLmRlc3Ryb3koKTtcclxuICAgICAgLy8gICAgICAgYnJlYWs7XHJcbiAgICAgIC8vICAgfVxyXG4gICAgICAvLyB9KTtcclxuICAgIH1cclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiZmluaXNoZWQgYXR0YWNoIG1lZGlhXCIpO1xyXG4gICAgLy8gIGVsc2UgaWYgKHRoaXMudmlkZW8uY2FuUGxheVR5cGUoXCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiKSkge1xyXG4gICAgLy8gICB0aGlzLnZpZGVvLnNyYyA9IHRoaXMudmlkZW9PYmplY3QuZmlsZTtcclxuICAgIC8vICAgaWYgKFV0aWxzLmlzSU9TKCkpIHtcclxuICAgIC8vICAgICBmcHNfZHJtLmluaXQoXHJcbiAgICAvLyAgICAgICB0aGlzLnZpZGVvLFxyXG4gICAgLy8gICAgICAgY29uZmlnLmZwc0NlcnRpZmljYXRlVXJsLFxyXG4gICAgLy8gICAgICAgdGhpcy52aWRlb09iamVjdC5hc3NldElkXHJcbiAgICAvLyAgICAgKTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gICB0aGlzLnZpZGVvLnBsYXlzSW5saW5lID0gdHJ1ZTtcclxuICAgIC8vICAgdGhpcy5zdGFydCgpO1xyXG4gICAgLy8gfVxyXG4gIH1cclxuICBmYWtlaW5pdCgpIHtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyID0ge1xyXG4gICAgICBkZWJ1ZzogZnVuY3Rpb24gKHR5cGUsIG1lc3NhZ2UpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0eXBlLCBtZXNzYWdlKTtcclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IGZ1bmN0aW9uICh0eXBlLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2codHlwZSwgbWVzc2FnZSk7XHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLnNldENhc3REZWJ1Z2dlcih0aGlzLmNhc3REZWJ1Z0xvZ2dlcik7XHJcbiAgICB0aGlzLnZpZGVvT2JqZWN0LmZpbGUgPVxyXG4gICAgICBcImh0dHBzOi8vdnAuZ2ppcmFmYS5uZXQvdnBzL3Byb2Qvb2RnZWh0eW8vZW5jb2RlL3Zqc215amhzL2hscy9tYXN0ZXJfZmlsZS5tM3U4XCI7XHJcbiAgICB0aGlzLnZpZGVvT2JqZWN0LmR1cmF0aW9uID0gMTE5O1xyXG4gICAgdGhpcy5yZWNlaXZlckNvbnRyb2xzLnNlZWtiYXIuYW5pbWF0ZVNlZWtiYXIoKTtcclxuICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy5pbml0T3ZlcmxheSh7XHJcbiAgICAgIHRpdGxlOiBcIlNvbWUgdGl0bGVcIixcclxuICAgICAgaW1hZ2VzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdXJsOiBcImh0dHBzOi8vbGlraS5namlyYWZhLmNvbS9hcGkvbWVkaWEvZ2p2aWRlby95cXowZ3EvcmV0aW5hLmpwZ1wiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9KTtcclxuICAgIHRoaXMuYWRzID0ge1xyXG4gICAgICBhZEN1ZVBvaW50czogWzMwXSxcclxuICAgICAgdmFzdHM6IFtcclxuICAgICAgICBbXCJodHRwczovL3ZwLWRldi5namlyYWZhLm5ldC92cHMvY29udGVudC92YXN0L3ByZXJvbGwtMi54bWxcIiwgbnVsbF0sXHJcbiAgICAgIF0sXHJcbiAgICB9O1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLmF0dGFjaE1lZGlhKCk7XHJcbiAgICB9LCA1MDAwKTtcclxuXHJcbiAgICB0aGlzLmJpbmRNZXRob2RzKCk7XHJcbiAgICAvLyB0aGlzLmJpbmRJbnRlcmNlcHRvcnMoKTtcclxuICAgIHRoaXMuYWRkUGxheWVyRXZlbnRzKCk7XHJcbiAgfVxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLmNvbnRleHQgPSBjYXN0LmZyYW1ld29yay5DYXN0UmVjZWl2ZXJDb250ZXh0LmdldEluc3RhbmNlKCk7XHJcblxyXG4gICAgdGhpcy5jb250ZXh0LnNldExvZ2dlckxldmVsKGNhc3QuZnJhbWV3b3JrLkxvZ2dlckxldmVsLkRFQlVHKTtcclxuXHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlciA9IGNhc3QuZGVidWcuQ2FzdERlYnVnTG9nZ2VyLmdldEluc3RhbmNlKCk7XHJcbiAgICB0aGlzLmNhc3REZWJ1Z0xvZ2dlci5zZXRFbmFibGVkKHRydWUpO1xyXG4gICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcodGhpcy5kZWJ1Z1RhZ3MuSU5JVCwgXCJjYXN0ZGVidWdnZXIgaW5pdGlhbGl6ZWRcIik7XHJcbiAgICB0aGlzLnBsYXllck1hbmFnZXIgPSB0aGlzLmNvbnRleHQuZ2V0UGxheWVyTWFuYWdlcigpO1xyXG4gICAgdGhpcy5wbGF5ZXJNYW5hZ2VyLnNldE1lZGlhRWxlbWVudCh0aGlzLnZpZGVvKTtcclxuXHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuc2V0Q2FzdERlYnVnZ2VyKHRoaXMuY2FzdERlYnVnTG9nZ2VyKTtcclxuICAgIC8vIHRoaXMucGxheWJhY2tDb25maWcuYXV0b1Jlc3VtZUR1cmF0aW9uID0gNTtcclxuICAgIC8vIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmluZm8oTE9HX1JFQ0VJVkVSX1RBRywgYGF1dG9pbml0OiBgKTtcclxuICAgIC8vIHRoaXMuY29udHJvbHMuY2xlYXJEZWZhdWx0U2xvdEFzc2lnbm1lbnRzKCk7XHJcbiAgICAvLyB0aGlzLmRyYXdCdXR0b25zKCk7XHJcblxyXG4gICAgLy8gY29udGV4dC5zdGFydCh7XHJcbiAgICAvLyAgIHF1ZXVlOiBuZXcgQ2FzdFF1ZXVlKCksXHJcbiAgICAvLyAgIHBsYXliYWNrQ29uZmlnOiB0aGlzLnBsYXliYWNrQ29uZmlnLFxyXG4gICAgLy8gICBzdXBwb3J0ZWRDb21tYW5kczpcclxuICAgIC8vICAgICBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5Db21tYW5kLkFMTF9CQVNJQ19NRURJQSB8XHJcbiAgICAvLyAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuQ29tbWFuZC5RVUVVRV9QUkVWIHxcclxuICAgIC8vICAgICBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5Db21tYW5kLlFVRVVFX05FWFQgfFxyXG4gICAgLy8gICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkNvbW1hbmQuU1RSRUFNX1RSQU5TRkVSLFxyXG4gICAgLy8gfSk7XHJcbiAgICAvLyB0aGlzLmJpbmRJbnRlcmNlcHRvcnMoKTtcclxuICAgIC8vIHRoaXMudmlkZW9PYmplY3QuZmlsZSA9XHJcbiAgICAvLyAgIFwiaHR0cHM6Ly92cC5namlyYWZhLm5ldC92cHMvcHJvZC9vZGdlaHR5by9lbmNvZGUvdmpzbXlsZHMvbXA0LzM2MHAubXA0XCI7XHJcbiAgICAvLyB0aGlzLmF0dGFjaE1lZGlhKCk7XHJcbiAgICBjb25zdCBvcHRpb25zID0gbmV3IGNhc3QuZnJhbWV3b3JrLkNhc3RSZWNlaXZlck9wdGlvbnMoKTtcclxuICAgIC8vIE1hcCBvZiBuYW1lc3BhY2UgbmFtZXMgdG8gdGhlaXIgdHlwZXMuXHJcbiAgICBvcHRpb25zLmN1c3RvbU5hbWVzcGFjZXMgPSB7fTtcclxuICAgIG9wdGlvbnMuY3VzdG9tTmFtZXNwYWNlc1t0aGlzLk5BTUVTUEFDRV0gPVxyXG4gICAgICBjYXN0LmZyYW1ld29yay5zeXN0ZW0uTWVzc2FnZVR5cGUuSlNPTjtcclxuICAgIHRoaXMuY29udGV4dC5zdGFydChvcHRpb25zKTtcclxuICAgIHRoaXMuYmluZE1ldGhvZHMoKTtcclxuICAgIHRoaXMuYmluZEludGVyY2VwdG9ycygpO1xyXG4gICAgdGhpcy5hZGRQbGF5ZXJFdmVudHMoKTtcclxuICB9XHJcbiAgb25TZWVrKHJlcXVlc3REYXRhKSB7XHJcbiAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gcmVxdWVzdERhdGEuY3VycmVudFRpbWU7XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuc2hvd0NvbnRyb2xzKCk7XHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuaGlkZUNvbnRyb2xzKDYwMDApO1xyXG5cclxuICAgIHRoaXMucmVjZWl2ZXJDb250cm9scy51cGRhdGUodGhpcy51cGRhdGVQbGF5ZXJTdGF0ZSgpKTtcclxuICB9XHJcbiAgZHJhd0J1dHRvbnMoKSB7XHJcbiAgICB0aGlzLmNvbnRyb2xzLmFzc2lnbkJ1dHRvbihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNTbG90LlNMT1RfU0VDT05EQVJZXzEsXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnVpLkNvbnRyb2xzQnV0dG9uLlFVRVVFX1BSRVZcclxuICAgICk7XHJcbiAgICB0aGlzLmNvbnRyb2xzLmFzc2lnbkJ1dHRvbihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNTbG90LlNMT1RfUFJJTUFSWV8xLFxyXG4gICAgICBjYXN0LmZyYW1ld29yay51aS5Db250cm9sc0J1dHRvbi5DQVBUSU9OU1xyXG4gICAgKTtcclxuICAgIHRoaXMuY29udHJvbHMuYXNzaWduQnV0dG9uKFxyXG4gICAgICBjYXN0LmZyYW1ld29yay51aS5Db250cm9sc1Nsb3QuU0xPVF9QUklNQVJZXzIsXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLnVpLkNvbnRyb2xzQnV0dG9uLlNFRUtfRk9SV0FSRF8xNVxyXG4gICAgKTtcclxuICAgIHRoaXMuY29udHJvbHMuYXNzaWduQnV0dG9uKFxyXG4gICAgICBjYXN0LmZyYW1ld29yay51aS5Db250cm9sc1Nsb3QuU0xPVF9TRUNPTkRBUllfMixcclxuICAgICAgY2FzdC5mcmFtZXdvcmsudWkuQ29udHJvbHNCdXR0b24uUVVFVUVfTkVYVFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGJpbmRJbnRlcmNlcHRvcnMoKSB7XHJcbiAgICB0aGlzLmNvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsuc3lzdGVtLkV2ZW50VHlwZS5TRU5ERVJfRElTQ09OTkVDVEVELFxyXG4gICAgICAoZXZlbnQpID0+IHtcclxuICAgICAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIC8vIHRoaXMuY29udGV4dC5hZGRDdXN0b21NZXNzYWdlTGlzdGVuZXIoTkFNRVNQQUNFLCAoZXZlbnQpID0+IHtcclxuICAgIC8vICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAvLyAgICAgdGhpcy5kZWJ1Z1RhZ3MuRVZFTlRTLFxyXG4gICAgLy8gICAgIFwiYWRkQ3VzdG9tTWVzc2FnZUxpc3RlbmVyXCIgKyBldmVudC5kYXRhXHJcbiAgICAvLyAgICk7XHJcbiAgICAvLyB9KTtcclxuICAgIHRoaXMucGxheWVyTWFuYWdlci5zZXRNZXNzYWdlSW50ZXJjZXB0b3IoXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLk1lc3NhZ2VUeXBlLkxPQUQsXHJcbiAgICAgIHRoaXMub25Mb2FkUmVxdWVzdC5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gICAgdGhpcy5wbGF5ZXJNYW5hZ2VyLnNldE1lc3NhZ2VJbnRlcmNlcHRvcihcclxuICAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuTWVzc2FnZVR5cGUuUExBWSxcclxuICAgICAgdGhpcy5vblBsYXkuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucGxheWVyTWFuYWdlci5zZXRNZXNzYWdlSW50ZXJjZXB0b3IoXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLk1lc3NhZ2VUeXBlLlBBVVNFLFxyXG4gICAgICB0aGlzLm9uUGF1c2UuYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMucGxheWVyTWFuYWdlci5zZXRNZXNzYWdlSW50ZXJjZXB0b3IoXHJcbiAgICAgIGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLk1lc3NhZ2VUeXBlLlNFRUssXHJcbiAgICAgIHRoaXMub25TZWVrLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgfVxyXG4gIGJpbmRNZXRob2RzKCkge1xyXG4gICAgdGhpcy5iaW5kSW50ZXJjZXB0b3JzID0gdGhpcy5iaW5kSW50ZXJjZXB0b3JzLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLm9uTG9hZFJlcXVlc3QgPSB0aGlzLm9uTG9hZFJlcXVlc3QuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuYXR0YWNoTWVkaWEgPSB0aGlzLmF0dGFjaE1lZGlhLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnN0YXJ0ID0gdGhpcy5zdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5hZGRQbGF5ZXJFdmVudHMgPSB0aGlzLmFkZFBsYXllckV2ZW50cy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vblRpbWVVcGRhdGUgPSB0aGlzLm9uVGltZVVwZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vblBsYXkgPSB0aGlzLm9uUGxheS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vblBhdXNlID0gdGhpcy5vblBhdXNlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnVwZGF0ZVBsYXllclN0YXRlID0gdGhpcy51cGRhdGVQbGF5ZXJTdGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vbkVuZCA9IHRoaXMub25FbmQuYmluZCh0aGlzKTtcclxuICB9XHJcbiAgb25Mb2FkUmVxdWVzdChsb2FkUmVxdWVzdERhdGEpIHtcclxuICAgIC8vIElmIHRoZSBsb2FkUmVxdWVzdERhdGEgaXMgaW5jb21wbGV0ZSByZXR1cm4gYW4gZXJyb3IgbWVzc2FnZVxyXG4gICAgLy8gaWYgKCFsb2FkUmVxdWVzdERhdGEgfHwgIWxvYWRSZXF1ZXN0RGF0YS5tZWRpYSkge1xyXG4gICAgLy8gICBjb25zdCBlcnJvciA9IG5ldyBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5FcnJvckRhdGEoXHJcbiAgICAvLyAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuRXJyb3JUeXBlLkxPQURfRkFJTEVEXHJcbiAgICAvLyAgICk7XHJcbiAgICAvLyAgIGVycm9yLnJlYXNvbiA9IGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkVycm9yUmVhc29uLklOVkFMSURfUkVRVUVTVDtcclxuICAgIC8vICAgcmV0dXJuIGVycm9yO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIC8vIGNoZWNrIGFsbCBjb250ZW50IHNvdXJjZSBmaWVsZHMgZm9yIGFzc2V0IFVSTCBvciBJRFxyXG4gICAgLy8gbGV0IHNvdXJjZSA9XHJcbiAgICAvLyAgIGxvYWRSZXF1ZXN0RGF0YS5tZWRpYS5jb250ZW50VXJsIHx8XHJcbiAgICAvLyAgIGxvYWRSZXF1ZXN0RGF0YS5tZWRpYS5lbnRpdHkgfHxcclxuICAgIC8vICAgbG9hZFJlcXVlc3REYXRhLm1lZGlhLmNvbnRlbnRJZDtcclxuXHJcbiAgICB0aGlzLnJlY2VpdmVyQ29udHJvbHMuaW5pdE92ZXJsYXkobG9hZFJlcXVlc3REYXRhLm1lZGlhLm1ldGFkYXRhKTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiVlByZWNlaXZlclwiLCBsb2FkUmVxdWVzdERhdGEubWVkaWEuY29udGVudElkKTtcclxuICAgIHRoaXMuY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFwiVlByZWNlaXZlcjFcIiwgSGxzLmlzU3VwcG9ydGVkKCkpO1xyXG4gICAgdGhpcy52aWRlb09iamVjdC5maWxlID0gbG9hZFJlcXVlc3REYXRhLm1lZGlhLmNvbnRlbnRJZDtcclxuICAgIHRoaXMudmlkZW9PYmplY3QuZHVyYXRpb24gPSBsb2FkUmVxdWVzdERhdGEubWVkaWEubWV0YWRhdGEuZHVyYXRpb247XHJcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gbG9hZFJlcXVlc3REYXRhLmN1cnJlbnRUaW1lO1xyXG4gICAgdGhpcy5wbGF5YmFja1JhdGUgPSBsb2FkUmVxdWVzdERhdGEucGxheWJhY2tSYXRlO1xyXG4gICAgdGhpcy5hdXRvcGxheSA9IGxvYWRSZXF1ZXN0RGF0YS5hdXRvcGxheTtcclxuICAgIHRoaXMuYWRzID0ge1xyXG4gICAgICBhZEN1ZVBvaW50czogWzMwXSxcclxuICAgICAgdmFzdHM6IFtcclxuICAgICAgICBbXHJcbiAgICAgICAgICBsb2FkUmVxdWVzdERhdGEuY3VzdG9tRGF0YS52YXN0VXJsLFxyXG4gICAgICAgICAgbG9hZFJlcXVlc3REYXRhLmN1c3RvbURhdGEudmFzdFhtbCxcclxuICAgICAgICBdLFxyXG4gICAgICBdLFxyXG4gICAgfTtcclxuICAgIC8vIHRyeSB7XHJcbiAgICB0aGlzLmNvbmZpZy5yZXBsYXkgPVxyXG4gICAgICB0eXBlb2YgbG9hZFJlcXVlc3REYXRhLnJlcGxheSAhPT0gXCJ1bmRlZmluZWRcIlxyXG4gICAgICAgID8gbG9hZFJlcXVlc3REYXRhLnJlcGxheVxyXG4gICAgICAgIDogdHJ1ZTtcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuYXR0YWNoTWVkaWEoKTtcclxuICAgICAgdGhpcy5icm9hZGNhc3Qoe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiYXR0YWNoaW5nIG1lZGlhXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyBpZiAoXHJcbiAgICAgIC8vICAgbG9hZFJlcXVlc3REYXRhLmN1c3RvbURhdGEudmFzdFVybCB8fFxyXG4gICAgICAvLyAgIGxvYWRSZXF1ZXN0RGF0YS5jdXN0b21EYXRhLnZhc3RYbWxcclxuICAgICAgLy8gKSB7XHJcbiAgICAgIC8vICAgLy8gdGhpcy5wbGF5ZXJNYW5hZ2VyLnNldE1lZGlhRWxlbWVudCh0aGlzLnZpZGVvKTtcclxuICAgICAgLy8gICB0aGlzLmJyb2FkY2FzdCh7XHJcbiAgICAgIC8vICAgICBtZXNzYWdlOiBcInBsYXlpbmcgYWRcIixcclxuICAgICAgLy8gICB9KTtcclxuICAgICAgLy8gICB0aGlzLnZhc3RTZXJ2aWNlLmxvYWRBZHMoXHJcbiAgICAgIC8vICAgICBsb2FkUmVxdWVzdERhdGEuY3VzdG9tRGF0YS52YXN0VXJsLFxyXG4gICAgICAvLyAgICAgbG9hZFJlcXVlc3REYXRhLmN1c3RvbURhdGEudmFzdFhtbFxyXG4gICAgICAvLyAgICk7XHJcbiAgICAgIC8vICAgdGhpcy5icm9hZGNhc3Qoe1xyXG4gICAgICAvLyAgICAgbWVzc2FnZTogXCJhZCBsb2FkaW5nIGZpbmlzaGVkXCIsXHJcbiAgICAgIC8vICAgfSk7XHJcbiAgICAgIC8vICAgdGhpcy5jYXN0RGVidWdMb2dnZXIuZGVidWcoXHJcbiAgICAgIC8vICAgICB0aGlzLmRlYnVnVGFncy5MT0FEX1JFUVVFU1QsXHJcbiAgICAgIC8vICAgICBcIkxvYWRpbmcgYWQgZmluaXNoZWRcIlxyXG4gICAgICAvLyAgICk7XHJcbiAgICAgIC8vICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgIC8vICAgdGhpcy5hdHRhY2hNZWRpYSgpO1xyXG4gICAgICAvLyAgIHRoaXMuYnJvYWRjYXN0KHtcclxuICAgICAgLy8gICAgIG1lc3NhZ2U6IFwiYXR0YWNoaW5nIG1lZGlhXCIsXHJcbiAgICAgIC8vICAgfSk7XHJcbiAgICAgIC8vIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRoaXMuYnJvYWRjYXN0KHtcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci50b1N0cmluZygpLFxyXG4gICAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICAgIC8vIElmIHRoZXJlIGlzIG5vIHNvdXJjZSBvciBhIG1hbGZvcm1lZCBJRCB0aGVuIHJldHVybiBhbiBlcnJvci5cclxuICAgIGlmICghc291cmNlIHx8IHNvdXJjZSA9PSBcIlwiIHx8ICFzb3VyY2UubWF0Y2goSURfUkVHRVgpKSB7XHJcbiAgICAgIGxldCBlcnJvciA9IG5ldyBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5FcnJvckRhdGEoXHJcbiAgICAgICAgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuRXJyb3JUeXBlLkxPQURfRkFJTEVEXHJcbiAgICAgICk7XHJcbiAgICAgIGVycm9yLnJlYXNvbiA9IGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkVycm9yUmVhc29uLklOVkFMSURfUkVRVUVTVDtcclxuICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzb3VyY2VJZCA9IHNvdXJjZS5tYXRjaChJRF9SRUdFWClbMV07XHJcblxyXG4gICAgLy8gQWRkIGJyZWFrcyB0byB0aGUgbWVkaWEgaW5mb3JtYXRpb24gYW5kIHNldCB0aGUgY29udGVudFVybFxyXG4gICAgcmV0dXJuIGFkZEJyZWFrcyhsb2FkUmVxdWVzdERhdGEubWVkaWEpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAvLyBJZiB0aGUgc291cmNlIGlzIGEgdXJsIHRoYXQgcG9pbnRzIHRvIGFuIGFzc2V0IGRvbid0IGZldGNoIGZyb20gYmFja2VuZFxyXG4gICAgICAgIGlmIChzb3VyY2VJZC5pbmNsdWRlcyhcIi5cIikpIHtcclxuICAgICAgICAgIGNhc3REZWJ1Z0xvZ2dlci5kZWJ1ZyhcclxuICAgICAgICAgICAgTE9HX1JFQ0VJVkVSX1RBRyxcclxuICAgICAgICAgICAgXCJJbnRlcmNlcHRvciByZWNlaXZlZCBmdWxsIFVSTFwiXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgbG9hZFJlcXVlc3REYXRhLm1lZGlhLmNvbnRlbnRVcmwgPSBzb3VyY2U7XHJcbiAgICAgICAgICByZXR1cm4gbG9hZFJlcXVlc3REYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmV0Y2ggdGhlIGNvbnRlbnRVcmwgaWYgcHJvdmlkZWQgYW4gSUQgb3IgZW50aXR5IFVSTFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgY2FzdERlYnVnTG9nZ2VyLmRlYnVnKExPR19SRUNFSVZFUl9UQUcsIFwiSW50ZXJjZXB0b3IgcmVjZWl2ZWQgSURcIik7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaE1lZGlhQnlJZChzb3VyY2VJZCkudGhlbigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbWV0YWRhdGEgPSBuZXcgY2FzdC5mcmFtZXdvcmsubWVzc2FnZXMuR2VuZXJpY01lZGlhTWV0YWRhdGEoKTtcclxuICAgICAgICAgICAgbWV0YWRhdGEudGl0bGUgPSBpdGVtLnRpdGxlO1xyXG4gICAgICAgICAgICBtZXRhZGF0YS5zdWJ0aXRsZSA9IGl0ZW0uZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgIGxvYWRSZXF1ZXN0RGF0YS5tZWRpYS5jb250ZW50SWQgPSBpdGVtLnN0cmVhbS5kYXNoO1xyXG4gICAgICAgICAgICBsb2FkUmVxdWVzdERhdGEubWVkaWEuY29udGVudFR5cGUgPSBcImFwcGxpY2F0aW9uL2Rhc2greG1sXCI7XHJcbiAgICAgICAgICAgIGxvYWRSZXF1ZXN0RGF0YS5tZWRpYS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xyXG4gICAgICAgICAgICByZXR1cm4gbG9hZFJlcXVlc3REYXRhO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yTWVzc2FnZSkgPT4ge1xyXG4gICAgICAgIGxldCBlcnJvciA9IG5ldyBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5FcnJvckRhdGEoXHJcbiAgICAgICAgICBjYXN0LmZyYW1ld29yay5tZXNzYWdlcy5FcnJvclR5cGUuTE9BRF9GQUlMRURcclxuICAgICAgICApO1xyXG4gICAgICAgIGVycm9yLnJlYXNvbiA9IGNhc3QuZnJhbWV3b3JrLm1lc3NhZ2VzLkVycm9yUmVhc29uLklOVkFMSURfUkVRVUVTVDtcclxuICAgICAgICBjYXN0RGVidWdMb2dnZXIuZXJyb3IoTE9HX1JFQ0VJVkVSX1RBRywgZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICBhZGRCcmVha3MobWVkaWFJbmZvcm1hdGlvbikge1xyXG4gICAgY2FzdERlYnVnTG9nZ2VyLmRlYnVnKFxyXG4gICAgICBMT0dfUkVDRUlWRVJfVEFHLFxyXG4gICAgICBcImFkZEJyZWFrczogXCIgKyBKU09OLnN0cmluZ2lmeShtZWRpYUluZm9ybWF0aW9uKVxyXG4gICAgKTtcclxuICAgIHJldHVybiBmZXRjaE1lZGlhQnlJZChcImZiYl9hZFwiKS50aGVuKChjbGlwMSkgPT4ge1xyXG4gICAgICBtZWRpYUluZm9ybWF0aW9uLmJyZWFrQ2xpcHMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IFwiZmJiX2FkXCIsXHJcbiAgICAgICAgICB0aXRsZTogY2xpcDEudGl0bGUsXHJcbiAgICAgICAgICBjb250ZW50VXJsOiBjbGlwMS5zdHJlYW0uZGFzaCxcclxuICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2Rhc2greG1sXCIsXHJcbiAgICAgICAgICB3aGVuU2tpcHBhYmxlOiA1LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBtZWRpYUluZm9ybWF0aW9uLmJyZWFrcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogXCJwcmUtcm9sbFwiLFxyXG4gICAgICAgICAgYnJlYWtDbGlwSWRzOiBbXCJmYmJfYWRcIl0sXHJcbiAgICAgICAgICBwb3NpdGlvbjogMCxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGZldGNoTWVkaWFCeUlkKGlkKSB7XHJcbiAgICBjYXN0RGVidWdMb2dnZXIuZGVidWcoTE9HX1JFQ0VJVkVSX1RBRywgXCJmZXRjaGluZyBpZDogXCIgKyBpZCk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChhY2NlcHQsIHJlamVjdCkgPT4ge1xyXG4gICAgICBmZXRjaChDT05URU5UX1VSTClcclxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgICAgICAudGhlbigob2JqKSA9PiB7XHJcbiAgICAgICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgICAgIGlmIChvYmpbaWRdKSB7XHJcbiAgICAgICAgICAgICAgYWNjZXB0KG9ialtpZF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlamVjdChgJHtpZH0gbm90IGZvdW5kIGluIHJlcG9zaXRvcnlgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVqZWN0KFwiQ29udGVudCByZXBvc2l0b3J5IG5vdCBmb3VuZC5cIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlY2VpdmVyO1xyXG4iXSwibmFtZXMiOlsidGltZSIsImhvdXJzIiwiTWF0aCIsImZsb29yIiwibWludXRlcyIsInNlY29uZHMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiY29uc3RydWN0b3IiLCJpZCIsInJlY2VpdmVyIiwidGhpcyIsInNlZWtiYXIiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FzdGRlYnVnZ2VyIiwic2hvdyIsInNwZWVkIiwiaW50ZXJ2YWwiLCJjYW5jZWxBbmltYXRpb24iLCJpbml0aWFsTGVmdFBvc2l0aW9uIiwic3R5bGUiLCJsZWZ0Iiwic2V0Q2FzdERlYnVnZ2VyIiwic2V0UHJvZ3Jlc3MiLCJkdXJhdGlvbiIsIndpZHRoIiwic2hvd0hpZGUiLCJ0aW1pbmciLCJkZWJ1ZyIsInBhcmVudEVsZW1lbnQiLCJkaXNwbGF5Iiwic2V0VGltZW91dCIsImFuaW1hdGVTZWVrYmFyIiwicG9zaXRpb24iLCJ0b3RhbHdpZHRoIiwiY2xpZW50V2lkdGgiLCJpbm5lckZ1bmN0aW9uIiwibGVmdFBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdFBhcmVudFBvc2l0aW9uIiwicmlnaHQiLCJyaWdodFBhcmVudFBvc2l0aW9uIiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicmVzZXQiLCJ0aW1lciIsInRleHRDb250ZW50IiwidXBkYXRlIiwiY3VycmVudFRpbWUiLCJVdGlscyIsImNhc3REZWJ1Z2dlciIsIm92ZXJsYXkiLCJpbmZvIiwiY2hpbGRyZW4iLCJsb2FkZXIiLCJwbGF5SWNvbiIsInBhdXNlSWNvbiIsInZpZGVvSW5mbyIsInNwbGFzaFNjcmVlbiIsInRodW1ibmFpbCIsInBhdXNlIiwicGxheSIsInN0YXRlIiwiaGlkZUNvbnRyb2xzIiwic2hvd0NvbnRyb2xzIiwicmVzZXRPdmVybGF5IiwiaW5pdE92ZXJsYXkiLCJtZXRhZGF0YSIsImltYWdlcyIsImxlbmd0aCIsInNyYyIsInVybCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJWYXN0U2VydmljZSIsImFkQ29udGFpbmVyIiwiYWRzRGlzcGxheUNvbnRhaW5lciIsImFkc0xvYWRlciIsImFkc0Rpc3BsYXlJbml0aWFsaXplZCIsImN1cnJlbnRBZHMiLCJpbml0aWFsaXplZCIsImF1dG9wbGF5QWxsb3dlZCIsImF1dG9wbGF5UmVxdWlyZXNNdXRlZCIsImhhc0Vycm9ycyIsImluaXQiLCJnb29nbGUiLCJpbWEiLCJzZXR0aW5ncyIsInNldFZwYWlkTW9kZSIsIkltYVNka1NldHRpbmdzIiwiVnBhaWRNb2RlIiwiRU5BQkxFRCIsIkFkRGlzcGxheUNvbnRhaW5lciIsInZpZGVvIiwiQWRzTG9hZGVyIiwiZ2V0U2V0dGluZ3MiLCJzZXRQbGF5ZXJUeXBlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkFkc01hbmFnZXJMb2FkZWRFdmVudCIsIlR5cGUiLCJBRFNfTUFOQUdFUl9MT0FERUQiLCJvbkFkc01hbmFnZXJMb2FkZWQiLCJiaW5kIiwiQWRFcnJvckV2ZW50IiwiQURfRVJST1IiLCJvbkFkRXJyb3IiLCJvbkFsbEFkc0NvbXBsZXRlZCIsImUiLCJjYXN0RGVidWdMb2dnZXIiLCJERUJVR19WQVNUX1NFUlZJQ0UiLCJvbkFkQ29tcGxldGVkIiwiYWRzTWFuYWdlciIsImRlc3Ryb3kiLCJpc0FkUGxheWluZyIsIm9uRW5kIiwib25Db250ZW50UGF1c2VSZXF1ZXN0ZWQiLCJvbkNvbnRlbnRSZXN1bWVSZXF1ZXN0ZWQiLCJvbkFkTG9hZGVkIiwibG9hZEFkcyIsInZhc3RVcmwiLCJ2YXN0WG1sIiwiY29udGVudCIsInR5cGUiLCJjdXJyZW50QWRJbmRleCIsImxvYWQiLCJhZHNSZXF1ZXN0IiwiQWRzUmVxdWVzdCIsImFkVGFnVXJsIiwiYWRzUmVzcG9uc2UiLCJsaW5lYXJBZFNsb3RXaWR0aCIsImxpbmVhckFkU2xvdEhlaWdodCIsImNsaWVudEhlaWdodCIsIm5vbkxpbmVhckFkU2xvdFdpZHRoIiwibm9uTGluZWFyQWRTbG90SGVpZ2h0Iiwic2V0QWRXaWxsQXV0b1BsYXkiLCJzZXRBZFdpbGxQbGF5TXV0ZWQiLCJ2YXN0TG9hZFRpbWVvdXQiLCJyZXF1ZXN0QWRzIiwib25UaW1lVXBkYXRlIiwib25BZFNraXAiLCJvbkFkU3RhcnRlZCIsImFkc01hbmFnZXJMb2FkZWRFdmVudCIsImFkc1JlbmRlcmluZ1NldHRpbmdzIiwiQWRzUmVuZGVyaW5nU2V0dGluZ3MiLCJnZXRBZHNNYW5hZ2VyIiwiQWRFdmVudCIsIkNPTlRFTlRfUEFVU0VfUkVRVUVTVEVEIiwiQ09OVEVOVF9SRVNVTUVfUkVRVUVTVEVEIiwiQUxMX0FEU19DT01QTEVURUQiLCJMT0FERUQiLCJTVEFSVEVEIiwiQ09NUExFVEUiLCJTS0lQUEVEIiwiQURfUFJPR1JFU1MiLCJBRF9CVUZGRVJJTkciLCJsb2FkaW5nIiwiU0tJUFBBQkxFX1NUQVRFX0NIQU5HRUQiLCJmaXJlIiwiRXZlbnRzIiwiYWRFdmVudHMiLCJBRF9TS0lQUEFCTEUiLCJwbGF5ZXIiLCJhZFBsYXlJZCIsImdldEN1cnJlbnRBZCIsImdldEFkSWQiLCJwbGF5QWRzIiwiaW5pdGlhbGl6ZSIsImhlaWdodCIsIlZpZXdNb2RlIiwiRlVMTFNDUkVFTiIsInN0YXJ0IiwicmVjZWl2ZXJDb250cm9scyIsImFkRXJyb3IiLCJnZXRNZXNzYWdlIiwicmVzdW1lIiwidnBSZWNlaXZlciIsImNvbmZpZyIsImNvbnRleHQiLCJwbGF5ZXJNYW5hZ2VyIiwiYXBwSWQiLCJwbGF5YmFja0NvbmZpZyIsImNvbnRyb2xzIiwiaGxzIiwidmlkZW9PYmplY3QiLCJ2aWRlb0NvbnRhaW5lciIsInBsYXliYWNrUmF0ZSIsImF1dG9wbGF5IiwiUmVjZWl2ZXJDb250cm9scyIsIm1lZGlhTWFuYWdlciIsImNhc3RSZWNlaXZlck1hbmFnZXIiLCJ2aWRlb1N0YXJ0ZWQiLCJ2YXN0U2VydmljZSIsImFkcyIsImRlYnVnVGFncyIsIkxPQURfUkVRVUVTVCIsIkFUVEFDSF9NRURJQSIsIk9OUExBWSIsIlNUQVJUIiwiSU5JVCIsIkVWRU5UUyIsIk9ORU5EIiwiQlJPQURDQVNUIiwiTkFNRVNQQUNFIiwib25QbGF5IiwiZ2V0QXR0cmlidXRlIiwidGhlbiIsImNhdGNoIiwib25QYXVzZSIsImJyb2FkY2FzdCIsImFkZFBsYXllckV2ZW50cyIsIm1lc3NhZ2UiLCJzZW5kQ3VzdG9tTWVzc2FnZSIsInVuZGVmaW5lZCIsInJlcGxheSIsImNvZGUiLCJzZXRNZWRpYUVsZW1lbnQiLCJhdHRhY2hNZWRpYSIsImFkQ3VlUG9pbnRzIiwiaW5jbHVkZXMiLCJ2YXN0cyIsInBvcCIsInVwZGF0ZVBsYXllclN0YXRlIiwiSExTc3VwcG9ydGVkIiwiSGxzIiwiaXNTdXBwb3J0ZWQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlsZSIsImVuZHNXaXRoIiwib24iLCJNRURJQV9BVFRBQ0hFRCIsInN0YXJ0TGV2ZWwiLCJsb2FkU291cmNlIiwiTUFOSUZFU1RfUEFSU0VEIiwiZXZlbnQiLCJkYXRhIiwiRVJST1IiLCJkZXRhaWxzIiwiZmFrZWluaXQiLCJiaW5kTWV0aG9kcyIsImNhc3QiLCJmcmFtZXdvcmsiLCJDYXN0UmVjZWl2ZXJDb250ZXh0IiwiZ2V0SW5zdGFuY2UiLCJzZXRMb2dnZXJMZXZlbCIsIkxvZ2dlckxldmVsIiwiREVCVUciLCJDYXN0RGVidWdMb2dnZXIiLCJzZXRFbmFibGVkIiwiZ2V0UGxheWVyTWFuYWdlciIsIm9wdGlvbnMiLCJDYXN0UmVjZWl2ZXJPcHRpb25zIiwiY3VzdG9tTmFtZXNwYWNlcyIsInN5c3RlbSIsIk1lc3NhZ2VUeXBlIiwiYmluZEludGVyY2VwdG9ycyIsIm9uU2VlayIsInJlcXVlc3REYXRhIiwiZHJhd0J1dHRvbnMiLCJhc3NpZ25CdXR0b24iLCJ1aSIsIkNvbnRyb2xzU2xvdCIsIlNMT1RfU0VDT05EQVJZXzEiLCJDb250cm9sc0J1dHRvbiIsIlFVRVVFX1BSRVYiLCJTTE9UX1BSSU1BUllfMSIsIkNBUFRJT05TIiwiU0xPVF9QUklNQVJZXzIiLCJTRUVLX0ZPUldBUkRfMTUiLCJTTE9UX1NFQ09OREFSWV8yIiwiUVVFVUVfTkVYVCIsIkV2ZW50VHlwZSIsIlNFTkRFUl9ESVNDT05ORUNURUQiLCJjbG9zZSIsInNldE1lc3NhZ2VJbnRlcmNlcHRvciIsIm1lc3NhZ2VzIiwiTE9BRCIsIm9uTG9hZFJlcXVlc3QiLCJQTEFZIiwiUEFVU0UiLCJTRUVLIiwibG9hZFJlcXVlc3REYXRhIiwibWVkaWEiLCJjb250ZW50SWQiLCJjdXN0b21EYXRhIiwic3RhY2siLCJhZGRCcmVha3MiLCJtZWRpYUluZm9ybWF0aW9uIiwiTE9HX1JFQ0VJVkVSX1RBRyIsImZldGNoTWVkaWFCeUlkIiwiY2xpcDEiLCJicmVha0NsaXBzIiwiY29udGVudFVybCIsInN0cmVhbSIsImRhc2giLCJjb250ZW50VHlwZSIsIndoZW5Ta2lwcGFibGUiLCJicmVha3MiLCJicmVha0NsaXBJZHMiLCJQcm9taXNlIiwiYWNjZXB0IiwicmVqZWN0IiwiZmV0Y2giLCJDT05URU5UX1VSTCIsInJlc3BvbnNlIiwianNvbiIsIm9iaiJdLCJzb3VyY2VSb290IjoiIn0=